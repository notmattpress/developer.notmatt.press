
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/themes/">Theme Handbook</a></span><span><a href="https://developer.wordpress.org/themes/features/">Features</a></span><span class="is-current-page">Block Patterns (Archived)</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>Block Patterns (Archived)</h1>
    
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-block-post-content-is-layout-flow">
<div class="wp-block-wporg-notice is-alert-notice"><div class="wp-block-wporg-notice__icon"></div><div class="wp-block-wporg-notice__content"><p>This documentation article has now been archived and replaced with the newer <a href="https://developer.notmatt.press/themes/patterns/">Patterns chapter</a> of the Theme Handbook. Please refer to that page for the most up-to-date information on patterns.</p></div></div>
<p>Block patterns are one of the most powerful features at a theme author’s disposal. Introduced in WordPress 5.4, patterns made it easier for users to insert more complex layouts from the block editor while opening a world of possibilities to designers.</p>
<h2 class="is-toc-heading wp-block-heading" id="what-are-block-patterns" tabindex="-1"><a href="#what-are-block-patterns">What are block patterns? </a></h2>
<p>Essentially, a block pattern is nothing more than one or more blocks that have been pre-configured and presented to the end-user. Think of them as reusable groups of blocks.</p>
<p>They are ideal as starting points for users to insert into their post and page content, but they are also useful when used inside of templates.</p>
<p>Users can insert them directly into a template from the Site Editor or into their content from the Post Editor:</p>
<figure class="wp-block-image size-full"><a href="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert.jpg?ssl=1"><img alt="WordPress post editor with the Inserter open and the Patterns tab selected." class="wp-image-149263" data-recalc-dims="1" decoding="async" fetchpriority="high" height="1072" sizes="(max-width: 1000px) 100vw, 1000px" src="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert.jpg?resize=2048%2C1072&amp;ssl=1" srcset="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert.jpg?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert.jpg?resize=300%2C157&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert.jpg?resize=1024%2C536&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert.jpg?resize=768%2C402&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert.jpg?resize=1536%2C804&amp;ssl=1 1536w" width="2048"/></a></figure>
<p>In comparison to <a href="https://developer.notmatt.press/themes/templates/template-parts/">template parts</a>, which is a similar feature for reusable groups of blocks, patterns also give you access to PHP. This means that you can internationalize text within them, dynamically add URLs to include images, and more.</p>
<p>Note that users can also create and manage custom patterns from the <strong>Appearance &gt; Editor &gt; Patterns</strong> screen in the admin. You can also use this screen to manage your own patterns in your development install:</p>
<figure class="wp-block-image size-full"><a href="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-all.jpg?ssl=1"><img alt="WordPress patterns library in the admin showing the All Patterns screen. On the right, a three-column grid of patterns are shown in preview boxes." class="wp-image-149264" data-recalc-dims="1" decoding="async" height="1072" sizes="(max-width: 1000px) 100vw, 1000px" src="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-all.jpg?resize=2048%2C1072&amp;ssl=1" srcset="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-all.jpg?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-all.jpg?resize=300%2C157&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-all.jpg?resize=1024%2C536&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-all.jpg?resize=768%2C402&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-all.jpg?resize=1536%2C804&amp;ssl=1 1536w" width="2048"/></a></figure>
<h2 class="is-toc-heading wp-block-heading" id="working-with-block-patterns" tabindex="-1"><a href="#working-with-block-patterns">Working with block patterns</a></h2>
<p>In this section, you will learn how to create custom block patterns, register them in your theme, and unregister them. You will also learn some useful tips, tricks, and other methods for working with patterns.</p>
<h3 class="is-toc-heading wp-block-heading" id="creating-block-patterns" tabindex="-1"><a href="#creating-block-patterns">Creating block patterns</a></h3>
<p>The easiest way to learn to create block patterns is to start by putting a few blocks together in the Post Editor. This can be anything you like, but for the purposes of this article, the code shared below will be of a core Cover block with some blocks nested within it, following this structure:</p>
<ul class="wp-block-list">
<li>Group
<ul class="wp-block-list">
<li>Heading</li>
<li>Paragraph</li>
<li>Buttons
<ul class="wp-block-list">
<li>Button</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Try recreating this yourself, especially if you are just getting used to working with the block editor. You can also customize this however you like, but it’s recommended to keep this relatively simple for your first time creating a pattern.</p>
<p>Once you’re finished, click the <strong>⋮</strong> (Options) icon in the toolbar and click <strong>Copy</strong>:</p>
<figure class="wp-block-image size-full"><a href="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-create-copy.jpg?ssl=1"><img alt="WordPress post editor with a Cover block in the content canvas. A dropdown is open from the toolbar with the Copy button highlighted." class="wp-image-149265" data-recalc-dims="1" decoding="async" height="1072" sizes="(max-width: 1000px) 100vw, 1000px" src="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-create-copy.jpg?resize=2048%2C1072&amp;ssl=1" srcset="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-create-copy.jpg?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-create-copy.jpg?resize=300%2C157&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-create-copy.jpg?resize=1024%2C536&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-create-copy.jpg?resize=768%2C402&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-create-copy.jpg?resize=1536%2C804&amp;ssl=1 1536w" width="2048"/></a></figure>
<p>This will give you the code you need to work with, which should be similar to this:</p>
<pre class="wp-block-code"><code class="language-markup" lang="markup">&lt;!-- wp:cover {"overlayColor":"contrast","align":"full"} --&gt;
&lt;div class="wp-block-cover alignfull"&gt;&lt;span aria-hidden="true" class="wp-block-cover__background has-contrast-background-color has-background-dim-100 has-background-dim"&gt;&lt;/span&gt;&lt;div class="wp-block-cover__inner-container"&gt;&lt;!-- wp:group {"style":{"spacing":{"blockGap":"2.5rem"}},"layout":{"type":"constrained","wideSize":"%","contentSize":"75%"}} --&gt;
&lt;div class="wp-block-group"&gt;&lt;!-- wp:heading {"textAlign":"center"} --&gt;
&lt;h2 class="wp-block-heading has-text-align-center"&gt;Welcome to My Site&lt;/h2&gt;
&lt;!-- /wp:heading --&gt;

&lt;!-- wp:paragraph {"align":"center"} --&gt;
&lt;p class="has-text-align-center"&gt;This is my little home away from home. Here, you will get to know me.  I'll share my likes, hobbies, and more.  Every now and then, I'll even have something interesting to say in a blog post.&lt;/p&gt;
&lt;!-- /wp:paragraph --&gt;

&lt;!-- wp:buttons {"layout":{"type":"flex","justifyContent":"center"}} --&gt;
&lt;div class="wp-block-buttons"&gt;&lt;!-- wp:button {"className":"is-style-outline"} --&gt;
&lt;div class="wp-block-button is-style-outline"&gt;&lt;a class="wp-block-button__link wp-element-button"&gt;See My Popular Posts <span aria-hidden="true" class="wp-exclude-emoji">→</span>&lt;/a&gt;&lt;/div&gt;
&lt;!-- /wp:button --&gt;&lt;/div&gt;
&lt;!-- /wp:buttons --&gt;&lt;/div&gt;
&lt;!-- /wp:group --&gt;&lt;/div&gt;&lt;/div&gt;
&lt;!-- /wp:cover --&gt;</code></pre>
<p>For the remainder of this article, you will work with this same pattern, learning how to register it, unregister it, and customize it further.</p>
<div class="wp-block-wporg-notice is-tip-notice"><div class="wp-block-wporg-notice__icon"></div><div class="wp-block-wporg-notice__content"><p>It’s good practice to wrap most patterns in a Group, Cover, or other container block (i.e., a block that allows nested blocks). This makes it easier for your theme users to move the entire pattern around in the editor. You can also add a CSS class to this outer block for any custom styling that applies to the entire pattern.</p></div></div>
<h3 class="is-toc-heading wp-block-heading" id="registering-block-patterns" tabindex="-1"><a href="#registering-block-patterns">Registering block patterns</a></h3>
<p>There are two methods for registering block patterns in WordPress:</p>
<ul class="wp-block-list">
<li>By placing files with block markup in them into the <code>/patterns</code> folder in your theme.</li>
<li>By manually calling the <code>register_block_pattern()</code> function.</li>
</ul>
<p>The most straightforward route is the first. You’ll learn how to do both in the next sections, but this handbook will recommend using the <code>/patterns</code> folder except for in some edge cases.</p>
<h4 class="wp-block-heading">Using the /patterns directory to register patterns</h4>
<p>WordPress will recognize any pattern file placed in your theme’s <code>/patterns</code> folder, and it will automatically register it for you, provided that it has a valid pattern file header.</p>
<p>A <a href="https://codex.wordpress.org/File_Header">file header</a> is PHP-commented code with a list of key + value pairs at the top of a file. WordPress parses this information to gather metadata. In this case, the metadata is used to register a block pattern.</p>
<p>For pattern file headers, these are the keys that you can set:</p>
<ul class="wp-block-list">
<li><strong><code>Title</code>:</strong> A human-readable title that can be translated.</li>
<li><strong><code>Slug</code>:</strong> A namespaced slug that is unique to your pattern in the form of <code>namespace/pattern-name</code>.</li>
<li><strong><code>Categories</code>:</strong> A comma-separated list of categories in which the pattern belongs.</li>
<li><strong><code>Description</code>:</strong> The long description of the registered pattern. Only shown to screen readers.</li>
<li><strong><code>Viewport Width</code>:</strong> The width of the <code>&lt;iframe&gt;</code> viewport when previewing the pattern (in pixels).</li>
<li><strong><code>Inserter</code>:</strong> Whether to show the pattern in the inserter. Defaults to <code>true</code>.</li>
<li><strong><code>Keywords</code>:</strong> A comma-separated list of keywords related to the pattern for search.</li>
<li><strong><code>Block Types</code>:</strong> A comma-separated list of block types to associate the pattern with.</li>
<li><strong><code>Post Types</code>:</strong> A comma-separated list of post types in which to limit the pattern. Defaults to all post types.</li>
<li><strong><code>Template Types</code>:</strong> A comma-separated list of template types the pattern fits with.</li>
</ul>
<p>For most patterns, you should at least add the <code>Title</code>, <code>Slug</code>, and <code>Categories</code> fields. Pattern files should look like this:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php
/**
 * Title: Hero
 * Slug: themeslug/hero
 * Categories: featured
 */
?&gt;
&lt;!-- Pattern code goes here. --&gt;</code></pre>
<p>Now let’s add the code that you copied from the previous section into the <code>/patterns/hero.php</code> file in your theme:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php
/**
 * Title: Hero
 * Slug: themeslug/hero
 * Categories: featured
 */
?&gt;
&lt;!-- wp:cover {"overlayColor":"contrast","align":"full"} --&gt;
&lt;div class="wp-block-cover alignfull"&gt;&lt;span aria-hidden="true" class="wp-block-cover__background has-contrast-background-color has-background-dim-100 has-background-dim"&gt;&lt;/span&gt;&lt;div class="wp-block-cover__inner-container"&gt;&lt;!-- wp:group {"style":{"spacing":{"blockGap":"2.5rem"}},"layout":{"type":"constrained","wideSize":"%","contentSize":"75%"}} --&gt;
&lt;div class="wp-block-group"&gt;&lt;!-- wp:heading {"textAlign":"center"} --&gt;
&lt;h2 class="wp-block-heading has-text-align-center"&gt;Welcome to My Site&lt;/h2&gt;
&lt;!-- /wp:heading --&gt;

&lt;!-- wp:paragraph {"align":"center"} --&gt;
&lt;p class="has-text-align-center"&gt;This is my little home away from home. Here, you will get to know me. I'll share my likes, hobbies, and more. Every now and then, I'll even have something interesting to say in a blog post.&lt;/p&gt;
&lt;!-- /wp:paragraph --&gt;

&lt;!-- wp:buttons {"layout":{"type":"flex","justifyContent":"center"}} --&gt;
&lt;div class="wp-block-buttons"&gt;&lt;!-- wp:button {"className":"is-style-outline"} --&gt;
&lt;div class="wp-block-button is-style-outline"&gt;&lt;a class="wp-block-button__link wp-element-button"&gt;See My Popular Posts <span aria-hidden="true" class="wp-exclude-emoji">→</span>&lt;/a&gt;&lt;/div&gt;
&lt;!-- /wp:button --&gt;&lt;/div&gt;
&lt;!-- /wp:buttons --&gt;&lt;/div&gt;
&lt;!-- /wp:group --&gt;&lt;/div&gt;&lt;/div&gt;
&lt;!-- /wp:cover --&gt;</code></pre>
<p>Now if you add or edit a new post in WordPress, you should see your pattern listed in the inserter. Click the <strong>Patterns</strong> tab and select <strong>Featured</strong>:</p>
<figure class="wp-block-image size-full"><a href="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert-custom.jpg?ssl=1"><img alt="WordPress post editor with the Patterns &gt; Featured category selected in the Inserter. A single pattern is listed." class="wp-image-149266" data-recalc-dims="1" decoding="async" height="924" loading="lazy" sizes="auto, (max-width: 1000px) 100vw, 1000px" src="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert-custom.jpg?resize=2048%2C924&amp;ssl=1" srcset="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert-custom.jpg?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert-custom.jpg?resize=300%2C135&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert-custom.jpg?resize=1024%2C462&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert-custom.jpg?resize=768%2C347&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-insert-custom.jpg?resize=1536%2C693&amp;ssl=1 1536w" width="2048"/></a></figure>
<p>You should also be able to see your pattern listed under <strong>Appearance &gt; Editor &gt; Patterns</strong> in the WordPress admin.</p>
<h4 class="wp-block-heading">Using PHP to register patterns</h4>
<p>Instead of using the <code>/patterns</code> folder to auto-register your patterns, you may choose to manually register them via PHP. You can mix and match both registration methods, but an individual pattern must be registered with only one method.</p>
<p>To register block patterns with PHP, you must use the <a href="https://developer.notmatt.press/reference/functions/register_block_pattern/"><code>register_block_pattern()</code></a> function. Here is what its signature looks like:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">register_block_pattern( 
	string $pattern_name, 
	array $pattern_properties 
): bool</code></pre>
<p>The function accepts two parameters and returns <code>true</code> or <code>false</code>, depending on whether the pattern was successfully registered:</p>
<ul class="wp-block-list">
<li><strong><code>$pattern_name</code>: </strong>A namespaced slug that is unique to your pattern in the form of <code>namespace/pattern-name</code>.</li>
<li><strong><code>$pattern_properties</code>:</strong>
<ul class="wp-block-list">
<li><strong><code>content</code>:</strong> The block markup for the pattern.</li>
<li><strong><code>title</code>:</strong> A human-readable title that can be translated.</li>
<li><strong><code>slug</code>:</strong> A namespaced slug that is unique to your pattern in the form of <code>namespace/pattern-name</code>.</li>
<li><strong><code>categories</code>:</strong> An array of categories in which the pattern belongs.</li>
<li><strong><code>description</code>:</strong> The long description of the registered pattern. Only shown to screen readers.</li>
<li><strong><code>viewportWidth</code>:</strong> The width of the <code>&lt;iframe&gt;</code> viewport when previewing the pattern (in pixels).</li>
<li><strong><code>inserter</code>:</strong> Whether to show the pattern in the inserter. Defaults to <code>true</code>.</li>
<li><strong><code>keywords</code>:</strong> An array of keywords related to the pattern for search.</li>
<li><strong><code>blockTypes</code>:</strong> An array of block types to associate the pattern with.</li>
<li><strong><code>postTypes</code>:</strong> An array of post types in which to limit the pattern. Defaults to all post types.</li>
<li><strong><code>source</code>:</strong> The source for the registered pattern. This should be set to <code>theme</code> since the pattern is coming from a theme.</li>
<li><strong><code>templateTypes</code>:</strong> An array of template types the pattern fits with.</li>
</ul>
</li>
</ul>
<p>When registering patterns via PHP, you should do so on the <code>init</code> hook. Now try registering your custom pattern by adding this code in <code>functions.php</code> (be sure to add your custom markup to the <code>content</code> property):</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'init', 'themeslug_register_patterns' );

function themeslug_register_patterns() {
	register_block_pattern( 'themeslug/hero', array(
		'title'      =&gt; __( 'Hero', 'themeslug' ),
		'categories' =&gt; array( 'featured' ),
		'source'     =&gt; 'theme',
		'content'    =&gt; '&lt;!-- Block pattern goes here. --&gt;'
	) );
}</code></pre>
<h3 class="is-toc-heading wp-block-heading" id="including-patterns-in-templates" tabindex="-1"><a href="#including-patterns-in-templates">Including patterns in templates</a></h3>
<p>When building themes, patterns are not merely reusable sections of blocks that users can add to their content. That is a nice feature, but the true power of patterns is using them directly in your theme’s front-end output.</p>
<p>You can include patterns in your <a href="https://developer.notmatt.press/themes/templates/templates/">templates</a> or <a href="https://developer.notmatt.press/themes/templates/template-parts/">template parts</a> by adding the Pattern block markup and passing along the pattern slug.</p>
<p>Here is what the Pattern block markup would look like when calling your existing “hero” pattern:</p>
<pre class="wp-block-code"><code class="language-markup" lang="markup">&lt;!-- wp:pattern {"slug":"themeslug/hero"} /--&gt;</code></pre>
<p>That should be relatively straightforward. All you need to know is the <code>slug</code> value from when you registered the pattern.</p>
<p>Now try adding it to one of your theme’s templates, such as <code>/templates/home.html</code> or <code>/templates/index.html</code> below the header. Your template with the pattern code should look similar to this:</p>
<pre class="wp-block-code"><code class="language-markup" lang="markup">&lt;!-- wp:template-part {"slug":"header"} /--&gt;

&lt;!-- wp:pattern {"slug":"themeslug/hero"} /--&gt;

&lt;!-- Some other blocks. /--&gt;

&lt;!-- wp:template-part {"slug":"footer"} /--&gt;</code></pre>
<p>Now test the addition of the pattern in the Site Editor by going to <strong>Appearance &gt; Editor &gt; Templates</strong> and choosing the template you added it to:</p>
<figure class="wp-block-image size-full"><a href="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-template-include.jpg?ssl=1"><img alt="WordPress Site Editor showing the Blog posts index template. The content shows a Header template part and a block pattern with the Cover block beneath it." class="wp-image-149267" data-recalc-dims="1" decoding="async" height="924" loading="lazy" sizes="auto, (max-width: 1000px) 100vw, 1000px" src="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-template-include.jpg?resize=2048%2C924&amp;ssl=1" srcset="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-template-include.jpg?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-template-include.jpg?resize=300%2C135&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-template-include.jpg?resize=1024%2C462&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-template-include.jpg?resize=768%2C347&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-template-include.jpg?resize=1536%2C693&amp;ssl=1 1536w" width="2048"/></a></figure>
<h3 class="is-toc-heading wp-block-heading" id="unregistering-block-patterns" tabindex="-1"><a href="#unregistering-block-patterns">Unregistering block patterns</a></h3>
<p>There are times when you need to unregister block patterns so that they do not appear in the inserter for users. For example, you may want to remove some of the core WordPress patterns, those added by a parent theme (if you’re building a child theme), or those added by third-party plugins.</p>
<p>When you need to unregister a single block pattern, you’ll use the <a href="https://developer.notmatt.press/reference/functions/unregister_block_pattern/"><code>unregister_block_pattern()</code></a> function:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">unregister_block_pattern( string $pattern_name ): bool</code></pre>
<p>Like when registering patterns, you’ll also want to unregister on the <code>init</code> hook. Because patterns are generally (but not always) registered with the default priority <code>10</code> on <code>init</code>, you’ll want to use a higher priority so that your code runs later.</p>
<p>Try unregistering your custom pattern from earlier by adding this code to your <code>functions.php</code> file:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'init', 'themeslug_unregister_patterns', 999 );

function themeslug_unregister_patterns() {
	unregister_block_pattern( 'themeslug/hero' );
}</code></pre>
<h3 class="is-toc-heading wp-block-heading" id="removing-core-patterns" tabindex="-1"><a href="#removing-core-patterns">Removing core patterns</a></h3>
<p>While you can use <code>unregister_block_pattern()</code> to unregister individual core WordPress patterns, you can also choose to get rid of all of them by removing support for the <code>core-block-patterns</code> feature.</p>
<p>To remove all core WordPress patterns, add this code to your theme’s <code>functions.php</code> file:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'after_setup_theme', 'themeslug_remove_core_patterns' );

function themeslug_remove_core_patterns() {
	remove_theme_support( 'core-block-patterns' );
}</code></pre>
<h3 class="is-toc-heading wp-block-heading" id="disabling-remote-patterns" tabindex="-1"><a href="#disabling-remote-patterns">Disabling remote patterns</a></h3>
<p>WordPress also automatically loads some patterns remotely from the official <a href="https://wordpress.org/patterns/">Pattern Directory</a> on WordPress.org. There are some situations where you might not want to load these patterns, such as when they don’t match your theme design. You may also want to opt out of calling a remote API on a site that you’re building for a client. Whatever the case, you can disable this by filtering the <a href="https://developer.notmatt.press/reference/hooks/should_load_remote_block_patterns/"><code>should_load_remote_block_patterns</code></a> hook.</p>
<p>To disable remote patterns, add this code to your <code>functions.php</code> file:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_filter( 'should_load_remote_block_patterns', '__return_false' );</code></pre>
<h3 class="is-toc-heading wp-block-heading" id="tips-and-tricks" tabindex="-1"><a href="#tips-and-tricks">Tips and tricks</a></h3>
<p>Below, you’ll find various tips, tricks, and other useful features that make block patterns a powerful and flexible part of WordPress theme development.</p>
<h4 class="wp-block-heading">Internationalizing text in patterns</h4>
<p>One of the primary use cases for block patterns is <a href="https://developer.notmatt.press/themes/functionality/internationalization/">internationalizing text</a> (making it ready for translation). For example, if you have text in a template or template part, the only way to internationalize that text is to move it into a pattern, where you have full access to PHP.</p>
<p>Because pattern files are just PHP, you can use any of the internationalization functions within WordPress. In the below example, you’ll use <a href="https://developer.notmatt.press/reference/functions/esc_html_e/"><code>esc_html_e()</code></a> to both escape the text for security and make it ready for translators.</p>
<p>Try taking your “hero” pattern example and wrapping the custom text inside the Heading, Paragraph, and Button blocks with the <code>esc_html_e()</code> function. Your pattern file should look like this:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php
/**
 * Title: Hero
 * Slug: themeslug/hero
 * Categories: featured
 */
?&gt;
&lt;!-- wp:cover {"overlayColor":"contrast","align":"full"} --&gt;
&lt;div class="wp-block-cover alignfull"&gt;&lt;span aria-hidden="true" class="wp-block-cover__background has-contrast-background-color has-background-dim-100 has-background-dim"&gt;&lt;/span&gt;&lt;div class="wp-block-cover__inner-container"&gt;&lt;!-- wp:group {"style":{"spacing":{"blockGap":"2.5rem"}},"layout":{"type":"constrained","wideSize":"%","contentSize":"75%"}} --&gt;
&lt;div class="wp-block-group"&gt;&lt;!-- wp:heading {"textAlign":"center"} --&gt;
&lt;h2 class="wp-block-heading has-text-align-center"&gt;&lt;?php esc_html_e( 'Welcome to My Site', 'themeslug' ) ?&gt;&lt;/h2&gt;
&lt;!-- /wp:heading --&gt;

&lt;!-- wp:paragraph {"align":"center"} --&gt;
&lt;p class="has-text-align-center"&gt;&lt;?php esc_html_e( "This is my little home away from home. Here, you will get to know me. I'll share my likes, hobbies, and more. Every now and then, I'll even have something interesting to say in a blog post.", 'themeslug' ) ?&gt;&lt;/p&gt;
&lt;!-- /wp:paragraph --&gt;

&lt;!-- wp:buttons {"layout":{"type":"flex","justifyContent":"center"}} --&gt;
&lt;div class="wp-block-buttons"&gt;&lt;!-- wp:button {"className":"is-style-outline"} --&gt;
&lt;div class="wp-block-button is-style-outline"&gt;&lt;a class="wp-block-button__link wp-element-button"&gt;&lt;?php esc_html_e( 'See My Popular Posts <span aria-hidden="true" class="wp-exclude-emoji">→</span>', 'themeslug' ) ?&gt;&lt;/a&gt;&lt;/div&gt;
&lt;!-- /wp:button --&gt;&lt;/div&gt;
&lt;!-- /wp:buttons --&gt;&lt;/div&gt;
&lt;!-- /wp:group --&gt;&lt;/div&gt;&lt;/div&gt;
&lt;!-- /wp:cover --&gt;</code></pre>
<h4 class="wp-block-heading">Using images and other assets</h4>
<p>Adding dynamic URLs for images and other assets is another important feature of patterns. Because you have PHP access, you can use functions like <code>get_theme_file_uri()</code> to output an image URL that’s bundled with your theme, for example.</p>
<p>Try adding an image background to your “hero” pattern’s Cover block. If you need an image, try grabbing one from the WordPress <a href="https://wordpress.org/photos/">Photo Directory</a> (the example below uses this <a href="https://wordpress.org/photos/photo/41664fab9b/">Nepal night scene photo</a>). </p>
<p>Download an image and save it to your theme’s <code>/assets/images</code> folder (or a folder of your choice) and name it <code>hero-background.jpg</code>.</p>
<p>Then open your pattern in the editor and upload the image as the background for the Cover block, which should look like this:</p>
<figure class="wp-block-image size-full"><a href="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-cover-with-background.jpg?ssl=1"><img alt="WordPress post editor showing a Cover block with a background image of a cityscape." class="wp-image-149268" data-recalc-dims="1" decoding="async" height="924" loading="lazy" sizes="auto, (max-width: 1000px) 100vw, 1000px" src="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-cover-with-background.jpg?resize=2048%2C924&amp;ssl=1" srcset="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-cover-with-background.jpg?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-cover-with-background.jpg?resize=300%2C135&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-cover-with-background.jpg?resize=1024%2C462&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-cover-with-background.jpg?resize=768%2C347&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-cover-with-background.jpg?resize=1536%2C693&amp;ssl=1 1536w" width="2048"/></a></figure>
<p>As you did earlier, copy the blocks that make up the pattern. You’ll notice that you have two instances of the image URL in your pattern code. It will be a hardcoded URL similar to this:</p>
<pre class="wp-block-code"><code class="language-markup" lang="markup">http://localhost/wp/wp-content/uploads/2023/10/hero-background.jpg</code></pre>
<p>You need to change both of those instances so that they point to the image that is located in your theme’s <code>/assets/images</code> folder. For this, you need do two things:</p>
<ul class="wp-block-list">
<li>Get the correct URL using a function like <a href="https://developer.notmatt.press/reference/functions/get_theme_file_uri/"><code>get_theme_file_uri()</code></a>.</li>
<li>Escape the URL so that it’s safe for output with <a href="https://developer.notmatt.press/reference/functions/esc_url/"><code>esc_url()</code></a>.</li>
</ul>
<p>Change the hard coded image URLs to this:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php echo esc_url( get_theme_file_uri( 'assets/images/hero-background.jpg' ) ) ?&gt;</code></pre>
<p>Your final pattern code should look like this (note that this example includes internationalized text as explained in the previous section):</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php
/**
 * Title: Hero
 * Slug: themeslug/hero
 * Categories: featured
 */
?&gt;
&lt;!-- wp:cover {"url":"&lt;?php echo esc_url( get_theme_file_uri( 'assets/images/hero-background.jpg' ) ) ?&gt;","id":3838,"dimRatio":50,"overlayColor":"contrast","align":"full"} --&gt;
&lt;div class="wp-block-cover alignfull"&gt;&lt;span aria-hidden="true" class="wp-block-cover__background has-contrast-background-color has-background-dim"&gt;&lt;/span&gt;&lt;img class="wp-block-cover__image-background wp-image-3838" alt="" src="&lt;?php echo esc_url( get_theme_file_uri( 'assets/images/hero-background.jpg' ) ) ?&gt;" data-object-fit="cover"/&gt;&lt;div class="wp-block-cover__inner-container"&gt;&lt;!-- wp:group {"style":{"spacing":{"blockGap":"2.5rem"}},"layout":{"type":"constrained","wideSize":"%","contentSize":"75%"}} --&gt;
&lt;div class="wp-block-group"&gt;&lt;!-- wp:heading {"textAlign":"center"} --&gt;
&lt;h2 class="wp-block-heading has-text-align-center"&gt;&lt;?php esc_html_e( 'Welcome to My Site', 'themeslug' ) ?&gt;&lt;/h2&gt;
&lt;!-- /wp:heading --&gt;

&lt;!-- wp:paragraph {"align":"center"} --&gt;
&lt;p class="has-text-align-center"&gt;&lt;?php esc_html_e( "This is my little home away from home. Here, you will get to know me. I'll share my likes, hobbies, and more. Every now and then, I'll even have something interesting to say in a blog post.", 'themeslug' ) ?&gt;&lt;/p&gt;
&lt;!-- /wp:paragraph --&gt;

&lt;!-- wp:buttons {"layout":{"type":"flex","justifyContent":"center"}} --&gt;
&lt;div class="wp-block-buttons"&gt;&lt;!-- wp:button {"className":"is-style-outline"} --&gt;
&lt;div class="wp-block-button is-style-outline"&gt;&lt;a class="wp-block-button__link wp-element-button"&gt;&lt;?php esc_html_e( 'See My Popular Posts <span aria-hidden="true" class="wp-exclude-emoji">→</span>', 'themeslug' ) ?&gt;&lt;/a&gt;&lt;/div&gt;
&lt;!-- /wp:button --&gt;&lt;/div&gt;
&lt;!-- /wp:buttons --&gt;&lt;/div&gt;
&lt;!-- /wp:group --&gt;&lt;/div&gt;&lt;/div&gt;
&lt;!-- /wp:cover --&gt;</code></pre>
<h4 class="wp-block-heading">Conditionally loading third-party blocks</h4>
<p>There are times when you might want to only use a block if it is registered on the user’s install. This is particularly true for third-party blocks that may be contained in a plugin.</p>
<p>It’s important to note that WordPress will prompt a user to install the block if you add its block markup and it’s not installed. It won’t result in a broken website, so it’s OK to avoid using the method described in this section.</p>
<p>But if you would prefer to hide an unregistered block (or use an alternative), you can conditionally check if a block is registered via the <a href="https://developer.notmatt.press/reference/classes/wp_block_type_registry/is_registered/"><code>WP_Block_Type_Registry::is_registered()</code></a> method.</p>
<p>This example code shows how to check for the <code>core/paragraph</code> block. If it’s registered, it will output the block markup:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php if ( WP_Block_Type_Registry::get_instance()-&gt;is_registered( 'core/paragraph' ) ) : ?&gt;
	&lt;!-- Add your block markup here. --&gt;
&lt;?php endif ?&gt;</code></pre>
<p>Try applying this method to your registered “hero” block from earlier by wrapping the Paragraph block in this conditional check. Here’s what your pattern code should look like:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php
/**
 * Title: Hero
 * Slug: themeslug/hero
 * Categories: featured
 */
?&gt;
&lt;!-- wp:cover {"url":"&lt;?php echo esc_url( get_theme_file_uri( 'assets/images/hero-background.jpg' ) ) ?&gt;","id":3838,"dimRatio":50,"overlayColor":"contrast","align":"full"} --&gt;
&lt;div class="wp-block-cover alignfull"&gt;&lt;span aria-hidden="true" class="wp-block-cover__background has-contrast-background-color has-background-dim"&gt;&lt;/span&gt;&lt;img class="wp-block-cover__image-background wp-image-3838" alt="" src="&lt;?php echo esc_url( get_theme_file_uri( 'assets/images/hero-background.jpg' ) ) ?&gt;" data-object-fit="cover"/&gt;&lt;div class="wp-block-cover__inner-container"&gt;&lt;!-- wp:group {"style":{"spacing":{"blockGap":"2.5rem"}},"layout":{"type":"constrained","wideSize":"%","contentSize":"75%"}} --&gt;
&lt;div class="wp-block-group"&gt;&lt;!-- wp:heading {"textAlign":"center"} --&gt;
&lt;h2 class="wp-block-heading has-text-align-center"&gt;&lt;?php esc_html_e( 'Welcome to My Site', 'themeslug' ) ?&gt;&lt;/h2&gt;
&lt;!-- /wp:heading --&gt;

&lt;?php if ( WP_Block_Type_Registry::get_instance()-&gt;is_registered( 'core/paragraph' ) ) : ?&gt;
	&lt;!-- wp:paragraph {"align":"center"} --&gt;
	&lt;p class="has-text-align-center"&gt;&lt;?php esc_html_e( "This is my little home away from home. Here, you will get to know me. I'll share my likes, hobbies, and more. Every now and then, I'll even have something interesting to say in a blog post.", 'themeslug' ) ?&gt;&lt;/p&gt;
	&lt;!-- /wp:paragraph --&gt;
&lt;?php endif ?&gt;

&lt;!-- wp:buttons {"layout":{"type":"flex","justifyContent":"center"}} --&gt;
&lt;div class="wp-block-buttons"&gt;&lt;!-- wp:button {"className":"is-style-outline"} --&gt;
&lt;div class="wp-block-button is-style-outline"&gt;&lt;a class="wp-block-button__link wp-element-button"&gt;&lt;?php esc_html_e( 'See My Popular Posts <span aria-hidden="true" class="wp-exclude-emoji">→</span>', 'themeslug' ) ?&gt;&lt;/a&gt;&lt;/div&gt;
&lt;!-- /wp:button --&gt;&lt;/div&gt;
&lt;!-- /wp:buttons --&gt;&lt;/div&gt;
&lt;!-- /wp:group --&gt;&lt;/div&gt;&lt;/div&gt;
&lt;!-- /wp:cover --&gt;</code></pre>
<p>Of course, since the Paragraph block is registered by core WordPress and assuming it hasn’t been unregistered, your Paragraph block should appear in the editor and on the front end. The primary use case for this is to conditionally check third-party blocks.</p>
<h3 class="is-toc-heading wp-block-heading" id="conditionally-registering-patterns" tabindex="-1"><a href="#conditionally-registering-patterns">Conditionally registering patterns</a></h3>
<p>If you need to conditionally register an entire pattern instead of simply conditionally outputting specific parts of it (shown in the previous section), there are two methods to choose from, depending on how you prefer to register patterns.</p>
<h4 class="wp-block-heading">Conditionally registering patterns in the /patterns folder</h4>
<p>If you have used the auto-registration method of placing your pattern in your theme’s <code>/patterns</code> folder, there is no true way to conditionally register it. What you must do in this case is unregister the pattern.</p>
<p>Suppose that you wanted to only make the hero pattern you registered earlier available if the <code>core/paragraph</code> block is registered. In a real-world scenario, you’d likely be checking for a third-party block, and the <code>core/paragraph</code> block is used only for the sake of this example.</p>
<p>Try this code inside of your <code>functions.php</code> file to unregister your previously-registered pattern:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'init', 'themeslug_unregister_patterns', 999 );

function themeslug_unregister_patterns() {
	if ( WP_Block_Type_Registry::get_instance()-&gt;is_registered( 'core/paragraph' ) ) {
		unregister_block_pattern( 'themeslug/hero' );
	}
}</code></pre>
<h4 class="wp-block-heading">Conditionally registering patterns via <a href="https://developer.notmatt.press/reference/functions/register_block_pattern/" rel="function">register_block_pattern()</a> </h4>
<p>If you manually registered your patterns via PHP, you only need to wrap your call to <code>register_block_pattern()</code> with your conditional check.</p>
<p>Using the same example as above, try only registering your pattern if the <code>core/paragraph</code> block is registered by adding this to <code>functions.php</code>:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'init', 'themeslug_register_patterns', 999 );

function themeslug_register_patterns() {
	if ( WP_Block_Type_Registry::get_instance()-&gt;is_registered( 'core/paragraph' ) ) {
		register_block_pattern( 'themeslug/hero', array(
			'title'      =&gt; __( 'Hero', 'themeslug' ),
			'categories' =&gt; array( 'featured' ),
			'source'     =&gt; 'theme',
			'content'    =&gt; '&lt;!-- Block pattern goes here. --&gt;'
		) );
	}
}</code></pre>
<h2 class="is-toc-heading wp-block-heading" id="pattern-categories" tabindex="-1"><a href="#pattern-categories">Pattern categories</a></h2>
<p>WordPress has several block pattern categories that it registers by default:</p>
<ul class="wp-block-list">
<li><code>featured</code></li>
<li><code>about</code></li>
<li><code>audio</code> (added in WordPress 6.4)</li>
<li><code>banner</code></li>
<li><code>buttons</code></li>
<li><code>call-to-action</code></li>
<li><code>columns</code></li>
<li><code>contact</code></li>
<li><code>footer</code></li>
<li><code>gallery</code></li>
<li><code>header</code></li>
<li><code>media</code></li>
<li><code>portfolio</code></li>
<li><code>posts</code></li>
<li><code>query</code> (use <code>posts</code> instead)</li>
<li><code>services</code></li>
<li><code>team</code></li>
<li><code>testimonials</code></li>
<li><code>text</code></li>
<li><code>video</code> (added in WordPress 6.4)</li>
</ul>
<p>It’s generally best to use these default categories for your theme. This keeps a consistent UI that users will be accustomed to. But there are times when you may want to add your own categories or even remove those that are already registered.</p>
<p>In this section of the article, you’ll learn how to both register and unregister custom block pattern categories.</p>
<h3 class="is-toc-heading wp-block-heading" id="registering-a-pattern-category" tabindex="-1"><a href="#registering-a-pattern-category">Registering a pattern category</a></h3>
<p>To register a custom category for putting one or more of your patterns into, you must use the <a href="https://developer.notmatt.press/reference/functions/register_block_pattern_category/"><code>register_block_pattern_category()</code></a> function:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">register_block_pattern_category( 
	string $category_name, 
	array $category_properties 
): bool</code></pre>
<p>The function accepts two parameters:</p>
<ul class="wp-block-list">
<li><strong><code>$category_name</code>:</strong> A unique ID/slug for the category. It’s good practice to prefix this with your theme slug.</li>
<li><strong><code>$category_properties</code>:</strong> An array of properties for defining further data about the category:
<ul class="wp-block-list">
<li><strong><code>label</code>:</strong> A human-readable label/title for the category that may be translated.</li>
<li><strong><code>description</code>:</strong> A description for the category that may be translated.</li>
</ul>
</li>
</ul>
<p>Try adding a new custom pattern category for your theme. Add this code to your theme’s <code>functions.php</code> file:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'init', 'themeslug_register_pattern_categories' );

function themeslug_register_pattern_categories() {
	register_block_pattern_category( 'themeslug/custom', array( 
		'label'       =&gt; __( 'Theme Name: Custom', 'themeslug' ),
		'description' =&gt; __( 'Custom patterns for Theme Name.', 'themeslug' )
	) );
}</code></pre>
<p>Now try adding the <code>themeslug/custom</code> category to any block pattern:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php
/**
 * Title: Hero
 * Slug: themeslug/hero
 * Categories: featured, themeslug/custom
 */
?&gt;
&lt;!-- Your block markup goes here. --&gt;</code></pre>
<p>Any registered patterns for this category will now appear in the inserter and under <strong>Appearance &gt; Editor &gt; Patterns</strong>:</p>
<figure class="wp-block-image size-full"><a href="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-category.jpg?ssl=1"><img alt="Custom pattern category showing a single pattern in the WordPress Patterns library." class="wp-image-149269" data-recalc-dims="1" decoding="async" height="924" loading="lazy" sizes="auto, (max-width: 1000px) 100vw, 1000px" src="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-category.jpg?resize=2048%2C924&amp;ssl=1" srcset="https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-category.jpg?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-category.jpg?resize=300%2C135&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-category.jpg?resize=1024%2C462&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-category.jpg?resize=768%2C347&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/patterns-category.jpg?resize=1536%2C693&amp;ssl=1 1536w" width="2048"/></a></figure>
<h3 class="is-toc-heading wp-block-heading" id="unregistering-a-pattern-category" tabindex="-1"><a href="#unregistering-a-pattern-category">Unregistering a pattern category</a></h3>
<p>To unregister a registered pattern category, you must use the <a href="https://developer.notmatt.press/reference/functions/unregister_block_pattern_category/"><code>unregister_block_pattern_category()</code></a> function:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">unregister_block_pattern_category( string $category_name ): bool</code></pre>
<p>The function accepts a single parameter:</p>
<ul class="wp-block-list">
<li><strong><code>$category_name</code>:</strong> The name (i.e., slug) of the registered category to unregister.</li>
</ul>
<p>Try adding this code to your <code>functions.php</code> to remove the <code>themeslug/custom</code> category you registered in the previous step:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'init', 'themeslug_unregister_pattern_categories' );<br/><br/>function themeslug_unregister_pattern_categories() {<br/>	unregister_block_pattern_category( 'themeslug/custom' );<br/>}</code></pre>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
