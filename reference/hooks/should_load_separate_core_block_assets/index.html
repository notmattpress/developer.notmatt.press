
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/hooks/">Hooks</a></span><span class="is-current-page">should_load_separate_core_block_assets</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>should_load_separate_core_block_assets</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;"><span class="hook-func">apply_filters</span>( ‘should_load_separate_core_block_assets’,  <nobr><span class="arg-type">bool</span> <span class="arg-name">$load_separate_assets</span></nobr> )</h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Filters whether block styles should be loaded separately.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Returning false loads all core block assets, regardless of whether they are rendered in a page or not. Returning true loads core block assets only when they are rendered.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$load_separate_assets</code><span class="type"><span class="bool">bool</span></span></dt><dd><div class="desc"><span class="description">Whether separate assets will be loaded.<br/>
Default false (all block assets are loaded, even when not used).</span></div></dd></dl></section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="2605"><code class="language-php line-numbers" id="wporg-source-code" lang="php">return apply_filters( 'should_load_separate_core_block_assets', false );
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/script-loader.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/script-loader.php#L2605">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/script-loader.php#L2605-L2605">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_should_load_separate_core_block_assets/">wp_should_load_separate_core_block_assets()</a><code>wp-includes/script-loader.php</code></td><td><p>Checks whether separate styles should be loaded for core blocks on-render.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/5.8.0/">5.8.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-fabiankaegy even thread-even depth-1" data-comment-id="6726" id="comment-6726">
<article class="comment-body" id="div-comment-6726">
<a class="screen-reader-text" href="#comment-content-6726">Skip to note 5 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6726">
<p>Also whilst the default value of this filter is <code>false</code> it actually gets changed to <code>true</code> by default for any block theme.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6726">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-domainsupport odd alt thread-odd thread-alt depth-1" data-comment-id="6761" id="comment-6761">
<article class="comment-body" id="div-comment-6761">
<a class="screen-reader-text" href="#comment-content-6761">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6761">
<p>Since v6.4 you need to add a priority of 11 for this filter to work if you are trying to force block themes to load all block styles rather than just those which WordPress detects are being used …</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_filter( 'should_load_separate_core_block_assets', '__return_false', 11 );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-6761">
<ul class="children">
<li class="comment byuser comment-author-cresis even depth-2" data-comment-id="6977" id="comment-6977">
<article class="comment-body" id="div-comment-6977">
<div class="wporg-has-embedded-code comment-content" id="comment-content-6977">
<div>You are my hero :) Number 11 saved my CLS.</div>
<div><a class="url" href="https://profiles.wordpress.org/cresis/" rel="external nofollow">cresis</a> <a class="comment-date" href="https://developer.notmatt.press/reference/hooks/should_load_separate_core_block_assets/#comment-6977"><time datetime="2024-04-05T10:55:49+00:00">10 months ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-skorasaurus odd alt thread-even depth-1" data-comment-id="5812" id="comment-5812">
<article class="comment-body" id="div-comment-5812">
<a class="screen-reader-text" href="#comment-content-5812">Skip to note 7 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5812">
<p>This hook is poorly named: when returning `true` with this hook; many 3rd-party blocks’ assets (JS and CSS) will only load when those blocks are being used on a page; slightly speeding up your website. </p>
<p>To use:<br>
<code>add_filter( 'should_load_separate_core_block_assets', '__return_true' );</code> it only needs to be added once for each instance of WordPress you are working with; you do not need to add for each block or plugin that you wish to conditionally load.</br></p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="3" id="feedback-5812">
<ul class="children">
<li class="comment byuser comment-author-lovor even depth-2" data-comment-id="5852" id="comment-5852">
<article class="comment-body" id="div-comment-5852">
<div class="wporg-has-embedded-code comment-content" id="comment-content-5852">
<div>This hook affects only loading of core blocks, not third party blocks, hence the name *_core_block_assets</div>
<div><a class="url" href="https://profiles.wordpress.org/lovor/" rel="external nofollow">Lovro Hrust</a> <a class="comment-date" href="https://developer.notmatt.press/reference/hooks/should_load_separate_core_block_assets/#comment-5852"><time datetime="2022-06-04T20:33:34+00:00">3 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
<li class="comment byuser comment-author-pkostadinov odd alt depth-2" data-comment-id="5924" id="comment-5924">
<article class="comment-body" id="div-comment-5924">
<div class="wporg-has-embedded-code comment-content" id="comment-content-5924">
<div>Based on my testing, this is correct – <strong>it does affects custom blocks</strong>. I have an open track ticket about it, and recently found that this filter was the actual culprit: <a href="https://core.trac.wordpress.org/ticket/54956" rel="nofollow ugc">https://core.trac.wordpress.org/ticket/54956</a></div>
<div><a class="url" href="https://profiles.wordpress.org/pkostadinov/" rel="external nofollow">pkostadinov</a> <a class="comment-date" href="https://developer.notmatt.press/reference/hooks/should_load_separate_core_block_assets/#comment-5924"><time datetime="2022-07-19T14:01:28+00:00">3 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
<li class="comment byuser comment-author-isaumya even depth-2" data-comment-id="6081" id="comment-6081">
<article class="comment-body" id="div-comment-6081">
<div class="wporg-has-embedded-code comment-content" id="comment-content-6081">
<div>Just need to keep in mind one thing – that is when using this filter the styles/assets will get loaded almost at end of the body tag rather than loading in the HEAD tag. Not sure if it’s a bug or intended – but this is how it works.</div>
<div><a class="url" href="https://profiles.wordpress.org/isaumya/" rel="external nofollow">iSaumya</a> <a class="comment-date" href="https://developer.notmatt.press/reference/hooks/should_load_separate_core_block_assets/#comment-6081"><time datetime="2022-09-26T09:03:09+00:00">2 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-fredbir odd alt thread-odd thread-alt depth-1" data-comment-id="6375" id="comment-6375">
<article class="comment-body" id="div-comment-6375">
<a class="screen-reader-text" href="#comment-content-6375">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6375">
<p>It should be noted that using this hook will then load inline styles in the body of the website and not the head, which will invalidate your website on W3C validator.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6375">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
