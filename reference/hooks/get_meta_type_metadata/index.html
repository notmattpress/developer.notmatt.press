
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.notmatt.press">Home</a></span><span><a href="https://developer.notmatt.press/reference/">Reference</a></span><span><a href="https://developer.notmatt.press/reference/hooks/">Hooks</a></span><span class="is-current-page">get_{$meta_type}_metadata</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>get_{$meta_type}_metadata</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;"><span class="hook-func">apply_filters</span>( “get_{$meta_type}_metadata”,  <nobr><span class="arg-type">mixed</span> <span class="arg-name">$value</span></nobr>,  <nobr><span class="arg-type">int</span> <span class="arg-name">$object_id</span></nobr>,  <nobr><span class="arg-type">string</span> <span class="arg-name">$meta_key</span></nobr>,  <nobr><span class="arg-type">bool</span> <span class="arg-name">$single</span></nobr>,  <nobr><span class="arg-type">string</span> <span class="arg-name">$meta_type</span></nobr> )</h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Short-circuits the return value of a meta field.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>The dynamic portion of the hook name, <code>$meta_type</code>, refers to the meta object type (post, comment, term, user, or any other type with an associated meta table).<br/>Returning a non-null value will effectively short-circuit the function.</p>
<p>Possible filter names include:</p>
<ul>
<li><code>get_post_metadata</code></li>
<li><code>get_comment_metadata</code></li>
<li><code>get_term_metadata</code></li>
<li><code>get_user_metadata</code></li>
</ul>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$value</code><span class="type"><span class="mixed">mixed</span></span></dt><dd><div class="desc"><span class="description">The value to return, either a single metadata value or an array                          of values depending on the value of <code>$single</code>. Default null.</span></div></dd><dt><code>$object_id</code><span class="type"><span class="int">int</span></span></dt><dd><div class="desc"><span class="description">ID of the object metadata is for.</span></div></dd><dt><code>$meta_key</code><span class="type"><span class="string">string</span></span></dt><dd><div class="desc"><span class="description">Metadata key.</span></div></dd><dt><code>$single</code><span class="type"><span class="bool">bool</span></span></dt><dd><div class="desc"><span class="description">Whether to return only the first value of the specified <code>$meta_key</code>.</span></div></dd><dt><code>$meta_type</code><span class="type"><span class="string">string</span></span></dt><dd><div class="desc"><span class="description">Type of object metadata is for. Accepts <code>'post'</code>, <code>'comment'</code>, <code>'term'</code>, <code>'user'</code>,                          or any other object type with an associated meta table.</span></div></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<p>The filter must return null if the data should be taken from the database. If it returns anything else, the <a href="https://developer.notmatt.press/reference/functions/get_metadata/" rel="function">get_metadata()</a>  function (and therefore the <code>get_user_meta</code>) will return what the filter returns.</p>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="636"><code class="language-php line-numbers" id="wporg-source-code" lang="php">$check = apply_filters( "get_{$meta_type}_metadata", null, $object_id, $meta_key, $single, $meta_type );
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/meta.php/">View all references</a> <a href="https://core.trac.notmatt.press/browser/tags/6.7/src/wp-includes/meta.php#L636">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/meta.php#L636-L636">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_metadata_raw/">get_metadata_raw()</a><code>wp-includes/meta.php</code></td><td><p>Retrieves raw metadata value for the specified object.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/metadata_exists/">metadata_exists()</a><code>wp-includes/meta.php</code></td><td><p>Determines if a meta field with the given key exists for the given object ID.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/5.5.0/">5.5.0</a></td><td><span class="since-description">Added the <code>$meta_type</code> parameter.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/3.1.0/">3.1.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-leogermani even thread-even depth-1" data-comment-id="2394" id="comment-2394">
<article class="comment-body" id="div-comment-2394">
<a class="screen-reader-text" href="#comment-content-2394">Skip to note 3 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2394">
<p>Note that although this filter filters the value that will be returned, you do not receive the current value as the first parameter.</p>
<p>You allways receive <code>null</code> in the first parameter.</p>
<p>If your callback returns anything else than null, this is the value that the function will return at the end. If you return null, the function will continue to run normally and try to fetch the data from the database (or cache).</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-2394">
<ul class="children">
<li class="comment byuser comment-author-andy-schmidt odd alt depth-2" data-comment-id="2626" id="comment-2626">
<article class="comment-body" id="div-comment-2626">
<div class="wporg-has-embedded-code comment-content" id="comment-content-2626">
<div>Actually – you do not “always receive NULL” as the first parameter.While it is true that WordPress calls the first (as possibly ONLY) filter in the sequence with a NULL $value, you should allow for the possibility that a higher-priority filter could be passing down a $value to your filter!To play nice with other plug-ins, rather than your filter returning a hard-coded “null” if it decides to take no action, it may be appropriate for your filter to return the $value (which may be null, or may be the value injected by an earlier filter!)</div>
<div><a class="url" href="https://profiles.notmatt.press/andy-schmidt/" rel="external nofollow">Andy Schmidt</a> <a class="comment-date" href="https://developer.notmatt.press/reference/hooks/get_meta_type_metadata/#comment-2626"><time datetime="2018-04-01T17:50:51+00:00">7 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-stevenlinx even thread-odd thread-alt depth-1" data-comment-id="4704" id="comment-4704">
<article class="comment-body" id="div-comment-4704">
<a class="screen-reader-text" href="#comment-content-4704">Skip to note 4 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4704">
<p>Example migrated from Codex:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">add_action( 'init', 'wpdocs_init' );

function wpdocs_init() {
	add_filter( 'get_user_metadata', 'wpdocs_get_foo', 10, 3 );
}

function wpdocs_get_foo( $check, $object_id, $meta_key ) {
	if ( 'foo' === $meta_key ) {
		// Always return an array with your return value.
		return array( 'bar' );
	}

	return $check; // Go on with the normal execution in meta.php
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-4704">
<ul class="children">
<li class="comment byuser comment-author-gorgdesign odd alt depth-2" data-comment-id="4888" id="comment-4888">
<article class="comment-body" id="div-comment-4888">
<div class="wporg-has-embedded-code comment-content" id="comment-content-4888">
<div>You shouldn’t return null if the checks don’t pass, return $value. otherwise another filter with higher priority will not be able to set the value:  <code> add_filter( 'get_user_metadata', 'otherplugin_get_foo', 10, 4 );  function otherplugin_get_foo( $value, $object_id, $meta_key, $single ) {     if ( 'foo' == $meta_key ) {         return array( 'bar' );     }      return $value; // CORRECT if $value is null it will return null, if another plugin has already used the same filter to set a value it will return that value; }  add_filter( 'get_user_metadata', 'myplugin_get_baz', 10, 4 );  function otherplugin_get_foo( $value, $object_id, $meta_key, $single ) {     if ( 'baz' == $meta_key ) {         return array( 'bar' );     }      return null; // WRONG! THIS WILL OVERRIDE ALL PREVIOUS get_{$meta_type}_metadata FILTERS; } </code>  Now if you call get_user_meta(1, ‘foo’, true); you will always get null, because myplugin_get_baz will override the $value (bar) set by the first otherplugin_get_foo filter.   Always return the first parameter if you’re not going to edit the value.</div>
<div><a class="url" href="https://profiles.notmatt.press/gorgdesign/" rel="external nofollow">gorgdesign</a> <a class="comment-date" href="https://developer.notmatt.press/reference/hooks/get_meta_type_metadata/#comment-4888"><time datetime="2021-03-02T21:38:15+00:00">4 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
