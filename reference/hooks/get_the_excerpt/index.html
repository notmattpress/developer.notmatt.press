
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/hooks/">Hooks</a></span><span class="is-current-page">get_the_excerpt</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>get_the_excerpt</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;"><span class="hook-func">apply_filters</span>( ‘get_the_excerpt’,  <nobr><span class="arg-type">string</span> <span class="arg-name">$post_excerpt</span></nobr>,  <nobr><span class="arg-type">WP_Post</span> <span class="arg-name">$post</span></nobr> )</h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Filters the retrieved post excerpt.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$post_excerpt</code><span class="type"><span class="string">string</span></span></dt><dd><div class="desc"><span class="description">The post excerpt.</span></div></dd><dt><code>$post</code><span class="type"><span class="WP_Post"><a href="https://developer.notmatt.press/reference/classes/wp_post/" rel="class">WP_Post</a></span></span></dt><dd><div class="desc"><span class="description">Post object.</span></div></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<p>The <code>get_the_excerpt</code> filter is used to filter the excerpt of the post after it is retrieved from the database and before it is returned from the <a href="https://developer.notmatt.press/reference/functions/get_the_excerpt/" rel="function">get_the_excerpt()</a>  function.</p>
<p>When the <code>get_the_excerpt</code> filter is called, the filter function is passed a single argument containing the post excerpt.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">function filter_function_name( $excerpt ) {
# ...
}
add_filter( 'get_the_excerpt', 'filter_function_name' );</code></pre>
<p>Where ‘<code>filter_function_name</code>‘ is the function WordPress should call when the excerpt is being retrieved. Note that the filter function <strong>must</strong> return the excerpt after it is finished processing, or page sections showing an excerpt will be blank, and other plugins also filtering the excerpt may generate errors.</p>
<p>The ‘<code>filter_function_name</code>‘ should be a unique function name. It cannot match any other function name already declared.</p>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="436"><code class="language-php line-numbers" id="wporg-source-code" lang="php">return apply_filters( 'get_the_excerpt', $post-&gt;post_excerpt, $post );
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/post-template.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/post-template.php#L436">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/post-template.php#L436-L436">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_attachments_controller/prepare_item_for_response/">WP_REST_Attachments_Controller::prepare_item_for_response()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-attachments-controller.php</code></td><td><p>Prepares a single attachment output for response.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_posts_controller/prepare_item_for_response/">WP_REST_Posts_Controller::prepare_item_for_response()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-posts-controller.php</code></td><td><p>Prepares a single post output for response.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_the_excerpt/">get_the_excerpt()</a><code>wp-includes/post-template.php</code></td><td><p>Retrieves the post excerpt.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/4.5.0/">4.5.0</a></td><td><span class="since-description">Introduced the <code>$post</code> parameter.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/1.2.0/">1.2.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-ad_taylor odd alt thread-odd thread-alt depth-1" data-comment-id="2201" id="comment-2201">
<article class="comment-body" id="div-comment-2201">
<a class="screen-reader-text" href="#comment-content-2201">Skip to note 4 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2201">
<p>When using this filter on a string stored in a variable, the string <strong>will not</strong> be trimmed by the <a href="https://developer.notmatt.press/reference/hooks/excerpt_length/"><code>excerpt_length</code></a> filter.</p>
<p>This is expected behaviour. By passing a long string through the <code>get_the_excerpt</code> filter, you are simulating the case where you have entered the same long text into the <code>Excerpt</code> field in the <code>Edit Post</code> screen. When a custom excerpt is present on the post, no trimming is done (though other content filters are applied).</p>
<p>If you want to simulate the automatic excerpt trimming on arbitrary text, you can pass the text to <a href="https://developer.notmatt.press/reference/functions/wp_trim_words/"><code>wp_trim_words()</code></a> yourself, with a function like this:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function wpcodex_format_custom_excerpt( $text ) {
  /**
   * Filters the number of words in an excerpt.
   *
   * @since 2.7.0
   *
   * @param int $number The number of words. Default 55.
   */
  $excerpt_length = apply_filters( 'excerpt_length', 55 );
  /**
   * Filters the string in the "more" link displayed after a trimmed excerpt.
   *
   * @since 2.9.0
   *
   * @param string $more_string The string shown within the more link.
   */
  $excerpt_more = apply_filters( 'excerpt_more', ' ' . '[&amp;hellip;]' );
  $text = wp_trim_words( $text, $excerpt_length, $excerpt_more );

  // Format the text
  $text = apply_filters( 'get_the_excerpt', $text );

  return $text;
}</code></pre>
<p>The function above can be used like this:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">$text = "Etiam laoreet libero sit amet sem tempor, vel dictum odio bibendum. Aenean odio ligula, placerat sodales dui non, tempor dictum lorem. Vestibulum rutrum, velit a placerat imperdiet, erat massa porta urna, a convallis diam lorem non sapien. Vivamus in risus non quam aliquet blandit nec fermentum dolor. Duis ultricies lectus eu cursus fermentum. Sed eget convallis odio. Ut ut dolor nec nisi varius blandit a eget justo. Integer sed tellus eget leo pretium ultricies. Nullam rhoncus ex sit amet dolor pellentesque feugiat. Nullam a eros orci. Etiam egestas est erat, eu pellentesque sapien dignissim vel. Nulla malesuada commodo justo, at egestas purus egestas fermentum.

Vestibulum vitae metus ullamcorper, vehicula urna eu, ullamcorper leo. Sed sit amet eros eget metus bibendum blandit. Praesent ac lacinia purus. Donec laoreet tempus dui id faucibus. Nulla laoreet cursus laoreet. Nulla et arcu ex. Pellentesque cursus non metus a volutpat. Donec pretium orci et metus molestie, ac feugiat lacus auctor. Ut vehicula eu augue eu gravida. In scelerisque risus in rutrum vestibulum. Phasellus egestas augue quis enim varius, ut sagittis massa auctor.";
$text = wpcodex_format_custom_excerpt( $text );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2201">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-stevenlinx even thread-even depth-1" data-comment-id="4561" id="comment-4561">
<article class="comment-body" id="div-comment-4561">
<a class="screen-reader-text" href="#comment-content-4561">Skip to note 5 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4561">
<p>Examples migrated from Codex:</p>
<p><strong>Custom “More” Link</strong></p>
<p>This example from the twentyeleven theme appends a custom “Read more” link to post excerpts. See <a href="https://developer.notmatt.press/reference/functions/has_excerpt/">has_excerpt()</a> and <a href="https://developer.notmatt.press/reference/functions/is_attachment/">is_attachment()</a>.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
 * Adds a pretty "Continue Reading" link to custom post excerpts.
 *
 * To override this link in a child theme, remove the filter and add your own
 * function tied to the get_the_excerpt filter hook.
 */
function twentyeleven_custom_excerpt_more( $output ) {
  if ( has_excerpt() &amp;&amp; ! is_attachment() ) {
    $output .= twentyeleven_continue_reading_link();
  }
  return $output;
}
add_filter( 'get_the_excerpt', 'twentyeleven_custom_excerpt_more' );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4561">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-wpfed odd alt thread-odd thread-alt depth-1" data-comment-id="6086" id="comment-6086">
<article class="comment-body" id="div-comment-6086">
<a class="screen-reader-text" href="#comment-content-6086">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6086">
<p><strong>Fallback excerpt for posts with AUTOMATED excerpt:</strong></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
* Filters the retrieved post excerpt.
*
* @param string  $post_excerpt The post excerpt.
* @param WP_Post $post         Post object.
*/
function wpdocs_excerpt_fallback( $post_excerpt ) {
	if ( ! $post_excerpt ) {
		return '(no excerpt present, click "read more" to view post)';
	}
	return $post_excerpt;
}
add_filter( 'get_the_excerpt', 'wpdocs_excerpt_fallback' );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6086">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
