
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/hooks/">Hooks</a></span><span class="is-current-page">admin_notices</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>admin_notices</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;"><span class="hook-func">do_action</span>( ‘admin_notices’ )</h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Prints admin screen notices.</p>
</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<h3 class="is-toc-heading wp-block-heading" id="example" tabindex="-1"><a href="#example">Example</a></h3>
<p>In order to display a notice, echo a div with the class <code>notice</code> <i>and</i> one of the following classes:</p>
<p>* <code>notice-error</code> – will display the message with a white background and a <strong>red</strong> left border.<br/>
* <code>notice-warning</code>– will display the message with a white background and a <strong>yellow/orange</strong> left border.<br/>
* <code>notice-success</code> – will display the message with a white background and a <strong>green</strong> left border.<br/>
* <code>notice-info</code> – will display the message with a white background a <strong>blue</strong> left border.<br/>
* optionally use <code>is-dismissible</code> to add a closing icon to your message via JavaScript. Its behavior, however, applies only on the current screen. It will not prevent a message from re-appearing once the page re-loads, or another page is loaded.</p>
<p><strong>Don’t use <code>update-nag</code> as a class name!</strong><br/>
It is not suitable for regular admin notices, as it will apply different layout styling to the message. Additionally it will trigger the message to be moved above the page title (<code>&lt;h1&gt;</code>), thus semantically prioritizing it above other notices which is not likely to be appropriate in a plugin or theme context.</p>
<p>The inner content of the div is the message, and it’s a good idea to wrap the message in a paragraph tag <code>&lt;p&gt;</code> for the correct amount of padding in the output.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function sample_admin_notice__success() {
?&gt;
&lt;div class="notice notice-success is-dismissible"&gt;
&lt;p&gt;&lt;?php _e( 'Done!', 'sample-text-domain' ); ?&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;?php
}
add_action( 'admin_notices', 'sample_admin_notice__success' );</code></pre>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function sample_admin_notice__error() {
$class = 'notice notice-error';
$message = __( 'Irks! An error has occurred.', 'sample-text-domain' );

printf( '&lt;div class="%1$s"&gt;&lt;p&gt;%2$s&lt;/p&gt;&lt;/div&gt;', esc_attr( $class ), esc_html( $message ) );
}
add_action( 'admin_notices', 'sample_admin_notice__error' );</code></pre>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="303"><code class="language-php line-numbers" id="wporg-source-code" lang="php">do_action( 'admin_notices' );
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-admin/admin-header.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-admin/admin-header.php#L303">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-admin/admin-header.php#L303-L303">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/3.1.0/">3.1.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-pjohanneson odd alt thread-even depth-1" data-comment-id="2411" id="comment-2411">
<article class="comment-body" id="div-comment-2411">
<a class="screen-reader-text" href="#comment-content-2411">Skip to note 11 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2411">
<p><strong>Sample Usage</strong></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function sample_admin_notice__success() {
    ?&gt;
    &lt;div class="notice notice-success is-dismissible"&gt;
        &lt;p&gt;&lt;?php _e( 'Done!', 'sample-text-domain' ); ?&gt;&lt;/p&gt;
    &lt;/div&gt;
    &lt;?php
}
add_action( 'admin_notices', 'sample_admin_notice__success' );</code></pre>
<p>The class <code>notice-success</code> will display the message with a white background and a green left border.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function sample_admin_notice__error() {
	$class = 'notice notice-error';
	$message = __( 'Irks! An error has occurred.', 'sample-text-domain' );

	printf( '&lt;div class="%1$s"&gt;&lt;p&gt;%2$s&lt;/p&gt;&lt;/div&gt;', esc_attr( $class ), esc_html( $message ) ); 
}
add_action( 'admin_notices', 'sample_admin_notice__error' );</code></pre>
<p>The class <code>notice-error</code> will display the message with a white background and a red left border.</p>
<p>Use <code>notice-warning</code> for a yellow/orange, and <code>notice-info</code> for a blue left border.</p>
<p>The class name <code>is-dismissible</code> will automatically trigger a closing icon to be added to your message via JavaScript. Its behavior, however, applies only on the current screen. It will not prevent a message from re-appearing once the page re-loads, or another page is loaded.</p>
<p>[copied/pasted from <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/admin_notices%5D" rel="nofollow ugc">https://codex.wordpress.org/Plugin_API/Action_Reference/admin_notices%5D</a></p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-2411">
<ul class="children">
<li class="comment byuser comment-author-spartelfant even depth-2" data-comment-id="3627" id="comment-3627">
<article class="comment-body" id="div-comment-3627">
<div class="wporg-has-embedded-code comment-content" id="comment-content-3627">
<div>Other interesting classes in this context are <code>.notice-alt</code> (gives the notice a background hue matching the color of <code>.notice-info</code>, <code>.notice-success</code>, etc), <code>.notice-title</code> (formats the element as a title for the notice, useful to blend in with the WP style), <code>.notice-large</code> (increases the size of the notification box as well as its padding). <a href="https://github.com/WordPress/WordPress/commit/dd0815702411eafcccd6c0db617c69f7b18c0ddc" rel="nofollow ugc">These styles were added in WordPress 4.4</a>.</div>
<div><a class="url" href="https://profiles.wordpress.org/spartelfant/" rel="external nofollow">Bart Kuijper</a> <a class="comment-date" href="https://developer.notmatt.press/reference/hooks/admin_notices/#comment-3627"><time datetime="2020-02-08T16:23:08+00:00">5 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-akrocks odd alt thread-odd thread-alt depth-1" data-comment-id="5938" id="comment-5938">
<article class="comment-body" id="div-comment-5938">
<a class="screen-reader-text" href="#comment-content-5938">Skip to note 12 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5938">
<p>Method to display message dynamically (Taking example of warning message)</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
 * Class to log warnings.
 */
class Log_Warning {
	/**
	 * Message to be displayed in a warning.
	 *
	 * @var string
	 */
	private string $message;

	/**
	 * Initialize class.
	 *
	 * @param string $message Message to be displayed in a warning.
	 */
	public function __construct( string $message ) {
		$this-&gt;message = $message;

		add_action( 'admin_notices', array( $this, 'render' ) );
	}

	/**
	 * Displays warning on the admin screen.
	 *
	 * @return void
	 */
	public function render() {
		printf( '&lt;div class="notice notice-warning is-dismissible"&gt;&lt;p&gt;Warning: %s&lt;/p&gt;&lt;/div&gt;', esc_html( $this-&gt;message ) );
	}
}</code></pre>
<p>Now you can simply initialize the class to display a dynamic message.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">new Log_Warning( 'Image should contain async tag' );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5938">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-bvl even thread-even depth-1" data-comment-id="3387" id="comment-3387">
<article class="comment-body" id="div-comment-3387">
<a class="screen-reader-text" href="#comment-content-3387">Skip to note 13 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3387">
<p>The Theme Review Team (TRT) released a package you can use in your theme or plugin to create admin notices:<br>
<a href="https://github.com/WPTRT/admin-notices" rel="nofollow ugc">https://github.com/WPTRT/admin-notices</a></br></p>
<p>Its primary purpose is for providing a standardized method of creating admin notices in a consistent manner using the default WordPress styles.</p>
<p>Notices created using this method are automatically dismissible.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3387">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-strackerphil-1 odd alt thread-odd thread-alt depth-1" data-comment-id="5163" id="comment-5163">
<article class="comment-body" id="div-comment-5163">
<a class="screen-reader-text" href="#comment-content-5163">Skip to note 14 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5163">
<p>Information on the unofficial, voluntary flag <code>'DISABLE_NAG_NOTICES'</code> is missing. Here are relevant details from the old codex page:</p>
<blockquote><p><strong>Disable Nag Notices</strong><br>
In late 2017, an unofficial defined constant was proposed by LittleBizzy as a voluntary way for plugin or theme authors to allow for hiding certain admin notices that may be considered bothersome by some webmasters. It can be used as follows:</br></p>
<p><code>define('DISABLE_NAG_NOTICES', true);</code></p>
<p>It should be noted that there is no universal support for this constant, although a limited number of plugin and theme authors have begun to support it. A typical use case might be for hiding recurring “nag” notices that ask users to review their extension on WordPress.org, etc. Furthermore, it should not have any effect on general notices that appear within WP Admin, and is simply a way for extensions to opt in to disabling certain notices at their own discretion.</p></blockquote>
<p>Usage sample:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">if ( ! defined( 'DISABLE_NAG_NOTICES' ) || ! DISABLE_NAG_NOTICES ) {
	add_action( 'admin_notices', 'my_admin_notice_renderer' );
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5163">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-jakeparis even thread-even depth-1" data-comment-id="6786" id="comment-6786">
<article class="comment-body" id="div-comment-6786">
<a class="screen-reader-text" href="#comment-content-6786">Skip to note 15 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6786">
<p>As of WordPress 6.4, you can output admin notice/messages with two new functions (which are yet to be documented): </p>
<p><code>wp_admin_notice()</code> and <code>wp_get_admin_notice()</code>;</p>
<p>First parameter is your message as a string; second parameter is an args array with the most useful being type: <code>[ 'type' =&gt; 'error' ]</code>. </p>
<p>So for example: </p>
<pre class="wp-block-code"><code class="language-php" lang="php">if ( $error === true ) {
  wp_admin_notice( 'There was an error!', [ 'type' =&gt; 'error' ] );
}</code></pre>
<p>More information:<br>
<a href="https://make.wordpress.org/core/2023/10/16/introducing-admin-notice-functions-in-wordpress-6-4/" rel="nofollow ugc">https://make.wordpress.org/core/2023/10/16/introducing-admin-notice-functions-in-wordpress-6-4/</a></br></p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6786">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-jakeparis odd alt thread-odd thread-alt depth-1" data-comment-id="3865" id="comment-3865">
<article class="comment-body" id="div-comment-3865">
<a class="screen-reader-text" href="#comment-content-3865">Skip to note 16 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3865">
<p>In order to display a notice, echo a div with the class <code>notice</code> and one of the following classes: </p>
<p>* <code>notice-error</code> – will display the message with a <strong>red</strong> left border.<br>
* <code>notice-warning</code>– will display the message with a <strong>yellow/orange</strong> left border.<br>
* <code>notice-success</code> – will display the message with a <strong>green</strong> left border.<br/>
* <code>notice-info</code> – will display the message with a <strong>blue</strong> left border.<br/>
* optionally use <code>is-dismissible</code> to add a closing icon to your message via JavaScript. Its behavior, however, applies only on the current screen. It will not prevent a message from re-appearing once the page re-loads, or another page is loaded.</br></br></p>
<p><strong>Don’t use <code>update-nag</code> as a class name!</strong>  It is not suitable for regular admin notices, as it will apply different layout styling to the message. Additionally it will trigger the message to be moved above the page title, thus semantically prioritizing it above other notices which is not likely to be appropriate in a plugin or theme context.   </p>
<p>The inner content of the div is the message, and it’s a good idea to wrap the message in a paragraph tag for the correct amount of padding in the output.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3865">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-chigozieorunta even thread-even depth-1" data-comment-id="5370" id="comment-5370">
<article class="comment-body" id="div-comment-5370">
<a class="screen-reader-text" href="#comment-content-5370">Skip to note 17 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5370">
<p>Here’s a simple way to add an independence day notice to some admin pages.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">add_action( 'admin_notices', 'independence_notice' );

function independence_notice() {
    global $pagenow;
	$admin_pages = [ 'index.php', 'edit.php', 'plugins.php' ];
    if ( in_array( $pagenow, $admin_pages ) ) {
		if ( date( 'j, F' ) === '1, October' ) { 
			?&gt;
			&lt;div class="notice notice-warning is-dismissible"&gt;
				&lt;p&gt;Happy Independence Day, Nigeria...&lt;/p&gt;
			&lt;/div&gt;
			&lt;?
		}
    }
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5370">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-mamesweb odd alt thread-odd thread-alt depth-1" data-comment-id="3462" id="comment-3462">
<article class="comment-body" id="div-comment-3462">
<a class="screen-reader-text" href="#comment-content-3462">Skip to note 18 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3462">
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">//Display admin notices 
function my_test_plugin_admin_notice()
{
	//get the current screen
	$screen = get_current_screen();

	//return if not plugin settings page 
	//To get the exact your screen ID just do var_dump($screen)
	if ( $screen-&gt;id !== 'toplevel_page_YOUR_PLUGIN_PAGE_SLUG') return;
		
	//Checks if settings updated 
	if ( isset( $_GET['settings-updated'] ) ) {
		//if settings updated successfully 
		if ( 'true' === $_GET['settings-updated'] ) : ?&gt;

			&lt;div class="notice notice-success is-dismissible"&gt;
				&lt;p&gt;&lt;?php _e('Congratulations! You did a very good job.', 'textdomain') ?&gt;&lt;/p&gt;
			&lt;/div&gt;

		&lt;?php else : ?&gt;

			&lt;div class="notice notice-warning is-dismissible"&gt;
				&lt;p&gt;&lt;?php _e('Sorry, I can not go through this.', 'textdomain') ?&gt;&lt;/p&gt;
			&lt;/div&gt;
			
		&lt;?php endif;
	}
}
add_action( 'admin_notices', 'my_test_plugin_admin_notice' );</code></pre>
<p>The class notice-success will display the message with a white background and a green left border and the class notice-error will display the message with a white background and a red left border. </p>
<p>if you want to display the errors you can also use notice-warning for a yellow/orange for a blue left border.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3462">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-pkostadinov even thread-even depth-1" data-comment-id="6325" id="comment-6325">
<article class="comment-body" id="div-comment-6325">
<a class="screen-reader-text" href="#comment-content-6325">Skip to note 19 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6325">
<p>The <code>admin_notices</code> hook doesn’t do anything on a Block Editor screen. For that reason you need to print it second time with JS.</p>
<p>Here is an example, of how to make a notification that will show on Post Edit Screen if Gutenberg is used:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">add_action( 'admin_notices', 'wpdocs_custom_notice' );

function wpdocs_custom_notice(): void {
	$message = 'Hello World!';
	$type    = 'info';

	if ( empty( $message ) || empty( $type ) ) {
		return;
	}

	?&gt;
	&lt;div class="notice notice-&lt;?php echo esc_attr( $type ); ?&gt; is-dismissible"&gt;
		&lt;?php echo wpautop( $message ); ?&gt;
	&lt;/div&gt;

	&lt;script&gt;
		( function( wp ) {
			wp.data.dispatch( 'core/notices' ).createNotice(
				'&lt;?php echo sanitize_text_field( $type ); ?&gt;',
				'&lt;?php echo sanitize_text_field( $message ); ?&gt;',
				{
					isDismissible: true,
				}
			);
		} )( window.wp );
	&lt;/script&gt;
	&lt;?php
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6325">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-jorensm odd alt thread-odd thread-alt depth-1" data-comment-id="6396" id="comment-6396">
<article class="comment-body" id="div-comment-6396">
<a class="screen-reader-text" href="#comment-content-6396">Skip to note 20 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6396">
<p>Here is code to display a notice after a page refresh(for example after a post has been saved/updated). </p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">class WPDocsAdminNotice {
	const NOTICE_FIELD = 'wpdocs_admin_notice_message';

	public function displayAdminNotice() {
		$option      = get_option( self::NOTICE_FIELD );
		$message     = isset( $option['message'] ) ? $option['message'] : false;
		$noticeLevel = ! empty( $option['notice-level'] ) ? $option['notice-level'] : 'notice-error';

		if ( $message ) {
			echo $message;
			delete_option( self::NOTICE_FIELD );
		}
	}

	public static function displayError( $message ) {
		self::updateOption($message, 'notice-error');
	}

	public static function displayWarning( $message ) {
		self::updateOption($message, 'notice-warning');
	}

	public static function displayInfo( $message ) {
		self::updateOption($message, 'notice-info');
	}

	public static function displaySuccess( $message ) {
		self::updateOption($message, 'notice-success');
	}

	protected static function updateOption( $message, $noticeLevel ) {
		update_option( self::NOTICE_FIELD, array(
			'message' =&gt; $message,
			'notice-level' =&gt; $noticeLevel
		) );
	}
}</code></pre>
<p><strong>Usage</strong></p>
<p>Add this action at the top level of your code:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'admin_notices', array( new WPDocsAdminNotice(), 'displayAdminNotice' ) );</code></pre>
<p>Then use the class anywhere in your code:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">WPDocsAdminNotice::displayError( __( 'An error occurred, check logs.' ) );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6396">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
