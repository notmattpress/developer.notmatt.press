
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.notmatt.press">Home</a></span><span><a href="https://developer.notmatt.press/reference/">Reference</a></span><span><a href="https://developer.notmatt.press/reference/hooks/">Hooks</a></span><span><a href="https://developer.notmatt.press/reference/classes/wp_query/get_posts/">WP_Query::get_posts</a></span><span class="is-current-page">split_the_query</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>split_the_query</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;"><span class="hook-func">apply_filters</span>( ‘split_the_query’,  <nobr><span class="arg-type">bool</span> <span class="arg-name">$split_the_query</span></nobr>,  <nobr><span class="arg-type">WP_Query</span> <span class="arg-name">$query</span></nobr>,  <nobr><span class="arg-type">string</span> <span class="arg-name">$old_request</span></nobr>,  <nobr><span class="arg-type">string[]</span> <span class="arg-name">$clauses</span></nobr> )</h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Filters whether to split the query.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Splitting the query will cause it to fetch just the IDs of the found posts (and then individually fetch each post by ID), rather than fetching every complete row at once. One massive result vs. many small results.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$split_the_query</code><span class="type"><span class="bool">bool</span></span></dt><dd><div class="desc"><span class="description">Whether or not to split the query.</span></div></dd><dt><code>$query</code><span class="type"><span class="WP_Query"><a href="https://developer.notmatt.press/reference/classes/wp_query/" rel="class">WP_Query</a></span></span></dt><dd><div class="desc"><span class="description">The <a href="https://developer.notmatt.press/reference/classes/wp_query/" rel="class">WP_Query</a> instance.</span></div></dd><dt><code>$old_request</code><span class="type"><span class="string">string</span></span></dt><dd><div class="desc"><span class="description">The complete SQL query before filtering.</span></div></dd><dt><code>$clauses</code><span class="type"><span class="string[]">string[]</span></span></dt><dd><div class="desc"><span class="description">Associative array of the clauses for the query.<br/>
<ul class="param-hash"><li><code>where</code> <span class="type">string</span><div class="desc">The WHERE clause of the query.</div></li>
<li><code>groupby</code> <span class="type">string</span><div class="desc">The GROUP BY clause of the query.</div></li>
<li><code>join</code> <span class="type">string</span><div class="desc">The JOIN clause of the query.</div></li>
<li><code>orderby</code> <span class="type">string</span><div class="desc">The ORDER BY clause of the query.</div></li>
<li><code>distinct</code> <span class="type">string</span><div class="desc">The DISTINCT clause of the query.</div></li>
<li><code>fields</code> <span class="type">string</span><div class="desc">The SELECT clause of the query.</div></li>
<li><code>limits</code> <span class="type">string</span><div class="desc">The LIMIT clause of the query.</div></li>
</ul>
</span></div></dd></dl></section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="3333"><code class="language-php line-numbers" id="wporg-source-code" lang="php">$split_the_query = apply_filters( 'split_the_query', $split_the_query, $this, $old_request, compact( $pieces ) );
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/class-wp-query.php/">View all references</a> <a href="https://core.trac.notmatt.press/browser/tags/6.7/src/wp-includes/class-wp-query.php#L3333">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/class-wp-query.php#L3333-L3333">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_query/get_posts/">WP_Query::get_posts()</a><code>wp-includes/class-wp-query.php</code></td><td><p>Retrieves an array of posts based on query variables.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/6.6.0/">6.6.0</a></td><td><span class="since-description">Added the <code>$old_request</code> and <code>$clauses</code> parameters.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/3.4.0/">3.4.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-tillkruess odd alt thread-odd thread-alt depth-1" data-comment-id="6457" id="comment-6457">
<article class="comment-body" id="div-comment-6457">
<a class="screen-reader-text" href="#comment-content-6457">Skip to note 2 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6457">
<p>See <a href="https://core.trac.notmatt.press/ticket/57296" rel="nofollow ugc">https://core.trac.notmatt.press/ticket/57296</a> for possible use-case.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6457">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
