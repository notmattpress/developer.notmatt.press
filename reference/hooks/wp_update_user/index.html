
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/hooks/">Hooks</a></span><span class="is-current-page">wp_update_user</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>wp_update_user</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;"><span class="hook-func">do_action</span>( ‘wp_update_user’,  <nobr><span class="arg-type">int</span> <span class="arg-name">$user_id</span></nobr>,  <nobr><span class="arg-type">array</span> <span class="arg-name">$userdata</span></nobr>,  <nobr><span class="arg-type">array</span> <span class="arg-name">$userdata_raw</span></nobr> )</h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Fires after the user has been updated and emails have been sent.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$user_id</code><span class="type"><span class="int">int</span></span></dt><dd><div class="desc"><span class="description">The ID of the user that was just updated.</span></div></dd><dt><code>$userdata</code><span class="type"><span class="array">array</span></span></dt><dd><div class="desc"><span class="description">The array of user data that was updated.</span></div></dd><dt><code>$userdata_raw</code><span class="type"><span class="array">array</span></span></dt><dd><div class="desc"><span class="description">The unedited array of user data that was updated.</span></div></dd></dl></section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="2812"><code class="language-php line-numbers" id="wporg-source-code" lang="php">do_action( 'wp_update_user', $user_id, $userdata, $userdata_raw );
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/user.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/user.php#L2812">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/user.php#L2812-L2812">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_update_user/">wp_update_user()</a><code>wp-includes/user.php</code></td><td><p>Updates a user in the database.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/6.3.0/">6.3.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-huzaifaalmesbah odd alt thread-odd thread-alt depth-1" data-comment-id="6627" id="comment-6627">
<article class="comment-body" id="div-comment-6627">
<a class="screen-reader-text" href="#comment-content-6627">Skip to note 2 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6627">
<p>Here’s an example code snippet to demonstrate the usage of the <code>do_action</code> function with the <code>'wp_update_user'</code> action in a WordPress context:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">// Define a function that will be executed when 'wp_update_user' action is triggered
function custom_user_update_action($user_id, $userdata, $userdata_raw) {
    // You can add your custom code here
    // For example, let's log the user ID and updated email address
    error_log('User ID ' . $user_id . ' updated their email to: ' . $userdata['user_email']);
}

// Hook the custom function to the 'wp_update_user' action
add_action('wp_update_user', 'custom_user_update_action', 10, 3);

// Simulate an update to user information (this would be an actual user update)
$user_id = 123;
$updated_userdata = array(
    'user_email' =&gt; 'newemail@example.com',
    // Other updated user data fields go here...
);

// Trigger the 'wp_update_user' action with the simulated update
do_action('wp_update_user', $user_id, $updated_userdata, $updated_userdata);</code></pre>
<p>Explanation of the code:</p>
<ol>
<li>We define a custom function <code>custom_user_update_action</code> that takes three parameters: <code>$user_id</code>, <code>$userdata</code>, and <code>$userdata_raw</code>. Inside this function, you can write any custom code you want to execute when a user’s information is updated. In this example, we’re just logging the user ID and the updated email address.</li>
<li>We use the <code>add_action</code> function to attach our custom function <code>custom_user_update_action</code> to the <code>'wp_update_user'</code> action. This means that whenever the ‘wp_update_user’ action is triggered, our custom function will be called.</li>
<li>In this simulated example, we set the <code>$user_id</code> to 123 (which would be the actual user ID) and create an array <code>$updated_userdata</code> containing the updated user data. This could include changes to the user’s email, display name, or any other relevant fields.</li>
<li>Finally, we use the <code>do_action</code> function to manually trigger the <code>'wp_update_user'</code> action with the provided parameters. This simulates an update to the user’s information and will cause our custom function to be executed.</li>
</ol>
<p>Remember that in a real WordPress environment, these actions and hooks are automatically triggered by various processes within WordPress, and developers can use them to add their own custom functionality at specific points in the system’s execution.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6627">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
