
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/classes/">Classes</a></span><span><a href="https://developer.wordpress.org/reference/classes/wp_term_query/">WP_Term_Query</a></span><span class="is-current-page">WP_Term_Query::__construct()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>WP_Term_Query::__construct()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">WP_Term_Query::__construct( <span class="arg-type">string|array</span> <span class="arg-name">$query</span> = <span class="arg-default">''</span> )</h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Constructor.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Sets up the term query, based on the query vars passed.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$query</code><span class="type"><span class="string">string</span>|<span class="array">array</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Array or query string of term query parameters. <br/>
<ul class="param-hash"><li><code>taxonomy</code> <span class="type">string|string[]</span><div class="desc">Taxonomy name, or array of taxonomy names, to which results should be limited.</div></li>
<li><code>object_ids</code> <span class="type">int|int[]</span><div class="desc">Object ID, or array of object IDs. Results will be limited to terms associated with these objects.</div></li>
<li><code>orderby</code> <span class="type">string</span><div class="desc">Field(s) to order terms by. Accepts:<br/>
<ul><li>Term fields (<code>'name'</code>, <code>'slug'</code>, <code>'term_group'</code>, <code>'term_id'</code>, <code>'id'</code>, <code>'description'</code>, <code>'parent'</code>, <code>'term_order'</code>). Unless <code>$object_ids</code> is not empty, <code>'term_order'</code> is treated the same as <code>'term_id'</code>.</li>
<li><code>'count'</code> to use the number of objects associated with the term.</li>
<li><code>'include'</code> to match the <code>'order'</code> of the <code>$include</code> param.</li>
<li><code>'slug__in'</code> to match the <code>'order'</code> of the <code>$slug</code> param.</li>
<li><code>'meta_value'</code></li>
<li><code>'meta_value_num'</code>.</li>
<li>The value of <code>$meta_key</code>.</li>
<li>The array keys of <code>$meta_query</code>.</li>
<li><code>'none'</code> to omit the ORDER BY clause.</li></ul>
Default <code>'name'</code>.</div></li>
<li><code>order</code> <span class="type">string</span><div class="desc">Whether to order terms in ascending or descending order.<br/>
Accepts <code>'ASC'</code> (ascending) or <code>'DESC'</code> (descending).<br/>
Default <code>'ASC'</code>.</div></li>
<li><code>hide_empty</code> <span class="type">bool|int</span><div class="desc">Whether to hide terms not assigned to any posts. Accepts <code>1|true</code> or <code>0|false</code>. Default <code>1|true</code>.</div></li>
<li><code>include</code> <span class="type">int[]|string</span><div class="desc">Array or comma/space-separated string of term IDs to include.<br/>
Default empty array.</div></li>
<li><code>exclude</code> <span class="type">int[]|string</span><div class="desc">Array or comma/space-separated string of term IDs to exclude.<br/>
If <code>$include</code> is non-empty, <code>$exclude</code> is ignored.<br/>
Default empty array.</div></li>
<li><code>exclude_tree</code> <span class="type">int[]|string</span><div class="desc">Array or comma/space-separated string of term IDs to exclude along with all of their descendant terms. If <code>$include</code> is non-empty, <code>$exclude_tree</code> is ignored. Default empty array.</div></li>
<li><code>number</code> <span class="type">int|string</span><div class="desc">Maximum number of terms to return. Accepts <code><code>''</code>|0</code> (all) or any positive number. Default <code><code>''</code>|0</code> (all). Note that <code>$number</code> may not return accurate results when coupled with <code>$object_ids</code>.<br/>
See #41796 for details.</div></li>
<li><code>offset</code> <span class="type">int</span><div class="desc">The number by which to offset the terms query. </div></li>
<li><code>fields</code> <span class="type">string</span><div class="desc">Term fields to query for. Accepts:<br/>
<ul><li><code>'all'</code> Returns an array of complete term objects (<code>WP_Term[]</code>).</li>
<li><code>'all_with_object_id'</code> Returns an array of term objects with the <code>'object_id'</code> param (<code>WP_Term[]</code>). Works only when the <code>$object_ids</code> parameter is populated.</li>
<li><code>'ids'</code> Returns an array of term IDs (<code>int[]</code>).</li>
<li><code>'tt_ids'</code> Returns an array of term taxonomy IDs (<code>int[]</code>).</li>
<li><code>'names'</code> Returns an array of term names (<code>string[]</code>).</li>
<li><code>'slugs'</code> Returns an array of term slugs (<code>string[]</code>).</li>
<li><code>'count'</code> Returns the number of matching terms (<code>int</code>).</li>
<li><code>'id=&gt;parent'</code> Returns an associative array of parent term IDs, keyed by term ID (<code>int[]</code>).</li>
<li><code>'id=&gt;name'</code> Returns an associative array of term names, keyed by term ID (<code>string[]</code>).</li>
<li><code>'id=&gt;slug'</code> Returns an associative array of term slugs, keyed by term ID (<code>string[]</code>).</li></ul>
Default <code>'all'</code>.</div></li>
<li><code>name</code> <span class="type">string|string[]</span><div class="desc">Name or array of names to return term(s) for.<br/>
</div></li>
<li><code>slug</code> <span class="type">string|string[]</span><div class="desc">Slug or array of slugs to return term(s) for.<br/>
</div></li>
<li><code>term_taxonomy_id</code> <span class="type">int|int[]</span><div class="desc">Term taxonomy ID, or array of term taxonomy IDs, to match when querying terms.</div></li>
<li><code>hierarchical</code> <span class="type">bool</span><div class="desc">Whether to include terms that have non-empty descendants (even if <code>$hide_empty</code> is set to true). Default true.</div></li>
<li><code>search</code> <span class="type">string</span><div class="desc">Search criteria to match terms. Will be SQL-formatted with wildcards before and after. </div></li>
<li><code>name__like</code> <span class="type">string</span><div class="desc">Retrieve terms with criteria by which a term is LIKE <code>$name__like</code>. </div></li>
<li><code>description__like</code> <span class="type">string</span><div class="desc">Retrieve terms where the description is LIKE <code>$description__like</code>. </div></li>
<li><code>pad_counts</code> <span class="type">bool</span><div class="desc">Whether to pad the quantity of a term’s children in the quantity of each term’s "count" object variable. Default false.</div></li>
<li><code>get</code> <span class="type">string</span><div class="desc">Whether to return terms regardless of ancestry or whether the terms are empty. Accepts <code>'all'</code> or <code>''</code> (disabled). Default <code>''</code>.</div></li>
<li><code>child_of</code> <span class="type">int</span><div class="desc">Term ID to retrieve child terms of. If multiple taxonomies are passed, <code>$child_of</code> is ignored. Default 0.</div></li>
<li><code>parent</code> <span class="type">int</span><div class="desc">Parent term ID to retrieve direct-child terms of.<br/>
</div></li>
<li><code>childless</code> <span class="type">bool</span><div class="desc">True to limit results to terms that have no children.<br/>
This parameter has no effect on non-hierarchical taxonomies.<br/>
Default false.</div></li>
<li><code>cache_domain</code> <span class="type">string</span><div class="desc">Unique cache key to be produced when this query is stored in an object cache. Default <code>'core'</code>.</div></li>
<li><code>cache_results</code> <span class="type">bool</span><div class="desc">Whether to cache term information. Default true.</div></li>
<li><code>update_term_meta_cache</code> <span class="type">bool</span><div class="desc">Whether to prime meta caches for matched terms. Default true.</div></li>
<li><code>meta_key</code> <span class="type">string|string[]</span><div class="desc">Meta key or keys to filter by.</div></li>
<li><code>meta_value</code> <span class="type">string|string[]</span><div class="desc">Meta value or values to filter by.</div></li>
<li><code>meta_compare</code> <span class="type">string</span><div class="desc">MySQL operator used for comparing the meta value.<br/>
See <a href="https://developer.notmatt.press/reference/classes/wp_meta_query/__construct/" rel="method">WP_Meta_Query::__construct()</a> for accepted values and default value.</div></li>
<li><code>meta_compare_key</code> <span class="type">string</span><div class="desc">MySQL operator used for comparing the meta key.<br/>
See <a href="https://developer.notmatt.press/reference/classes/wp_meta_query/__construct/" rel="method">WP_Meta_Query::__construct()</a> for accepted values and default value.</div></li>
<li><code>meta_type</code> <span class="type">string</span><div class="desc">MySQL data type that the meta_value column will be CAST to for comparisons.<br/>
See <a href="https://developer.notmatt.press/reference/classes/wp_meta_query/__construct/" rel="method">WP_Meta_Query::__construct()</a> for accepted values and default value.</div></li>
<li><code>meta_type_key</code> <span class="type">string</span><div class="desc">MySQL data type that the meta_key column will be CAST to for comparisons.<br/>
See <a href="https://developer.notmatt.press/reference/classes/wp_meta_query/__construct/" rel="method">WP_Meta_Query::__construct()</a> for accepted values and default value.</div></li>
<li><code>meta_query</code> <span class="type">array</span><div class="desc">An associative array of <a href="https://developer.notmatt.press/reference/classes/wp_meta_query/" rel="class">WP_Meta_Query</a> arguments.<br/>
See <a href="https://developer.notmatt.press/reference/classes/wp_meta_query/__construct/" rel="method">WP_Meta_Query::__construct()</a> for accepted values.</div></li>
</ul>
</span></div><p class="default">Default:<code>''</code></p></dd></dl></section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="196"><code class="language-php line-numbers" id="wporg-source-code" lang="php">public function __construct( $query = '' ) {
	$this-&gt;query_var_defaults = array(
		'taxonomy'               =&gt; null,
		'object_ids'             =&gt; null,
		'orderby'                =&gt; 'name',
		'order'                  =&gt; 'ASC',
		'hide_empty'             =&gt; true,
		'include'                =&gt; array(),
		'exclude'                =&gt; array(),
		'exclude_tree'           =&gt; array(),
		'number'                 =&gt; '',
		'offset'                 =&gt; '',
		'fields'                 =&gt; 'all',
		'name'                   =&gt; '',
		'slug'                   =&gt; '',
		'term_taxonomy_id'       =&gt; '',
		'hierarchical'           =&gt; true,
		'search'                 =&gt; '',
		'name__like'             =&gt; '',
		'description__like'      =&gt; '',
		'pad_counts'             =&gt; false,
		'get'                    =&gt; '',
		'child_of'               =&gt; 0,
		'parent'                 =&gt; '',
		'childless'              =&gt; false,
		'cache_domain'           =&gt; 'core',
		'cache_results'          =&gt; true,
		'update_term_meta_cache' =&gt; true,
		'meta_query'             =&gt; '',
		'meta_key'               =&gt; '',
		'meta_value'             =&gt; '',
		'meta_type'              =&gt; '',
		'meta_compare'           =&gt; '',
	);

	if ( ! empty( $query ) ) {
		$this-&gt;query( $query );
	}
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/class-wp-term-query.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/class-wp-term-query.php#L196">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/class-wp-term-query.php#L196-L234">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_term_query/query/">WP_Term_Query::query()</a><code>wp-includes/class-wp-term-query.php</code></td><td><p>Sets up the query and retrieves the results.</p>
</td></tr></tbody></table></figure></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/_wp_build_title_and_description_for_taxonomy_block_template/">_wp_build_title_and_description_for_taxonomy_block_template()</a><code>wp-includes/block-template-utils.php</code></td><td><p>Builds the title and description of a taxonomy-specific template based on the underlying entity referenced.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_term_search_handler/search_items/">WP_REST_Term_Search_Handler::search_items()</a><code>wp-includes/rest-api/search/class-wp-rest-term-search-handler.php</code></td><td><p>Searches terms for a given search request.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_sitemaps_taxonomies/get_url_list/">WP_Sitemaps_Taxonomies::get_url_list()</a><code>wp-includes/sitemaps/providers/class-wp-sitemaps-taxonomies.php</code></td><td><p>Gets a URL list for a taxonomy sitemap.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_tax_query/transform_query/">WP_Tax_Query::transform_query()</a><code>wp-includes/class-wp-tax-query.php</code></td><td><p>Transforms a single query, from one field to another.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_terms/">get_terms()</a><code>wp-includes/taxonomy.php</code></td><td><p>Retrieves the terms in a given taxonomy or list of taxonomies.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/6.4.0/">6.4.0</a></td><td><span class="since-description">Introduced the <code>'cache_results'</code> parameter.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/5.3.0/">5.3.0</a></td><td><span class="since-description">Introduced the <code>'meta_type_key'</code> parameter.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/5.1.0/">5.1.0</a></td><td><span class="since-description">Introduced the <code>'meta_compare_key'</code> parameter.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/4.9.0/">4.9.0</a></td><td><span class="since-description">Added <code>'slug__in'</code> support for <code>'orderby'</code>.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/4.7.0/">4.7.0</a></td><td><span class="since-description">Introduced <code>'object_ids'</code> parameter.</span></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/since/4.6.0/">4.6.0</a></td><td>Introduced.</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 1 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-bucketpress even thread-odd thread-alt depth-1" data-comment-id="2500" id="comment-2500">
<article class="comment-body" id="div-comment-2500">
<a class="screen-reader-text" href="#comment-content-2500">Skip to note 4 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2500">
<p>@jmarceli ,</p>
<p>If we wanted to limit the query to specific term ids we would use the ‘include’ or ‘exclude’ parameters instead. ‘object_ids’ are useful for cases such as when we want to return terms associated with a set of posts. In such a case we might want to do the following in a taxonomy archive:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">$someposts = get_posts(
	array(
		'post_type' =&gt; 'custom_post_type',
		'posts_per_page' =&gt; -1,
		'fields' =&gt; 'ids', // return an array of ids
		'tax_query' =&gt; array(
			array(
				'taxonomy' =&gt; get_query_var('taxonomy'),
				'field' =&gt; 'slug',
				'terms' =&gt; $term_slug = get_queried_object()-&gt;slug,
			)
		)
	)
);</code></pre>
<p>And then call this:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">$somepoststerms = get_terms(
	array(
		'taxonomy' =&gt; 'custom_tax',
		'object_ids' =&gt; $someposts,
	)
);</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2500">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment odd alt thread-even depth-1" data-comment-id="4093" id="comment-4093">
<article class="comment-body" id="div-comment-4093">
<a class="screen-reader-text" href="#comment-content-4093">Skip to note 5 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4093">
<p>Note the inconsistency between 0 here and -1 on many other methods to return all the results. Also passing e negative number automatically convert to positive, so -1 means 1, further confusion.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4093">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-jmarceli even thread-odd thread-alt depth-1 bad-note" data-comment-id="2442" id="comment-2442">
<article class="comment-body" id="div-comment-2442">
<a class="screen-reader-text" href="#comment-content-2442">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2442">
<p><code>'object_ids'</code> query parameter should be replaced with an object name, example for <strong>get_terms</strong>:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">get_terms([
    'taxonomy' =&gt; 'some_name',
    'term_ids' =&gt; [12,13], // NOT 'object_ids' =&gt; [12,13]
    'fields' =&gt; 'names',
  ])</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="3" id="feedback-2442">
<ul class="children">
<li class="comment byuser comment-author-salzano odd alt depth-2" data-comment-id="5603" id="comment-5603">
<article class="comment-body" id="div-comment-5603">
<div class="wporg-has-embedded-code comment-content" id="comment-content-5603">
<div>The <code>include</code> parameter accepts term IDs.</div>
<div><a class="url" href="https://profiles.wordpress.org/salzano/" rel="external nofollow">Corey Salzano</a> <a class="comment-date" href="https://developer.notmatt.press/reference/classes/wp_term_query/__construct/#comment-5603"><time datetime="2022-01-12T14:36:09+00:00">3 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
<li class="comment byuser comment-author-aefmind even depth-2" data-comment-id="5765" id="comment-5765">
<article class="comment-body" id="div-comment-5765">
<div class="wporg-has-embedded-code comment-content" id="comment-content-5765">
<div><code>'object_ids'</code> means posts (objects) associated to terms, results will be limited to terms associated with these posts. <code>'term_ids'</code> wouldn’t be a replacement for that.</div>
<div><a class="url" href="https://profiles.wordpress.org/aefmind/" rel="external nofollow">aefmind</a> <a class="comment-date" href="https://developer.notmatt.press/reference/classes/wp_term_query/__construct/#comment-5765"><time datetime="2022-04-04T20:20:15+00:00">3 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
<li class="comment byuser comment-author-jdamner odd alt depth-2" data-comment-id="7102" id="comment-7102">
<article class="comment-body" id="div-comment-7102">
<div class="wporg-has-embedded-code comment-content" id="comment-content-7102">
<div>For those reading <em>“Unless $object_ids is not empty, ‘term_order’ is treated the same as ‘term_id’.”</em> and getting confused on the double negatives, this can be more easily read as:   If <code>$object_ids</code> is empty, <code>term_order</code> is treated the same as <code>term_id</code>.</div>
<div><a class="url" href="https://profiles.wordpress.org/jdamner/" rel="external nofollow">James Amner</a> <a class="comment-date" href="https://developer.notmatt.press/reference/classes/wp_term_query/__construct/#comment-7102"><time datetime="2024-07-18T13:15:21+00:00">7 months ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
