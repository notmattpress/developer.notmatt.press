
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/classes/">Classes</a></span><span class="is-current-page">Walker</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>Walker</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;"><span class="keyword">class</span> Walker {}</h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>A class for displaying various tree-like structures.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Extend the <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> class to use it, see examples below. Child classes do not need to implement all of the abstract methods in the class. The child only needs to implement the methods that are needed.</p>
</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<p>The <tt><a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a></tt> class was implemented in <a href="https://codex.wordpress.org/Version_2.1" title="Version 2.1">WordPress 2.1</a> to provide developers with a means to traverse tree-like data structures for the purpose of rendering HTML.</p>
<h3 class="is-toc-heading wp-block-heading" id="tree-like-structures" tabindex="-1"><a href="#tree-like-structures">Tree-Like Structures</a></h3>
<p>In terms of web development, a tree-like structure is an array or object with hierarchical data – such that it can be visually represented with a root element and subtrees of children.</p>
<p>Examples of WordPress objects with data that are structured in a “tree-like” way include navigational menus, page categories, and breadcrumbs.</p>
<h3 class="is-toc-heading wp-block-heading" id="role-of-walker" tabindex="-1"><a href="#role-of-walker">Role of Walker</a></h3>
<p><tt><a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a></tt> is an <i><a class="external text" href="http://php.net/manual/en/language.oop5.abstract.php" rel="nofollow">abstract</a></i> class. In order to be useful the class must be <a class="external text" href="http://php.net/manual/en/reflection.extending.php" rel="nofollow">extended</a> and any necessary abstract methods defined (see “Abstract Methods” below for more).</p>
<p>The class itself simply “walks” through each node in a tree (e.g. an object or associative array) and executes an abstract function at each node. In order to take an action at one of these nodes, a developer must define those abstract methods within a custom child class.</p>
<p>Although the <tt><a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a></tt> class has many uses, one of the most common usages by developers is outputting HTML for custom menus (usually ones that have been defined using the <a href="https://wordpress.org/support/article/appearance-menus-screen/" title="Appearance Menus Screen">Appearance <span aria-hidden="true" class="wp-exclude-emoji"><span aria-hidden="true" class="wp-exclude-emoji">→</span></span> Menus</a> screen in the <a href="https://wordpress.org/support/article/administration-screens/" title="Administration Screens">Administration Screens</a>).</p>
<p><b>Abstraction Note:</b> The <tt><a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a></tt> class was created <i>prior</i> to PHP5 and so does <b>not</b> make use of PHP5’s explicit abstraction keywords or features. In this case, the class and its methods are <i>implicitly</i> abstract (PHP4 compatible) and <b>not</b> <i>explicitly</i> abstract (PHP5 compatible). Developers are not required to implement any methods of the class, and may use or override only those methods that are needed. If you chose not to extend a specific abstract method, that method will simply do nothing.</p>
<h2 class="is-toc-heading wp-block-heading" id="methods-properties" tabindex="-1"><a href="#methods-properties">Methods &amp; Properties</a></h2>
<p>Please refer source code for the complete lists of methods and properties. Below description may cover some of them.</p>
<h3 class="is-toc-heading wp-block-heading" id="properties" tabindex="-1"><a href="#properties">Properties</a></h3>
<p>Note that the properties of the <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> class are intended to be set by the extending class and probably should not vary over the lifetime of an instance.</p>
<dl>
<dt><tt>$db_fields</tt></dt>
<dd><b>Required</b>. Because <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> can take any type of tree object, you need to specify what object properties the <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> class should treat as parent id and item id (usually these are the names of database fields, hence the property name). This property <b>must</b> be an associative array with two keys: <code>'parent'</code> and <code>'id'</code>. The value of each key should be the names of the object properties that hold the <i>parent id</i> and <i>item id</i>, respectively.</dd>
</dl>
<dl>
<dt><tt>$tree_type</tt></dt>
<dd>Optional. The <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> class itself makes no use of this value, although it may be useful to developers. Internally, WordPress’s own extended <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> classes will set this to values like ‘category’ or ‘page’.</dd>
</dl>
<dl>
<dt><tt>$max_pages</tt></dt>
<dd>Optional. The maximum number of pages walked by the <tt>paged</tt> walker.</dd>
</dl>
<h2 class="is-toc-heading wp-block-heading" id="usage" tabindex="-1"><a href="#usage">Usage</a></h2>
<p>There are two general use-cases for the <tt><a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a></tt> class.</p>
<h3 class="is-toc-heading wp-block-heading" id="usage-as-a-callback" tabindex="-1"><a href="#usage-as-a-callback">Usage as a Callback</a></h3>
<p>Some WordPress APIs and functions ( such as <a href="https://developer.notmatt.press/reference/functions/wp_nav_menu/" title="Function Reference/wp nav menu">wp_nav_menu()</a> ) allow developers to specify a custom <tt><a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a></tt> class as a callback. This is the most common usage of the <tt><a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a></tt> class by developers.</p>
<p>In this scenario, the class is automatically passed a tree of elements. When creating a custom walker for this scenario, you will generally only need to define the <b>abstract</b> methods needed to create the kind of structure you want. Everything else is handled automatically for you.</p>
<h3 class="is-toc-heading wp-block-heading" id="custom-usage" tabindex="-1"><a href="#custom-usage">Custom Usage</a></h3>
<p>It is also possible to call your custom <tt><a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a></tt> classes manually. This is particularly useful for plugin developers.</p>
<p>In this scenario, you can initiate the walker by calling either the <tt>walk()</tt> or <tt>paged_walk()</tt> method of your child class, with the appropriate parameters.</p>
</section>
<section class="wp-block-wporg-code-reference-methods"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="methods" tabindex="-1"><a href="#methods">Methods</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Name</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker/display_element/">Walker::display_element</a></td><td>Traverses elements to create list from elements.</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker/end_el/">Walker::end_el</a></td><td>Ends the element output, if needed.</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker/end_lvl/">Walker::end_lvl</a></td><td>Ends the list of after the elements are added.</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker/get_number_of_root_elements/">Walker::get_number_of_root_elements</a></td><td>Calculates the total number of root elements.</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker/paged_walk/">Walker::paged_walk</a></td><td>Produces a page of nested elements.</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker/start_el/">Walker::start_el</a></td><td>Starts the element output.</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker/start_lvl/">Walker::start_lvl</a></td><td>Starts the list before the elements are added.</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker/unset_children/">Walker::unset_children</a></td><td>Unsets all the children for a given top level element.</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker/walk/">Walker::walk</a></td><td>Displays array of elements hierarchically.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="15"><code class="language-php line-numbers" id="wporg-source-code" lang="php">class Walker {
	/**
	 * What the class handles.
	 *
	 * @since 2.1.0
	 * @var string
	 */
	public $tree_type;

	/**
	 * DB fields to use.
	 *
	 * @since 2.1.0
	 * @var string[]
	 */
	public $db_fields;

	/**
	 * Max number of pages walked by the paged walker.
	 *
	 * @since 2.7.0
	 * @var int
	 */
	public $max_pages = 1;

	/**
	 * Whether the current element has children or not.
	 *
	 * To be used in start_el().
	 *
	 * @since 4.0.0
	 * @var bool
	 */
	public $has_children;

	/**
	 * Starts the list before the elements are added.
	 *
	 * The $args parameter holds additional values that may be used with the child
	 * class methods. This method is called at the start of the output list.
	 *
	 * @since 2.1.0
	 * @abstract
	 *
	 * @param string $output Used to append additional content (passed by reference).
	 * @param int    $depth  Depth of the item.
	 * @param array  $args   An array of additional arguments.
	 */
	public function start_lvl( &amp;$output, $depth = 0, $args = array() ) {}

	/**
	 * Ends the list of after the elements are added.
	 *
	 * The $args parameter holds additional values that may be used with the child
	 * class methods. This method finishes the list at the end of output of the elements.
	 *
	 * @since 2.1.0
	 * @abstract
	 *
	 * @param string $output Used to append additional content (passed by reference).
	 * @param int    $depth  Depth of the item.
	 * @param array  $args   An array of additional arguments.
	 */
	public function end_lvl( &amp;$output, $depth = 0, $args = array() ) {}

	/**
	 * Starts the element output.
	 *
	 * The $args parameter holds additional values that may be used with the child
	 * class methods. Also includes the element output.
	 *
	 * @since 2.1.0
	 * @since 5.9.0 Renamed `$object` (a PHP reserved keyword) to `$data_object` for PHP 8 named parameter support.
	 * @abstract
	 *
	 * @param string $output            Used to append additional content (passed by reference).
	 * @param object $data_object       The data object.
	 * @param int    $depth             Depth of the item.
	 * @param array  $args              An array of additional arguments.
	 * @param int    $current_object_id Optional. ID of the current item. Default 0.
	 */
	public function start_el( &amp;$output, $data_object, $depth = 0, $args = array(), $current_object_id = 0 ) {}

	/**
	 * Ends the element output, if needed.
	 *
	 * The $args parameter holds additional values that may be used with the child class methods.
	 *
	 * @since 2.1.0
	 * @since 5.9.0 Renamed `$object` (a PHP reserved keyword) to `$data_object` for PHP 8 named parameter support.
	 * @abstract
	 *
	 * @param string $output      Used to append additional content (passed by reference).
	 * @param object $data_object The data object.
	 * @param int    $depth       Depth of the item.
	 * @param array  $args        An array of additional arguments.
	 */
	public function end_el( &amp;$output, $data_object, $depth = 0, $args = array() ) {}

	/**
	 * Traverses elements to create list from elements.
	 *
	 * Display one element if the element doesn't have any children otherwise,
	 * display the element and its children. Will only traverse up to the max
	 * depth and no ignore elements under that depth. It is possible to set the
	 * max depth to include all depths, see walk() method.
	 *
	 * This method should not be called directly, use the walk() method instead.
	 *
	 * @since 2.5.0
	 *
	 * @param object $element           Data object.
	 * @param array  $children_elements List of elements to continue traversing (passed by reference).
	 * @param int    $max_depth         Max depth to traverse.
	 * @param int    $depth             Depth of current element.
	 * @param array  $args              An array of arguments.
	 * @param string $output            Used to append additional content (passed by reference).
	 */
	public function display_element( $element, &amp;$children_elements, $max_depth, $depth, $args, &amp;$output ) {
		if ( ! $element ) {
			return;
		}

		$max_depth = (int) $max_depth;
		$depth     = (int) $depth;

		$id_field = $this-&gt;db_fields['id'];
		$id       = $element-&gt;$id_field;

		// Display this element.
		$this-&gt;has_children = ! empty( $children_elements[ $id ] );
		if ( isset( $args[0] ) &amp;&amp; is_array( $args[0] ) ) {
			$args[0]['has_children'] = $this-&gt;has_children; // Back-compat.
		}

		$this-&gt;start_el( $output, $element, $depth, ...array_values( $args ) );

		// Descend only when the depth is right and there are children for this element.
		if ( ( 0 === $max_depth || $max_depth &gt; $depth + 1 ) &amp;&amp; isset( $children_elements[ $id ] ) ) {

			foreach ( $children_elements[ $id ] as $child ) {

				if ( ! isset( $newlevel ) ) {
					$newlevel = true;
					// Start the child delimiter.
					$this-&gt;start_lvl( $output, $depth, ...array_values( $args ) );
				}
				$this-&gt;display_element( $child, $children_elements, $max_depth, $depth + 1, $args, $output );
			}
			unset( $children_elements[ $id ] );
		}

		if ( isset( $newlevel ) &amp;&amp; $newlevel ) {
			// End the child delimiter.
			$this-&gt;end_lvl( $output, $depth, ...array_values( $args ) );
		}

		// End this element.
		$this-&gt;end_el( $output, $element, $depth, ...array_values( $args ) );
	}

	/**
	 * Displays array of elements hierarchically.
	 *
	 * Does not assume any existing order of elements.
	 *
	 * $max_depth = -1 means flatly display every element.
	 * $max_depth = 0 means display all levels.
	 * $max_depth &gt; 0 specifies the number of display levels.
	 *
	 * @since 2.1.0
	 * @since 5.3.0 Formalized the existing `...$args` parameter by adding it
	 *              to the function signature.
	 *
	 * @param array $elements  An array of elements.
	 * @param int   $max_depth The maximum hierarchical depth.
	 * @param mixed ...$args   Optional additional arguments.
	 * @return string The hierarchical item output.
	 */
	public function walk( $elements, $max_depth, ...$args ) {
		$output = '';

		$max_depth = (int) $max_depth;

		// Invalid parameter or nothing to walk.
		if ( $max_depth &lt; -1 || empty( $elements ) ) {
			return $output;
		}

		$parent_field = $this-&gt;db_fields['parent'];

		// Flat display.
		if ( -1 === $max_depth ) {
			$empty_array = array();
			foreach ( $elements as $e ) {
				$this-&gt;display_element( $e, $empty_array, 1, 0, $args, $output );
			}
			return $output;
		}

		/*
		 * Need to display in hierarchical order.
		 * Separate elements into two buckets: top level and children elements.
		 * Children_elements is two dimensional array. Example:
		 * Children_elements[10][] contains all sub-elements whose parent is 10.
		 */
		$top_level_elements = array();
		$children_elements  = array();
		foreach ( $elements as $e ) {
			if ( empty( $e-&gt;$parent_field ) ) {
				$top_level_elements[] = $e;
			} else {
				$children_elements[ $e-&gt;$parent_field ][] = $e;
			}
		}

		/*
		 * When none of the elements is top level.
		 * Assume the first one must be root of the sub elements.
		 */
		if ( empty( $top_level_elements ) ) {

			$first = array_slice( $elements, 0, 1 );
			$root  = $first[0];

			$top_level_elements = array();
			$children_elements  = array();
			foreach ( $elements as $e ) {
				if ( $root-&gt;$parent_field === $e-&gt;$parent_field ) {
					$top_level_elements[] = $e;
				} else {
					$children_elements[ $e-&gt;$parent_field ][] = $e;
				}
			}
		}

		foreach ( $top_level_elements as $e ) {
			$this-&gt;display_element( $e, $children_elements, $max_depth, 0, $args, $output );
		}

		/*
		 * If we are displaying all levels, and remaining children_elements is not empty,
		 * then we got orphans, which should be displayed regardless.
		 */
		if ( ( 0 === $max_depth ) &amp;&amp; count( $children_elements ) &gt; 0 ) {
			$empty_array = array();
			foreach ( $children_elements as $orphans ) {
				foreach ( $orphans as $op ) {
					$this-&gt;display_element( $op, $empty_array, 1, 0, $args, $output );
				}
			}
		}

		return $output;
	}

	/**
	 * Produces a page of nested elements.
	 *
	 * Given an array of hierarchical elements, the maximum depth, a specific page number,
	 * and number of elements per page, this function first determines all top level root elements
	 * belonging to that page, then lists them and all of their children in hierarchical order.
	 *
	 * $max_depth = 0 means display all levels.
	 * $max_depth &gt; 0 specifies the number of display levels.
	 *
	 * @since 2.7.0
	 * @since 5.3.0 Formalized the existing `...$args` parameter by adding it
	 *              to the function signature.
	 *
	 * @param array $elements  An array of elements.
	 * @param int   $max_depth The maximum hierarchical depth.
	 * @param int   $page_num  The specific page number, beginning with 1.
	 * @param int   $per_page  Number of elements per page.
	 * @param mixed ...$args   Optional additional arguments.
	 * @return string XHTML of the specified page of elements.
	 */
	public function paged_walk( $elements, $max_depth, $page_num, $per_page, ...$args ) {
		$output = '';

		$max_depth = (int) $max_depth;

		if ( empty( $elements ) || $max_depth &lt; -1 ) {
			return $output;
		}

		$parent_field = $this-&gt;db_fields['parent'];

		$count = -1;
		if ( -1 === $max_depth ) {
			$total_top = count( $elements );
		}
		if ( $page_num &lt; 1 || $per_page &lt; 0 ) {
			// No paging.
			$paging = false;
			$start  = 0;
			if ( -1 === $max_depth ) {
				$end = $total_top;
			}
			$this-&gt;max_pages = 1;
		} else {
			$paging = true;
			$start  = ( (int) $page_num - 1 ) * (int) $per_page;
			$end    = $start + $per_page;
			if ( -1 === $max_depth ) {
				$this-&gt;max_pages = (int) ceil( $total_top / $per_page );
			}
		}

		// Flat display.
		if ( -1 === $max_depth ) {
			if ( ! empty( $args[0]['reverse_top_level'] ) ) {
				$elements = array_reverse( $elements );
				$oldstart = $start;
				$start    = $total_top - $end;
				$end      = $total_top - $oldstart;
			}

			$empty_array = array();
			foreach ( $elements as $e ) {
				++$count;
				if ( $count &lt; $start ) {
					continue;
				}
				if ( $count &gt;= $end ) {
					break;
				}
				$this-&gt;display_element( $e, $empty_array, 1, 0, $args, $output );
			}
			return $output;
		}

		/*
		 * Separate elements into two buckets: top level and children elements.
		 * Children_elements is two dimensional array, e.g.
		 * $children_elements[10][] contains all sub-elements whose parent is 10.
		 */
		$top_level_elements = array();
		$children_elements  = array();
		foreach ( $elements as $e ) {
			if ( empty( $e-&gt;$parent_field ) ) {
				$top_level_elements[] = $e;
			} else {
				$children_elements[ $e-&gt;$parent_field ][] = $e;
			}
		}

		$total_top = count( $top_level_elements );
		if ( $paging ) {
			$this-&gt;max_pages = (int) ceil( $total_top / $per_page );
		} else {
			$end = $total_top;
		}

		if ( ! empty( $args[0]['reverse_top_level'] ) ) {
			$top_level_elements = array_reverse( $top_level_elements );
			$oldstart           = $start;
			$start              = $total_top - $end;
			$end                = $total_top - $oldstart;
		}
		if ( ! empty( $args[0]['reverse_children'] ) ) {
			foreach ( $children_elements as $parent =&gt; $children ) {
				$children_elements[ $parent ] = array_reverse( $children );
			}
		}

		foreach ( $top_level_elements as $e ) {
			++$count;

			// For the last page, need to unset earlier children in order to keep track of orphans.
			if ( $end &gt;= $total_top &amp;&amp; $count &lt; $start ) {
					$this-&gt;unset_children( $e, $children_elements );
			}

			if ( $count &lt; $start ) {
				continue;
			}

			if ( $count &gt;= $end ) {
				break;
			}

			$this-&gt;display_element( $e, $children_elements, $max_depth, 0, $args, $output );
		}

		if ( $end &gt;= $total_top &amp;&amp; count( $children_elements ) &gt; 0 ) {
			$empty_array = array();
			foreach ( $children_elements as $orphans ) {
				foreach ( $orphans as $op ) {
					$this-&gt;display_element( $op, $empty_array, 1, 0, $args, $output );
				}
			}
		}

		return $output;
	}

	/**
	 * Calculates the total number of root elements.
	 *
	 * @since 2.7.0
	 *
	 * @param array $elements Elements to list.
	 * @return int Number of root elements.
	 */
	public function get_number_of_root_elements( $elements ) {
		$num          = 0;
		$parent_field = $this-&gt;db_fields['parent'];

		foreach ( $elements as $e ) {
			if ( empty( $e-&gt;$parent_field ) ) {
				++$num;
			}
		}
		return $num;
	}

	/**
	 * Unsets all the children for a given top level element.
	 *
	 * @since 2.7.0
	 *
	 * @param object $element           The top level element.
	 * @param array  $children_elements The children elements.
	 */
	public function unset_children( $element, &amp;$children_elements ) {
		if ( ! $element || ! $children_elements ) {
			return;
		}

		$id_field = $this-&gt;db_fields['id'];
		$id       = $element-&gt;$id_field;

		if ( ! empty( $children_elements[ $id ] ) &amp;&amp; is_array( $children_elements[ $id ] ) ) {
			foreach ( (array) $children_elements[ $id ] as $child ) {
				$this-&gt;unset_children( $child, $children_elements );
			}
		}

		unset( $children_elements[ $id ] );
	}
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/class-wp-walker.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/class-wp-walker.php#L15">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/class-wp-walker.php#L15-L456">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker_category_checklist/">Walker_Category_Checklist</a><code>wp-admin/includes/class-walker-category-checklist.php</code></td><td><p>Core walker class to output an unordered list of category checkbox input elements.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker_category/">Walker_Category</a><code>wp-includes/class-walker-category.php</code></td><td><p>Core class used to create an HTML list of categories.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker_categorydropdown/">Walker_CategoryDropdown</a><code>wp-includes/class-walker-category-dropdown.php</code></td><td><p>Core class used to create an HTML dropdown list of Categories.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker_pagedropdown/">Walker_PageDropdown</a><code>wp-includes/class-walker-page-dropdown.php</code></td><td><p>Core class used to create an HTML drop-down list of pages.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/walker_nav_menu/">Walker_Nav_Menu</a><code>wp-includes/class-walker-nav-menu.php</code></td><td><p>Core class used to implement an HTML list of nav menu items.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/walker_page/">Walker_Page</a><code>wp-includes/class-walker-page.php</code></td><td><p>Core walker class used to create an HTML list of pages.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/walker_comment/">Walker_Comment</a><code>wp-includes/class-walker-comment.php</code></td><td><p>Core walker class used to create an HTML list of comments.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 2 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/2.1.0/">2.1.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-ketuchetan even thread-even depth-1" data-comment-id="2026" id="comment-2026">
<article class="comment-body" id="div-comment-2026">
<a class="screen-reader-text" href="#comment-content-2026">Skip to note 5 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2026">
<p>Tip: In this case, you could choose to extend <a href="https://developer.notmatt.press/reference/classes/walker_nav_menu/" rel="class">Walker_Nav_Menu</a> instead of <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a>, and then you wouldn’t need to define $db_fields manually.</p>
<p>In order to utilize this custom walker class, you would call <a href="https://developer.notmatt.press/reference/functions/wp_nav_menu/" rel="function">wp_nav_menu()</a>  (likely from within a theme file) and pass it a new instance of the custom <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> child class.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;ul&gt;
    &lt;?php
    wp_nav_menu(array(
        'menu'    =&gt; 2, //menu id
        'walker'  =&gt; new Walker_Quickstart_Menu() //use our custom walker
    ));
    ?&gt;
&lt;/ul&gt;</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2026">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-atachibana odd alt thread-odd thread-alt depth-1" data-comment-id="4222" id="comment-4222">
<article class="comment-body" id="div-comment-4222">
<a class="screen-reader-text" href="#comment-content-4222">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4222">
<p>From Codex<br/>
<strong><br/>
Using <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> Manually</strong></p>
<p>This example will cover how to initialize a custom <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> manually. In this example, our goal is to render the same menu as in the previous example. We will use the same <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> class as above, but without using the callback feature of <a href="https://developer.notmatt.press/reference/functions/wp_nav_menu/" rel="function">wp_nav_menu()</a> .</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;?php
// 1. Fetch the menu (we'll assume it has an id of 2)...
$menu = wp_get_nav_menu_object(2);

// 2. Create an empty $menu_items array
$menu_items = array();

// 3. Get menu objects (this is our tree structure)
if ( $menu &amp;&amp; ! is_wp_error($menu) &amp;&amp; empty($menu_items) ) {
    $menu_items = wp_get_nav_menu_items( $menu );
}

// 4. Create a new instance of our walker...
$walk = new Walker_Quickstart_Menu();

// 5. Walk the tree and render the returned output as a one-dimensional array
print_r( $walk-&gt;walk( $menu_items, -1 ) );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4222">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-ketuchetan even thread-even depth-1 bad-note" data-comment-id="2025" id="comment-2025">
<article class="comment-body" id="div-comment-2025">
<a class="screen-reader-text" href="#comment-content-2025">Skip to note 7 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2025">
<p>This example shows one of the simplest (and most common) implementations of the walker class. In this case, the <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> will be used to generate a custom menu in combination with <a href="https://developer.notmatt.press/reference/functions/wp_nav_menu/" rel="function">wp_nav_menu()</a> . The first block shows the example <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a> child class, the second block demonstrates how this class is utilized.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">class Walker_Quickstart_Menu extends Walker {

    // Tell Walker where to inherit it's parent and id values
    var $db_fields = array(
        'parent' =&gt; 'menu_item_parent', 
        'id'     =&gt; 'db_id' 
    );

    /**
     * At the start of each element, output a &lt;li&gt; and &lt;a&gt; tag structure.
     * 
     * Note: Menu objects include url and title properties, so we will use those.
     */
    function start_el( &amp;$output, $item, $depth = 0, $args = array(), $id = 0 ) {
        $output .= sprintf( "\n&lt;li&gt;&lt;a href='%1$s'%2$s&gt;%3$s&lt;/a&gt;&lt;/li&gt;\n",
            esc_url( $item-&gt;url ),
            ( $item-&gt;object_id === get_the_ID() ) ? esc_attr( ' class="current"' ) : '',
            esc_html( $item-&gt;title )
        );
    }

}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2025">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-ketuchetan odd alt thread-odd thread-alt depth-1 bad-note" data-comment-id="2024" id="comment-2024">
<article class="comment-body" id="div-comment-2024">
<a class="screen-reader-text" href="#comment-content-2024">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2024">
<p>This example would shows how you might set up the <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a>’s $db_fields property for handling a tree of page objects. Since we know the parent and id properties for all post objects (pages included), we just need to match those up using the <a href="https://developer.notmatt.press/reference/classes/walker/" rel="class">Walker</a>’s $db_fields property. Like so…</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">class Walker_Page extends Walker {
    var $db_fields = array (
        'parent' =&gt; 'post_parent', 
        'id'     =&gt; 'ID'
    );

    // define abstract methods here
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2024">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
