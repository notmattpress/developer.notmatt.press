
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/classes/">Classes</a></span><span><a href="https://developer.wordpress.org/reference/classes/wp_html_tag_processor/">WP_HTML_Tag_Processor</a></span><span class="is-current-page">WP_HTML_Tag_Processor::get_modifiable_text()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>WP_HTML_Tag_Processor::get_modifiable_text()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">WP_HTML_Tag_Processor::get_modifiable_text(): <span class="return-type">string</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Returns the modifiable text for a matched token, or an empty string.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Modifiable text is text content that may be read and changed without changing the HTML structure of the document around it. This includes the contents of <code>#text</code> nodes in the HTML as well as the inner contents of HTML comments, Processing Instructions, and others, even though these nodes aren’t part of a parsed DOM tree. They also contain the contents of SCRIPT and STYLE tags, of TEXTAREA tags, and of any other section in an HTML document which cannot contain HTML markup (DATA).</p>
<p>If a token has no modifiable text then an empty string is returned to avoid needless crashing or type errors. An empty string does not mean that a token has modifiable text, and a token with modifiable text may have an empty string (e.g. a comment with no contents).</p>
</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">string</span> </section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="2841"><code class="language-php line-numbers" id="wporg-source-code" lang="php">if ( null === $tag_name ) {
	return null;
}

if ( 'html' === $this-&gt;get_namespace() ) {
	return $tag_name;
}

$lower_tag_name = strtolower( $tag_name );
if ( 'math' === $this-&gt;get_namespace() ) {
	return $lower_tag_name;
}

if ( 'svg' === $this-&gt;get_namespace() ) {
	switch ( $lower_tag_name ) {
		case 'altglyph':
			return 'altGlyph';

		case 'altglyphdef':
			return 'altGlyphDef';

		case 'altglyphitem':
			return 'altGlyphItem';

		case 'animatecolor':
			return 'animateColor';

		case 'animatemotion':
			return 'animateMotion';

		case 'animatetransform':
			return 'animateTransform';

		case 'clippath':
			return 'clipPath';

		case 'feblend':
			return 'feBlend';

		case 'fecolormatrix':
			return 'feColorMatrix';

		case 'fecomponenttransfer':
			return 'feComponentTransfer';

		case 'fecomposite':
			return 'feComposite';

		case 'feconvolvematrix':
			return 'feConvolveMatrix';

		case 'fediffuselighting':
			return 'feDiffuseLighting';
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/html-api/class-wp-html-tag-processor.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/html-api/class-wp-html-tag-processor.php#L2841">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/html-api/class-wp-html-tag-processor.php#L2841-L2893">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/6.5.0/">6.5.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-mediaformat odd alt thread-odd thread-alt depth-1" data-comment-id="7137" id="comment-7137">
<article class="comment-body" id="div-comment-7137">
<a class="screen-reader-text" href="#comment-content-7137">Skip to note 2 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-7137">
<p>Since a <code>#text</code> node is not part of the tag itself, <code>get_modifiable_text()</code> can’t be used directly.<br/>
After selecting the desired tag you must first pass to the <code>next_token()</code>.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function wpdocs_get_text_from_block( $block_content, $block ) {

	// $block_content = "&lt;div&gt;Lorem Ipsum&lt;/div&gt;"
	$processor = new WP_HTML_Tag_Processor( $block_content );

	if ( $processor-&gt;next_tag( 'div' ) ) {
		$processor-&gt;next_token();
		$node_text = $processor-&gt;get_modifiable_text();
		error_log( $node_text ); // output: "Lorem Ipsum"
  	}

	return $processor-&gt;get_updated_html();
}
add_filter( 'render_block_custom/div', 'wpdocs_get_text_from_block', 10, 2 )</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-7137">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
