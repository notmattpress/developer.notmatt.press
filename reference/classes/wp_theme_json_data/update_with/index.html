
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/classes/">Classes</a></span><span><a href="https://developer.wordpress.org/reference/classes/wp_theme_json_data/">WP_Theme_JSON_Data</a></span><span class="is-current-page">WP_Theme_JSON_Data::update_with()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>WP_Theme_JSON_Data::update_with()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">WP_Theme_JSON_Data::update_with( <span class="arg-type">array</span> <span class="arg-name">$new_data</span> ): <span class="return-type"><a href="https://developer.wordpress.org/reference/classes/wp_theme_json_data/" rel="class">WP_Theme_JSON_Data</a></span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Updates the theme.json with the the given data.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$new_data</code><span class="type"><span class="array">array</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">Array following the theme.json specification.</span></div></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type"><a href="https://developer.notmatt.press/reference/classes/wp_theme_json_data/" rel="class">WP_Theme_JSON_Data</a></span> The own instance with access to the modified data.</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="56"><code class="language-php line-numbers" id="wporg-source-code" lang="php">public function update_with( $new_data ) {
	$this-&gt;theme_json-&gt;merge( new WP_Theme_JSON( $new_data, $this-&gt;origin ) );
	return $this;
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/class-wp-theme-json-data.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/class-wp-theme-json-data.php#L56">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/class-wp-theme-json-data.php#L56-L59">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/6.1.0/">6.1.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-deepakrajpal odd alt thread-odd thread-alt depth-1" data-comment-id="6497" id="comment-6497">
<article class="comment-body" id="div-comment-6497">
<a class="screen-reader-text" href="#comment-content-6497">Skip to note 2 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6497">
<p>This is a sample code to filter default theme.json file with PHP. This will merge additional settings (such as color, typography and layout etc) into the default theme.json file and you will see these options in Editor. [Appearances &gt; Editor &gt; Sytles icon].</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function wpdocs_filter_theme_json_data_callback( $theme_json ) {
    $new_data = array(
        'version' =&gt; 2,
        'settings' =&gt; array(
            'color' =&gt; array(
                'palette' =&gt; array(
                    array(
                        'slug' =&gt; 'ti-bg',
                        'color' =&gt; '#00FF34',
                        'name' =&gt; 'Background'
                    ),
                    array(
                        'slug' =&gt; 'ti-fg',
                        'color' =&gt; '#006855',
                        'name' =&gt; 'Foreground'
                    ),
                    array(
                        'slug' =&gt; 'ti-bg-alt',
                        'color' =&gt; '#37EA75',
                        'name' =&gt; 'Background Alt'
                    ),
                    array(
                        'slug' =&gt; 'ti-bg-inv',
                        'color' =&gt; '#1A1934',
                        'name' =&gt; 'Background Dark'
                    ),
                    array(
                        'slug' =&gt; 'ti-fg-alt',
                        'color' =&gt; '#FBFB66',
                        'name' =&gt; 'Foreground Alt'
                    ),
                    array(
                        'slug' =&gt; 'ti-accent',
                        'color' =&gt; '#235D66',
                        'name' =&gt; 'Accent'
                    )
                ),
            ),
            'typography' =&gt; array(
                'lineHeight' =&gt; true,
                'customFontSize' =&gt; true,
                'fontFamilies' =&gt; array(
                    array(
                        'fontFace' =&gt; array(
                            array(
                                'fontDisplay' =&gt; 'swap',
                                'fontFamily' =&gt; 'Open Sans',
                                'fontStretch' =&gt; 'normal',
                                'fontStyle' =&gt; 'normal',
                                'fontWeight' =&gt; '160 700',
                                'src' =&gt; array(
                                    'file: <a href="https://fonts-static.cdn-one.com/fonts/google/open-sans/open-sans-300.woff" rel="nofollow ugc">https://fonts-static.cdn-one.com/fonts/google/open-sans/open-sans-300.woff</a>'
                                )
                            )
                        ),
                        'fontFamily' =&gt; 'Open Sans', 'sans-serif',
                        'name' =&gt; 'Open Sans',
                        'slug' =&gt; 'open-sans'
                    )
                ),
                'fontSizes' =&gt; array(
                    array(
                        'slug' =&gt; 'small',
                        'size' =&gt; '14px',
                        'name' =&gt; 'Small'
                    ),
                    array(
                        'slug' =&gt; 'normal',
                        'size' =&gt; '18px',
                        'name' =&gt; 'Normal'
                    )
                )
            ),
            'layout' =&gt; array(
                'contentSize' =&gt; '740px',
                'wideSize' =&gt; '1040px'
            )
        ),
    );

    return $theme_json-&gt;update_with( $new_data );
}

add_filter( 'wp_theme_json_data_theme', 'wpdocs_filter_theme_json_data_callback' );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6497">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
