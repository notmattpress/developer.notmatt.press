
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.notmatt.press">Home</a></span><span><a href="https://developer.notmatt.press/reference/">Reference</a></span><span><a href="https://developer.notmatt.press/reference/functions/">Functions</a></span><span class="is-current-page">wp_get_attachment_image()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>wp_get_attachment_image()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">wp_get_attachment_image( <span class="arg-type">int</span> <span class="arg-name">$attachment_id</span>,  <span class="arg-type">string|int[]</span> <span class="arg-name">$size</span> = <span class="arg-default">'thumbnail'</span>,  <span class="arg-type">bool</span> <span class="arg-name">$icon</span> = <span class="arg-default">false</span>,  <span class="arg-type">string|array</span> <span class="arg-name">$attr</span> = <span class="arg-default">''</span> ): <span class="return-type">string</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Gets an HTML img element representing an image attachment.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>While <code>$size</code> will accept an array, it is better to register a size with <a href="https://developer.notmatt.press/reference/functions/add_image_size/" rel="function">add_image_size()</a>  so that a cropped version is generated. It’s much more efficient than having to find the closest-sized image and then having the browser scale down the image.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$attachment_id</code><span class="type"><span class="int">int</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">Image attachment ID.</span></div></dd><dt><code>$size</code><span class="type"><span class="string">string</span>|<span class="int[]">int[]</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Image size. Accepts any registered image size name, or an array                                    of width and height values in pixels (in that order). Default <code>'thumbnail'</code>.</span></div><p class="default">Default:<code>'thumbnail'</code></p></dd><dt><code>$icon</code><span class="type"><span class="bool">bool</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Whether the image should be treated as an icon. </span></div><p class="default">Default:<code>false</code></p></dd><dt><code>$attr</code><span class="type"><span class="string">string</span>|<span class="array">array</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Attributes for the image markup.<br/>
<ul class="param-hash"><li><code>src</code> <span class="type">string</span><div class="desc">Image attachment URL.</div></li>
<li><code>class</code> <span class="type">string</span><div class="desc">CSS class name or space-separated list of classes.<br/>
Default <code>attachment-$size_class size-$size_class</code>, where <code>$size_class</code> is the image size being requested.</div></li>
<li><code>alt</code> <span class="type">string</span><div class="desc">Image description for the alt attribute.</div></li>
<li><code>srcset</code> <span class="type">string</span><div class="desc">The <code>'srcset'</code> attribute value.</div></li>
<li><code>sizes</code> <span class="type">string</span><div class="desc">The <code>'sizes'</code> attribute value.</div></li>
<li><code>loading</code> <span class="type">string|false</span><div class="desc">The <code>'loading'</code> attribute value. Passing a value of false will result in the attribute being omitted for the image.<br/>
Defaults to <code>'lazy'</code>, depending on <a href="https://developer.notmatt.press/reference/functions/wp_lazy_loading_enabled/" rel="function">wp_lazy_loading_enabled()</a> .</div></li>
<li><code>decoding</code> <span class="type">string</span><div class="desc">The <code>'decoding'</code> attribute value. Possible values are <code>'async'</code> (default), <code>'sync'</code>, or <code>'auto'</code>. Passing false or an empty string will result in the attribute being omitted.</div></li>
</ul>
</span></div><p class="default">Default:<code>''</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">string</span> HTML img element or empty string on failure.</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<h3 class="is-toc-heading wp-block-heading" id="usage" tabindex="-1"><a href="#usage">Usage</a></h3>
<pre class="wp-block-code"><code class="language-php" lang="php">wp_get_attachment_image( $attachment_id, $size, $icon, $attr );</code></pre>
<p>If the attachment is an image, the function returns an image at the specified size. For other attachments, the function returns a media icon if the $icon parameter is set to true.</p>
<p>To get attachment IDs dynamically in a template, you can use <code>get_posts( array( 'post_type' =&gt; 'attachment' ) )</code>, etc.</p>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="1058"><code class="language-php line-numbers" id="wporg-source-code" lang="php"> * @return string HTML img element or empty string on failure.
 */
function wp_get_attachment_image( $attachment_id, $size = 'thumbnail', $icon = false, $attr = '' ) {
	$html  = '';
	$image = wp_get_attachment_image_src( $attachment_id, $size, $icon );

	if ( $image ) {
		list( $src, $width, $height ) = $image;

		$attachment = get_post( $attachment_id );
		$hwstring   = image_hwstring( $width, $height );
		$size_class = $size;

		if ( is_array( $size_class ) ) {
			$size_class = implode( 'x', $size_class );
		}

		$default_attr = array(
			'src'   =&gt; $src,
			'class' =&gt; "attachment-$size_class size-$size_class",
			'alt'   =&gt; trim( strip_tags( get_post_meta( $attachment_id, '_wp_attachment_image_alt', true ) ) ),
		);

		/**
		 * Filters the context in which wp_get_attachment_image() is used.
		 *
		 * @since 6.3.0
		 *
		 * @param string $context The context. Default 'wp_get_attachment_image'.
		 */
		$context = apply_filters( 'wp_get_attachment_image_context', 'wp_get_attachment_image' );
		$attr    = wp_parse_args( $attr, $default_attr );

		$loading_attr              = $attr;
		$loading_attr['width']     = $width;
		$loading_attr['height']    = $height;
		$loading_optimization_attr = wp_get_loading_optimization_attributes(
			'img',
			$loading_attr,
			$context
		);

		// Add loading optimization attributes if not available.
		$attr = array_merge( $attr, $loading_optimization_attr );

		// Omit the `decoding` attribute if the value is invalid according to the spec.
		if ( empty( $attr['decoding'] ) || ! in_array( $attr['decoding'], array( 'async', 'sync', 'auto' ), true ) ) {
			unset( $attr['decoding'] );
		}

		/*
		 * If the default value of `lazy` for the `loading` attribute is overridden
		 * to omit the attribute for this image, ensure it is not included.
		 */
		if ( isset( $attr['loading'] ) &amp;&amp; ! $attr['loading'] ) {
			unset( $attr['loading'] );
		}

		// If the `fetchpriority` attribute is overridden and set to false or an empty string.
		if ( isset( $attr['fetchpriority'] ) &amp;&amp; ! $attr['fetchpriority'] ) {
			unset( $attr['fetchpriority'] );
		}

		// Generate 'srcset' and 'sizes' if not already present.
		if ( empty( $attr['srcset'] ) ) {
			$image_meta = wp_get_attachment_metadata( $attachment_id );

			if ( is_array( $image_meta ) ) {
				$size_array = array( absint( $width ), absint( $height ) );
				$srcset     = wp_calculate_image_srcset( $size_array, $src, $image_meta, $attachment_id );
				$sizes      = wp_calculate_image_sizes( $size_array, $src, $image_meta, $attachment_id );

				if ( $srcset &amp;&amp; ( $sizes || ! empty( $attr['sizes'] ) ) ) {
					$attr['srcset'] = $srcset;

					if ( empty( $attr['sizes'] ) ) {
						$attr['sizes'] = $sizes;
					}
				}
			}
		}

		// Adds 'auto' to the sizes attribute if applicable.
		if (
			isset( $attr['loading'] ) &amp;&amp;
			'lazy' === $attr['loading'] &amp;&amp;
			isset( $attr['sizes'] ) &amp;&amp;
			! wp_sizes_attribute_includes_valid_auto( $attr['sizes'] )
		) {
			$attr['sizes'] = 'auto, ' . $attr['sizes'];
		}

		/**
		 * Filters the list of attachment image attributes.
		 *
		 * @since 2.8.0
		 *
		 * @param string[]     $attr       Array of attribute values for the image markup, keyed by attribute name.
		 *                                 See wp_get_attachment_image().
		 * @param WP_Post      $attachment Image attachment post.
		 * @param string|int[] $size       Requested image size. Can be any registered image size name, or
		 *                                 an array of width and height values in pixels (in that order).
		 */
		$attr = apply_filters( 'wp_get_attachment_image_attributes', $attr, $attachment, $size );

		$attr = array_map( 'esc_attr', $attr );
		$html = rtrim( "&lt;img $hwstring" );

		foreach ( $attr as $name =&gt; $value ) {
			$html .= " $name=" . '"' . $value . '"';
		}

		$html .= ' /&gt;';
	}

	/**
	 * Filters the HTML img element representing an image attachment.
	 *
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/media.php/">View all references</a> <a href="https://core.trac.notmatt.press/browser/tags/6.7/src/wp-includes/media.php#L1058">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/media.php#L1058-L1175">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/6.1.0/">6.1.0</a></td><td><span class="since-description">The <code>$decoding</code> attribute was added.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/5.5.0/">5.5.0</a></td><td><span class="since-description">The <code>$loading</code> attribute was added.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/4.4.0/">4.4.0</a></td><td><span class="since-description">The <code>$srcset</code> and <code>$sizes</code> attributes were added.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/2.5.0/">2.5.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-rinkuyadav999 even thread-even depth-1" data-comment-id="1579" id="comment-1579">
<article class="comment-body" id="div-comment-1579">
<a class="screen-reader-text" href="#comment-content-1579">Skip to note 5 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1579">
<p>wp_get_attachment_image function can accept four values as you can see:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">wp_get_attachment_image ( int $attachment_id, string|array $size = 'thumbnail', bool $icon = false, string|array $attr = '' )</code></pre>
<p>So i always use:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php echo wp_get_attachment_image( get_the_ID(), array('700', '600'), "", array( "class" =&gt; "img-responsive" ) );  ?&gt;</code></pre>
<p>Note: we can simply use <strong><a href="https://developer.notmatt.press/reference/functions/get_the_id/" rel="function">get_the_ID()</a> </strong> to pass id of active post. and here <strong>700 is width</strong> and <strong>600 is height</strong> of attachment image. we can also pass our class as <strong>array( “class” =&gt; “img-responsive” )</strong>.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="2" id="feedback-1579">
<ul class="children">
<li class="comment byuser comment-author-oborvanec odd alt depth-2" data-comment-id="3557" id="comment-3557">
<article class="comment-body" id="div-comment-3557">
<div class="wporg-has-embedded-code comment-content" id="comment-content-3557">
<div>Why <a href="https://developer.notmatt.press/reference/functions/get_the_id/" rel="function">get_the_ID()</a> ? It should be an attachment ID, no a current post ID.</div>
<div><a class="url" href="https://profiles.notmatt.press/oborvanec/" rel="external nofollow">oborvanec</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/wp_get_attachment_image/#comment-3557"><time datetime="2020-01-10T08:39:37+00:00">5 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
<li class="comment byuser comment-author-onetrev even depth-2" data-comment-id="3859" id="comment-3859">
<article class="comment-body" id="div-comment-3859">
<div class="wporg-has-embedded-code comment-content" id="comment-content-3859">
<div>Absolutely agree with @oborvanec, this code above is wrong and will not work. Using <strong><a href="https://developer.notmatt.press/reference/functions/get_the_id/" rel="function">get_the_ID()</a> </strong> will not get you the correct value — you need to get post <em>thumbnail ID</em> not the page/post ID. This example above should be changed to: <strong><a href="https://developer.notmatt.press/reference/functions/get_post_thumbnail_id/" rel="function">get_post_thumbnail_id()</a> </strong><strong></strong></div>
<div><a class="url" href="https://profiles.notmatt.press/onetrev/" rel="external nofollow">onetrev</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/wp_get_attachment_image/#comment-3859"><time datetime="2020-05-11T05:30:14+00:00">5 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-tazotodua odd alt thread-odd thread-alt depth-1" data-comment-id="2430" id="comment-2430">
<article class="comment-body" id="div-comment-2430">
<a class="screen-reader-text" href="#comment-content-2430">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2430">
<p>default call returns like this:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;img width="150" height="150" src="<a href="http://example.com/wp-content/uploads/2017/11/image-xyz-150x150.jpg&amp;quot" rel="nofollow ugc">http://example.com/wp-content/uploads/2017/11/image-xyz-150x150.jpg&amp;quot</a>; class="attachment-thumbnail size-thumbnail" alt="" srcset="<a href="http://example.com/wp-content/uploads/2017/11/image-xyz-150x150.jpg" rel="nofollow ugc">http://example.com/wp-content/uploads/2017/11/image-xyz-150x150.jpg</a> 150w, <a href="http://example.com/wp-content/uploads/2017/11/image-xyz-50x50.jpg" rel="nofollow ugc">http://example.com/wp-content/uploads/2017/11/image-xyz-50x50.jpg</a> 50w" sizes="(max-width: 150px) 100vw, 150px" /&gt;</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2430">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex even thread-even depth-1" data-comment-id="350" id="comment-350">
<article class="comment-body" id="div-comment-350">
<a class="screen-reader-text" href="#comment-content-350">Skip to note 7 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-350">
<p>To display all of the images and titles attached to a certain page and display them as a list of bullets you can use the following:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;ul&gt;
	&lt;?php if ( have_posts() ) : while ( have_posts() ) : the_post();

		$attachments = get_posts( array(
			'post_type'   =&gt; 'attachment',
			'numberposts' =&gt; -1,
			'post_status' =&gt; null,
			'post_parent' =&gt; $post-&gt;ID
		) );
		
		if ( $attachments ) {
			foreach ( $attachments as $attachment ) {
				?&gt;
				&lt;li&gt;&lt;?php echo wp_get_attachment_image( $attachment-&gt;ID, 'full' ); ?&gt;
					&lt;p&gt;&lt;?php echo apply_filters( 'the_title', $attachment-&gt;post_title ); ?&gt;&lt;/p&gt;
				&lt;/li&gt;
				&lt;?php
			}
		}
	endwhile; endif; ?&gt;
&lt;/ul&gt;</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-350">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" data-comment-id="3273" id="comment-3273">
<article class="comment-body" id="div-comment-3273">
<a class="screen-reader-text" href="#comment-content-3273">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3273">
<p><code>wp_get_attachment_image</code> is the good way to receive image from theme/plugin options. In order to fetch the image that was upload from custom option, do this:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">echo wp_get_attachment_image(
	get_theme_mod( $option_id_in_string )
);</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3273">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
