
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">plugins_api()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>plugins_api()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">plugins_api( <span class="arg-type">string</span> <span class="arg-name">$action</span>,  <span class="arg-type">array|object</span> <span class="arg-name">$args</span> = <span class="arg-default">array()</span> ): <span class="return-type">object|array|<a href="https://developer.wordpress.org/reference/classes/wp_error/" rel="class">WP_Error</a></span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Retrieves plugin installer pages from the WordPress.org Plugins API.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>It is possible for a plugin to override the Plugin API result with three filters. Assume this is for plugins, which can extend on the Plugin Info to offer more choices. This is very powerful and must be used with care when overriding the filters.</p>
<p>The first filter, <a href="https://developer.notmatt.press/reference/hooks/plugins_api_args/">‘plugins_api_args’</a>, is for the args and gives the action as the second parameter. The hook for <a href="https://developer.notmatt.press/reference/hooks/plugins_api_args/">‘plugins_api_args’</a> must ensure that an object is returned.</p>
<p>The second filter, <a href="https://developer.notmatt.press/reference/hooks/plugins_api/">‘plugins_api’</a>, allows a plugin to override the WordPress.org Plugin Installation API entirely. If <code>$action</code> is ‘query_plugins’ or ‘plugin_information’, an object MUST be passed. If <code>$action</code> is ‘hot_tags’, an array MUST be passed.</p>
<p>Finally, the third filter, <a href="https://developer.notmatt.press/reference/hooks/plugins_api_result/">‘plugins_api_result’</a>, makes it possible to filter the response object or array, depending on the <code>$action</code> type.</p>
<p>Supported arguments per action:</p>
<table>
<thead>
<tr>
<th>Argument Name</th>
<th style="text-align: center">query_plugins</th>
<th style="text-align: center">plugin_information</th>
<th style="text-align: center">hot_tags</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$slug</code></td>
<td style="text-align: center">No</td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$per_page</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$page</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$number</code></td>
<td style="text-align: center">No</td>
<td style="text-align: center">No</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td><code>$search</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$tag</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$author</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$user</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$browse</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$locale</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$installed_plugins</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$is_ssl</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td><code>$fields</code></td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">Yes</td>
<td style="text-align: center">No</td>
</tr>
</tbody>
</table>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$action</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">API action to perform: <code>'query_plugins'</code>, <code>'plugin_information'</code>,                             or <code>'hot_tags'</code>.</span></div></dd><dt><code>$args</code><span class="type"><span class="array">array</span>|<span class="object">object</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Array or object of arguments to serialize for the Plugin Info API.<br/>
<ul class="param-hash"><li><code>slug</code> <span class="type">string</span><div class="desc">The plugin slug. </div></li>
<li><code>per_page</code> <span class="type">int</span><div class="desc">Number of plugins per page. Default 24.</div></li>
<li><code>page</code> <span class="type">int</span><div class="desc">Number of current page. Default 1.</div></li>
<li><code>number</code> <span class="type">int</span><div class="desc">Number of tags or categories to be queried.</div></li>
<li><code>search</code> <span class="type">string</span><div class="desc">A search term. </div></li>
<li><code>tag</code> <span class="type">string</span><div class="desc">Tag to filter plugins. </div></li>
<li><code>author</code> <span class="type">string</span><div class="desc">Username of an plugin author to filter plugins. </div></li>
<li><code>user</code> <span class="type">string</span><div class="desc">Username to query for their favorites. </div></li>
<li><code>browse</code> <span class="type">string</span><div class="desc">Browse view: <code>'popular'</code>, <code>'new'</code>, <code>'beta'</code>, <code>'recommended'</code>.</div></li>
<li><code>locale</code> <span class="type">string</span><div class="desc">Locale to provide context-sensitive results. Default is the value of <a href="https://developer.notmatt.press/reference/functions/get_locale/" rel="function">get_locale()</a> .</div></li>
<li><code>installed_plugins</code> <span class="type">string</span><div class="desc">Installed plugins to provide context-sensitive results.</div></li>
<li><code>is_ssl</code> <span class="type">bool</span><div class="desc">Whether links should be returned with https or not. Default false.</div></li>
<li><code>fields</code> <span class="type">array</span><div class="desc"> Array of fields which should or should not be returned.<ul class="param-hash">
<li><code>short_description</code> <span class="type">bool</span><div class="desc">Whether to return the plugin short description. Default true.</div></li>
<li><code>description</code> <span class="type">bool</span><div class="desc">Whether to return the plugin full description. Default false.</div></li>
<li><code>sections</code> <span class="type">bool</span><div class="desc">Whether to return the plugin readme sections: description, installation, FAQ, screenshots, other notes, and changelog. Default false.</div></li>
<li><code>tested</code> <span class="type">bool</span><div class="desc">Whether to return the ‘Compatible up to’ value. Default true.</div></li>
<li><code>requires</code> <span class="type">bool</span><div class="desc">Whether to return the required WordPress version. Default true.</div></li>
<li><code>requires_php</code> <span class="type">bool</span><div class="desc">Whether to return the required PHP version. Default true.</div></li>
<li><code>rating</code> <span class="type">bool</span><div class="desc">Whether to return the rating in percent and total number of ratings.<br/>
Default true.</div></li>
<li><code>ratings</code> <span class="type">bool</span><div class="desc">Whether to return the number of rating for each star (1-5). Default true.</div></li>
<li><code>downloaded</code> <span class="type">bool</span><div class="desc">Whether to return the download count. Default true.</div></li>
<li><code>downloadlink</code> <span class="type">bool</span><div class="desc">Whether to return the download link for the package. Default true.</div></li>
<li><code>last_updated</code> <span class="type">bool</span><div class="desc">Whether to return the date of the last update. Default true.</div></li>
<li><code>added</code> <span class="type">bool</span><div class="desc">Whether to return the date when the plugin was added to the wordpress.org repository. Default true.</div></li>
<li><code>tags</code> <span class="type">bool</span><div class="desc">Whether to return the assigned tags. Default true.</div></li>
<li><code>compatibility</code> <span class="type">bool</span><div class="desc">Whether to return the WordPress compatibility list. Default true.</div></li>
<li><code>homepage</code> <span class="type">bool</span><div class="desc">Whether to return the plugin homepage link. Default true.</div></li>
<li><code>versions</code> <span class="type">bool</span><div class="desc">Whether to return the list of all available versions. Default false.</div></li>
<li><code>donate_link</code> <span class="type">bool</span><div class="desc">Whether to return the donation link. Default true.</div></li>
<li><code>reviews</code> <span class="type">bool</span><div class="desc">Whether to return the plugin reviews. Default false.</div></li>
<li><code>banners</code> <span class="type">bool</span><div class="desc">Whether to return the banner images links. Default false.</div></li>
<li><code>icons</code> <span class="type">bool</span><div class="desc">Whether to return the icon links. Default false.</div></li>
<li><code>active_installs</code> <span class="type">bool</span><div class="desc">Whether to return the number of active installations. Default false.</div></li>
<li><code>contributors</code> <span class="type">bool</span><div class="desc">Whether to return the list of contributors. Default false.<br/>
</div></li></ul>
</div></li>
</ul>
</span></div><p class="default">Default:<code>array()</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">object|array|<a href="https://developer.notmatt.press/reference/classes/wp_error/" rel="class">WP_Error</a></span> Response object or array on success, <a href="https://developer.notmatt.press/reference/classes/wp_error/" rel="class">WP_Error</a> on failure. See the         <a href="https://developer.notmatt.press/reference/functions/plugins_api/"> function reference article</a>         for more information on the make-up of possible return values depending on the value of <code>$action</code>.</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="100"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function plugins_api( $action, $args = array() ) {
	if ( is_array( $args ) ) {
		$args = (object) $args;
	}

	if ( 'query_plugins' === $action ) {
		if ( ! isset( $args-&gt;per_page ) ) {
			$args-&gt;per_page = 24;
		}
	}

	if ( ! isset( $args-&gt;locale ) ) {
		$args-&gt;locale = get_user_locale();
	}

	if ( ! isset( $args-&gt;wp_version ) ) {
		$args-&gt;wp_version = substr( wp_get_wp_version(), 0, 3 ); // x.y
	}

	/**
	 * Filters the WordPress.org Plugin Installation API arguments.
	 *
	 * Important: An object MUST be returned to this filter.
	 *
	 * @since 2.7.0
	 *
	 * @param object $args   Plugin API arguments.
	 * @param string $action The type of information being requested from the Plugin Installation API.
	 */
	$args = apply_filters( 'plugins_api_args', $args, $action );

	/**
	 * Filters the response for the current WordPress.org Plugin Installation API request.
	 *
	 * Returning a non-false value will effectively short-circuit the WordPress.org API request.
	 *
	 * If `$action` is 'query_plugins' or 'plugin_information', an object MUST be passed.
	 * If `$action` is 'hot_tags', an array should be passed.
	 *
	 * @since 2.7.0
	 *
	 * @param false|object|array $result The result object or array. Default false.
	 * @param string             $action The type of information being requested from the Plugin Installation API.
	 * @param object             $args   Plugin API arguments.
	 */
	$res = apply_filters( 'plugins_api', false, $action, $args );

	if ( false === $res ) {

		$url = 'https://api.wordpress.org/plugins/info/1.2/';
		$url = add_query_arg(
			array(
				'action'  =&gt; $action,
				'request' =&gt; $args,
			),
			$url
		);

		$http_url = $url;
		$ssl      = wp_http_supports( array( 'ssl' ) );
		if ( $ssl ) {
			$url = set_url_scheme( $url, 'https' );
		}

		$http_args = array(
			'timeout'    =&gt; 15,
			'user-agent' =&gt; 'WordPress/' . wp_get_wp_version() . '; ' . home_url( '/' ),
		);
		$request   = wp_remote_get( $url, $http_args );

		if ( $ssl &amp;&amp; is_wp_error( $request ) ) {
			if ( ! wp_is_json_request() ) {
				wp_trigger_error(
					__FUNCTION__,
					sprintf(
						/* translators: %s: Support forums URL. */
						__( 'An unexpected error occurred. Something may be wrong with WordPress.org or this server&amp;#8217;s configuration. If you continue to have problems, please try the &lt;a href="%s"&gt;support forums&lt;/a&gt;.' ),
						__( 'https://wordpress.org/support/forums/' )
					) . ' ' . __( '(WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.)' ),
					headers_sent() || WP_DEBUG ? E_USER_WARNING : E_USER_NOTICE
				);
			}

			$request = wp_remote_get( $http_url, $http_args );
		}

		if ( is_wp_error( $request ) ) {
			$res = new WP_Error(
				'plugins_api_failed',
				sprintf(
					/* translators: %s: Support forums URL. */
					__( 'An unexpected error occurred. Something may be wrong with WordPress.org or this server&amp;#8217;s configuration. If you continue to have problems, please try the &lt;a href="%s"&gt;support forums&lt;/a&gt;.' ),
					__( 'https://wordpress.org/support/forums/' )
				),
				$request-&gt;get_error_message()
			);
		} else {
			$res = json_decode( wp_remote_retrieve_body( $request ), true );
			if ( is_array( $res ) ) {
				// Object casting is required in order to match the info/1.0 format.
				$res = (object) $res;
			} elseif ( null === $res ) {
				$res = new WP_Error(
					'plugins_api_failed',
					sprintf(
						/* translators: %s: Support forums URL. */
						__( 'An unexpected error occurred. Something may be wrong with WordPress.org or this server&amp;#8217;s configuration. If you continue to have problems, please try the &lt;a href="%s"&gt;support forums&lt;/a&gt;.' ),
						__( 'https://wordpress.org/support/forums/' )
					),
					wp_remote_retrieve_body( $request )
				);
			}

			if ( isset( $res-&gt;error ) ) {
				$res = new WP_Error( 'plugins_api_failed', $res-&gt;error );
			}
		}
	} elseif ( ! is_wp_error( $res ) ) {
		$res-&gt;external = true;
	}

	/**
	 * Filters the Plugin Installation API response results.
	 *
	 * @since 2.7.0
	 *
	 * @param object|WP_Error $res    Response object or WP_Error.
	 * @param string          $action The type of information being requested from the Plugin Installation API.
	 * @param object          $args   Plugin API arguments.
	 */
	return apply_filters( 'plugins_api_result', $res, $action, $args );
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-admin/includes/plugin-install.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-admin/includes/plugin-install.php#L100">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-admin/includes/plugin-install.php#L100-L231">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-hooks"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="hooks" tabindex="-1"><a href="#hooks">Hooks</a></h2> <dl><dt class="wp-block-wporg-code-reference-title has-normal-font-size"><a href="https://developer.notmatt.press/reference/hooks/plugins_api/"><span class="hook-func">apply_filters</span>( ‘plugins_api’,  <nobr><span class="arg-type">false|object|array</span> <span class="arg-name">$result</span></nobr>,  <nobr><span class="arg-type">string</span> <span class="arg-name">$action</span></nobr>,  <nobr><span class="arg-type">object</span> <span class="arg-name">$args</span></nobr> )</a></dt><dd><p>Filters the response for the current WordPress.org Plugin Installation API request.</p>
</dd><dt class="wp-block-wporg-code-reference-title has-normal-font-size"><a href="https://developer.notmatt.press/reference/hooks/plugins_api_args/"><span class="hook-func">apply_filters</span>( ‘plugins_api_args’,  <nobr><span class="arg-type">object</span> <span class="arg-name">$args</span></nobr>,  <nobr><span class="arg-type">string</span> <span class="arg-name">$action</span></nobr> )</a></dt><dd><p>Filters the WordPress.org Plugin Installation API arguments.</p>
</dd><dt class="wp-block-wporg-code-reference-title has-normal-font-size"><a href="https://developer.notmatt.press/reference/hooks/plugins_api_result/"><span class="hook-func">apply_filters</span>( ‘plugins_api_result’,  <nobr><span class="arg-type">object|WP_Error</span> <span class="arg-name">$res</span></nobr>,  <nobr><span class="arg-type">string</span> <span class="arg-name">$action</span></nobr>,  <nobr><span class="arg-type">object</span> <span class="arg-name">$args</span></nobr> )</a></dt><dd><p>Filters the Plugin Installation API response results.</p>
</dd></dl></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_get_wp_version/">wp_get_wp_version()</a><code>wp-includes/functions.php</code></td><td><p>Returns the current WordPress version.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_trigger_error/">wp_trigger_error()</a><code>wp-includes/functions.php</code></td><td><p>Generates a user-level error/warning/notice/deprecation message.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_is_json_request/">wp_is_json_request()</a><code>wp-includes/load.php</code></td><td><p>Checks whether current request is a JSON request, or is expecting a JSON response.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/set_url_scheme/">set_url_scheme()</a><code>wp-includes/link-template.php</code></td><td><p>Sets the scheme for a URL.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_http_supports/">wp_http_supports()</a><code>wp-includes/http.php</code></td><td><p>Determines if there is an HTTP Transport that can process this request.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_remote_get/">wp_remote_get()</a><code>wp-includes/http.php</code></td><td><p>Performs an HTTP request using the GET method and returns its response.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_remote_retrieve_body/">wp_remote_retrieve_body()</a><code>wp-includes/http.php</code></td><td><p>Retrieves only the body from the raw response.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/add_query_arg/">add_query_arg()</a><code>wp-includes/functions.php</code></td><td><p>Retrieves a modified URL query string.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/home_url/">home_url()</a><code>wp-includes/link-template.php</code></td><td><p>Retrieves the URL for the current site where the front end is accessible.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/apply_filters/">apply_filters()</a><code>wp-includes/plugin.php</code></td><td><p>Calls the callback functions that have been added to a filter hook.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/is_wp_error/">is_wp_error()</a><code>wp-includes/load.php</code></td><td><p>Checks whether the given variable is a WordPress Error.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_error/__construct/">WP_Error::__construct()</a><code>wp-includes/class-wp-error.php</code></td><td><p>Initializes the error.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 7 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_plugin_dependencies/get_dependency_api_data/">WP_Plugin_Dependencies::get_dependency_api_data()</a><code>wp-includes/class-wp-plugin-dependencies.php</code></td><td><p>Retrieves and stores dependency plugin data from the WordPress.org Plugin API.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_plugin_install_list_table/get_dependencies_notice/">WP_Plugin_Install_List_Table::get_dependencies_notice()</a><code>wp-admin/includes/class-wp-plugin-install-list-table.php</code></td><td><p>Returns a notice containing a list of dependencies required by the plugin.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_block_directory_controller/get_items/">WP_REST_Block_Directory_Controller::get_items()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-block-directory-controller.php</code></td><td><p>Search and retrieve blocks metadata</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_plugins_controller/create_item/">WP_REST_Plugins_Controller::create_item()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-plugins-controller.php</code></td><td><p>Uploads a plugin and optionally activates it.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_install_plugin/">wp_ajax_install_plugin()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles installing a plugin via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/install_popular_tags/">install_popular_tags()</a><code>wp-admin/includes/plugin-install.php</code></td><td><p>Retrieves popular WordPress plugin tags.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/install_plugin_information/">install_plugin_information()</a><code>wp-admin/includes/plugin-install.php</code></td><td><p>Displays plugin information in dialog box form.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_plugin_install_list_table/prepare_items/">WP_Plugin_Install_List_Table::prepare_items()</a><code>wp-admin/includes/class-wp-plugin-install-list-table.php</code></td><td></td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 3 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/2.7.0/">2.7.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-luxxor odd alt thread-odd thread-alt depth-1" data-comment-id="3754" id="comment-3754">
<article class="comment-body" id="div-comment-3754">
<a class="screen-reader-text" href="#comment-content-3754">Skip to note 4 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3754">
<p>Updated field list with defaults for $action = ‘plugin_information’:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">$fields = array(
	'active_installs' =&gt; true,           // rounded int
	'added' =&gt; true,                     // date
	'author' =&gt; true,                    // a href html
	'author_block_count' =&gt; true,        // int
	'author_block_rating' =&gt; true,       // int
	'author_profile' =&gt; true,            // url
	'banners' =&gt; true,                   // array( [low], [high] )
	'compatibility' =&gt; false,            // empty array?
	'contributors' =&gt; true,              // array( array( [profile], [avatar], [display_name] )
	'description' =&gt; false,              // string
	'donate_link' =&gt; true,               // url
	'download_link' =&gt; true,             // url
	'downloaded' =&gt; false,               // int
	// 'group' =&gt; false,                 // n/a 
	'homepage' =&gt; true,                  // url
	'icons' =&gt; false,                    // array( [1x] url, [2x] url )
	'last_updated' =&gt; true,              // datetime
	'name' =&gt; true,                      // string
	'num_ratings' =&gt; true,               // int
	'rating' =&gt; true,                    // int
	'ratings' =&gt; true,                   // array( [5..0] )
	'requires' =&gt; true,                  // version string
	'requires_php' =&gt; true,              // version string
	// 'reviews' =&gt; false,               // n/a, part of 'sections'
	'screenshots' =&gt; true,               // array( array( [src],  ) )
	'sections' =&gt; true,                  // array( [description], [installation], [changelog], [reviews], ...)
	'short_description' =&gt; false,        // string
	'slug' =&gt; true,                      // string
	'support_threads' =&gt; true,           // int
	'support_threads_resolved' =&gt; true,  // int
	'tags' =&gt; true,                      // array( )
	'tested' =&gt; true,                    // version string
	'version' =&gt; true,                   // version string
	'versions' =&gt; true,                  // array( [version] url )
);</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3754">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-starbuck even thread-even depth-1" data-comment-id="6835" id="comment-6835">
<article class="comment-body" id="div-comment-6835">
<a class="screen-reader-text" href="#comment-content-6835">Skip to note 5 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6835">
<p>Follow-up to comment by <a href="https://profiles.wordpress.org/luxxor/" rel="nofollow ugc">@luxxor</a> (Mark Bernard):</p>
<p>Yes, as of 2019, the plugin_information action does explicitly request author_block_count and author_block_rating by default – but this is only <a href="https://github.com/WordPress/wordpress.org/blob/b2da683c1e1fac3329ac86e0ca9f713b12816c3b/wordpress.org/public_html/wp-content/plugins/plugin-directory/standalone/class-plugins-info-api-request.php#L113" rel="nofollow ugc">when retrieving info for a block plugin</a> … which makes sense if you’re thinking about blocks but not if you’re expecting the data in a response to any other plugin.</p>
<p>For anyone using the plugins_api to retrieve plugin_information for a non-block plugin, or using the API directly to retrieve that data, these details may be of interest.</p>
<p>Block plugins are associated with “the <a href="https://wordpress.org/documentation/article/block-directory/" rel="nofollow ugc">Block Directory</a>“.</p>
<blockquote><p>WordPress first searches the current site for the block … If it doesn’t find a block, it searches in the Block Directory which is a special corner of the WordPress plugin repository, where single block plugins are available.</p></blockquote>
<p>See <a href="https://developer.notmatt.press/rest-api/reference/block-directory-items/" rel="ugc">Block Directory Items</a> which defines the author_block fields discussed here.</p>
<p>If not requested, the fields are not present in the response from wordpress.org.<br>
– This <a href="https://api.wordpress.org/plugins/info/1.2/?action=plugin_information&amp;request[slug]=defender-security" rel="nofollow ugc">link shows a request</a> for plugin_information on a non-block plugin, without the explicit request for the fields. The fields are <strong>not</strong> in the response.<br>
– This <a href="https://api.wordpress.org/plugins/info/1.2/?action=plugin_information&amp;request[slug]=event" rel="nofollow ugc">link shows a request</a> <strong>on a block plugin</strong>, without the explicit request for the fields. The fields are still <strong>not</strong> in the response. The plugins_api function adds the fields in for us.</br></br></p>
<p>If requested <strong>and</strong> the plugin is <strong>not</strong> a block plugin, the value of author_block_count is zero and author_block_rating is indeterminate.<br>
– This <a href="https://api.wordpress.org/plugins/info/1.2/?action=plugin_information&amp;request[slug]=defender-security&amp;request[fields][author_block_count]=1&amp;request[fields][author_block_rating]=1" rel="nofollow ugc">link shows a request</a> for plugin_information on the same non-block plugin, <strong>with</strong> the explicit request for the fields. The fields are at the end of the response, but the block count is zero and the block rating is about 96. The code under the plugins_api function divides that number by 20 for a 0-5 rating. (I don’t know what that number is for a non-block plugin.)</br></p>
<p>If requested <strong>and</strong> the plugin <strong>is</strong> in a block plugin, the value of author_block_count is a number cast as a string (“2”, “5”, etc) and author_block_rating is numeric. When <a href="https://developer.notmatt.press/reference/functions/plugins_api/" rel="function">plugins_api()</a>  receives a response from the wordpress.org API, the author_block_count is explicitly cast to an integer (and the rating is divided by 20). If you are using the API directly, again, the value you receive is a string which will not be consistent with the data you see from <a href="https://developer.notmatt.press/reference/functions/plugins_api/" rel="function">plugins_api()</a> , and may lead to confusion or errors. (The raw rating value may also be confusing.)<br/>
– This <a href="https://api.wordpress.org/plugins/info/1.2/?action=plugin_information&amp;request[slug]=event&amp;request[fields][author_block_count]=1&amp;request[fields][author_block_rating]=1" rel="nofollow ugc">link shows a request</a> for plugin_information on the same block plugin as above, with an explicit request for the fields.</p>
<p>Note also that while the plugins_api arguments use Boolean values to define the return values, and common examples show true/false being used, when using the API you should use 0 or 1 for false and true respectively. With <code>request[fields][author_block_rating]=false</code>, the value ‘false’ is a string and is therefore “truthy”, so the attempt to exclude fields fails … For the API, use digit/number zero or one, and for <a href="https://developer.notmatt.press/reference/functions/plugins_api/" rel="function">plugins_api()</a> , use Boolean true/false.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6835">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-_smartik_ odd alt thread-odd thread-alt depth-1" data-comment-id="5854" id="comment-5854">
<article class="comment-body" id="div-comment-5854">
<a class="screen-reader-text" href="#comment-content-5854">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5854">
<p>Get plugin data by URL or slug:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function wpdev_get_plugin_data($urlOrSlug){
	require_once( ABSPATH . 'wp-admin/includes/plugin-install.php' );
	
	$basename = str_replace('/', '', basename($urlOrSlug));

	$info = plugins_api( 'plugin_information', array( 'slug' =&gt; $basename ) );

	if ( ! $info or is_wp_error( $info ) ) {
		return false;
	}

	return $info;
}

// Usage example
$plugin_info = wpdev_get_plugin_data('https://wordpress.org/plugins/your-plugin-slug/'); // false or stdClass</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5854">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
