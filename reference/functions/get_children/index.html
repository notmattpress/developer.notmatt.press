
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">get_children()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>get_children()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">get_children( <span class="arg-type">mixed</span> <span class="arg-name">$args</span> = <span class="arg-default">''</span>,  <span class="arg-type">string</span> <span class="arg-name">$output</span> = <span class="arg-default">OBJECT</span> ): <span class="return-type"><a href="https://developer.wordpress.org/reference/classes/wp_post/" rel="class">WP_Post</a>[]|array[]|int[]</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Retrieves all children of the post parent ID.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Normally, without any enhancements, the children would apply to pages. In the context of the inner workings of WordPress, pages, posts, and attachments share the same table, so therefore the functionality could apply to any one of them. It is then noted that while this function does not work on posts, it does not mean that it won’t work on posts. It is recommended that you know what context you wish to retrieve the children of.</p>
<p>Attachments may also be made the child of a post, so if that is an accurate statement (which needs to be verified), it would then be possible to get all of the attachments for a post. Attachments have since changed since version 2.5, so this is most likely inaccurate, but serves generally as an example of what is possible.</p>
<p>The arguments listed as defaults are for this function and also of the <a href="https://developer.notmatt.press/reference/functions/get_posts/" rel="function">get_posts()</a>  function. The arguments are combined with the get_children defaults and are then passed to the <a href="https://developer.notmatt.press/reference/functions/get_posts/" rel="function">get_posts()</a>  function, which accepts additional arguments.<br/>You can replace the defaults in this function, listed below and the additional arguments listed in the <a href="https://developer.notmatt.press/reference/functions/get_posts/" rel="function">get_posts()</a>  function.</p>
<p>The ‘post_parent’ is the most important argument and important attention needs to be paid to the $args parameter. If you pass either an object or an integer (number), then just the ‘post_parent’ is grabbed and everything else is lost. If you don’t specify any arguments, then it is assumed that you are in The Loop and the post parent will be grabbed for from the current post.</p>
<p>The ‘post_parent’ argument is the ID to get the children. The ‘numberposts’ is the amount of posts to retrieve that has a default of ‘-1’, which is used to get all of the posts. Giving a number higher than 0 will only retrieve that amount of posts.</p>
<p>The ‘post_type’ and ‘post_status’ arguments can be used to choose what criteria of posts to retrieve. The ‘post_type’ can be anything, but WordPress post types are ‘post’, ‘pages’, and ‘attachments’. The ‘post_status’ argument will accept any post status within the write administration panels.</p>
<h3 class="is-toc-heading has-heading-5-font-size" id="see-also" tabindex="-1"><a href="#see-also">See also</a></h3><ul><li><a href="https://developer.notmatt.press/reference/functions/get_posts">get_posts()</a></li>
</ul></section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$args</code><span class="type"><span class="mixed">mixed</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">User defined arguments for replacing the defaults. </span></div><p class="default">Default:<code>''</code></p></dd><dt><code>$output</code><span class="type"><span class="string">string</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">The required return type. One of OBJECT, ARRAY_A, or ARRAY_N, which                       correspond to a <a href="https://developer.notmatt.press/reference/classes/wp_post/" rel="class">WP_Post</a> object, an associative array, or a numeric array,                       respectively. </span></div><p class="default">Default:<code>OBJECT</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type"><a href="https://developer.notmatt.press/reference/classes/wp_post/" rel="class">WP_Post</a>[]|array[]|int[]</span> Array of post objects, arrays, or IDs, depending on <code>$output</code>.</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="968"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function get_children( $args = '', $output = OBJECT ) {
	$kids = array();
	if ( empty( $args ) ) {
		if ( isset( $GLOBALS['post'] ) ) {
			$args = array( 'post_parent' =&gt; (int) $GLOBALS['post']-&gt;post_parent );
		} else {
			return $kids;
		}
	} elseif ( is_object( $args ) ) {
		$args = array( 'post_parent' =&gt; (int) $args-&gt;post_parent );
	} elseif ( is_numeric( $args ) ) {
		$args = array( 'post_parent' =&gt; (int) $args );
	}

	$defaults = array(
		'numberposts' =&gt; -1,
		'post_type'   =&gt; 'any',
		'post_status' =&gt; 'any',
		'post_parent' =&gt; 0,
	);

	$parsed_args = wp_parse_args( $args, $defaults );

	$children = get_posts( $parsed_args );

	if ( ! $children ) {
		return $kids;
	}

	if ( ! empty( $parsed_args['fields'] ) ) {
		return $children;
	}

	update_post_cache( $children );

	foreach ( $children as $key =&gt; $child ) {
		$kids[ $child-&gt;ID ] = $children[ $key ];
	}

	if ( OBJECT === $output ) {
		return $kids;
	} elseif ( ARRAY_A === $output ) {
		$weeuns = array();
		foreach ( (array) $kids as $kid ) {
			$weeuns[ $kid-&gt;ID ] = get_object_vars( $kids[ $kid-&gt;ID ] );
		}
		return $weeuns;
	} elseif ( ARRAY_N === $output ) {
		$babes = array();
		foreach ( (array) $kids as $kid ) {
			$babes[ $kid-&gt;ID ] = array_values( get_object_vars( $kids[ $kid-&gt;ID ] ) );
		}
		return $babes;
	} else {
		return $kids;
	}
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/post.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/post.php#L968">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/post.php#L968-L1024">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/update_post_cache/">update_post_cache()</a><code>wp-includes/post.php</code></td><td><p>Updates posts in cache.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_posts/">get_posts()</a><code>wp-includes/post.php</code></td><td><p>Retrieves an array of the latest posts, or posts matching the given criteria.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_parse_args/">wp_parse_args()</a><code>wp-includes/functions.php</code></td><td><p>Merges user defined arguments into defaults array.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 1 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/_wp_after_delete_font_family/">_wp_after_delete_font_family()</a><code>wp-includes/fonts.php</code></td><td><p>Deletes child font faces when a font family is deleted.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_media_items/">get_media_items()</a><code>wp-admin/includes/media.php</code></td><td><p>Retrieves HTML for media items of post gallery.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_get_post_revisions/">wp_get_post_revisions()</a><code>wp-includes/revision.php</code></td><td><p>Returns all revisions of specified post.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/2.0.0/">2.0.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-farfromunique odd alt thread-odd thread-alt depth-1" data-comment-id="1652" id="comment-1652">
<article class="comment-body" id="div-comment-1652">
<a class="screen-reader-text" href="#comment-content-1652">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1652">
<p>Each item returned by <code>get_children()</code> has the following values (names shown are mapped from <code>ARRAY_A</code>; same names are used with <code>OBJECT</code>):</p>
<p><code>	array(24) {<br/>
		["ID"]						=&gt; (int)<br/>
		["post_author"]				=&gt; (string)<br/>
		["post_date"]				=&gt; (string)<br/>
		["post_date_gmt"]			=&gt; (string)<br/>
		["post_content"]			=&gt; (string)<br/>
		["post_title"]				=&gt; (string)<br/>
		["post_excerpt"]			=&gt; (string)<br/>
		["post_status"]				=&gt; (string)<br/>
		["comment_status"]			=&gt; (string)<br/>
		["ping_status"]				=&gt; (string)<br/>
		["post_password"]			=&gt; (string)<br/>
		["post_name"]				=&gt; (string)<br/>
		["to_ping"]					=&gt; (string)<br/>
		["pinged"]					=&gt; (string)<br/>
		["post_modified"]			=&gt; (string)<br/>
		["post_modified_gmt"]		=&gt; (string)<br/>
		["post_content_filtered"]	=&gt; (string)<br/>
		["post_parent"]				=&gt; (int)<br/>
		["guid"]					=&gt; (string)<br/>
		["menu_order"]				=&gt; (int)<br/>
		["post_type"]				=&gt; (string)<br/>
		["post_mime_type"]			=&gt; (string)<br/>
		["comment_count"]			=&gt; (string)<br/>
		["filter"]					=&gt; (string)<br/>
	}</code></p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1652">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex even thread-even depth-1" data-comment-id="1306" id="comment-1306">
<article class="comment-body" id="div-comment-1306">
<a class="screen-reader-text" href="#comment-content-1306">Skip to note 9 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1306">
<p><strong>Show the first image associated with the post</strong></p>
<p>This function retrieves the first image associated with a post</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;?php
/**
 * Echo first image (if available).
 *
 * @param int $post_id Post ID.
 */
function wpdocs_echo_first_image( $post_id ) {
	$args = array(
		'posts_per_page' =&gt; 1,
		'order'          =&gt; 'ASC',
		'post_mime_type' =&gt; 'image',
		'post_parent'    =&gt; $post_id,
		'post_status'    =&gt; null,
		'post_type'      =&gt; 'attachment',
	);

	$attachments = get_children( $args );

	if ( $attachments ) {
		foreach ( $attachments as $attachment ) {
			$image_attributes = wp_get_attachment_image_src( $attachment-&gt;ID, 'thumbnail' ) ? wp_get_attachment_image_src( $attachment-&gt;ID, 'thumbnail' ) : wp_get_attachment_image_src( $attachment-&gt;ID, 'full' );
			echo '&lt;img src="' . esc_url( wp_get_attachment_thumb_url( $attachment-&gt;ID ) ) . '" class="current" /&gt;';
		}
	}
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1306">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex odd alt thread-odd thread-alt depth-1" data-comment-id="1307" id="comment-1307">
<article class="comment-body" id="div-comment-1307">
<a class="screen-reader-text" href="#comment-content-1307">Skip to note 10 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1307">
<p><strong>Show the first image associated with the post and re-key the array</strong></p>
<p>In the example above, a primary array is keyed with the image ID (the exact thing which is being sought – since we don’t know it how are we supposed to access it?). The code below provides an easier handle for the image information: the array $child_image. Should be used in the loop.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">$args = array(
	'posts_per_page' =&gt; 1,
	'order'          =&gt; 'DESC',
	'post_mime_type' =&gt; 'image',
	'post_parent'    =&gt; $post-&gt;ID,
	'post_type'      =&gt; 'attachment'
	);

$get_children_array = get_children( $args,ARRAY_A );  //returns Array ( [$image_ID].

$rekeyed_array = array_values( $get_children_array );
$child_image   = $rekeyed_array[0];  

print_r( $child_image );  	//Show the contents of the $child_image array.
echo $child_image['ID'];   	//Show the $child_image ID.</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1307">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-samjco even thread-even depth-1" data-comment-id="3135" id="comment-3135">
<article class="comment-body" id="div-comment-3135">
<a class="screen-reader-text" href="#comment-content-3135">Skip to note 11 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3135">
<p>Get ALL Parent Posts IDs</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">$post_type ="post"; //page, or custom_post_type
$post_status = "any"; //publish, draft, etc
$num_of_posts = -1; // -1 for all, or amount # to return
$post_parent = 0; //0 for parents, or and id

$args = array('post_parent' =&gt; 0, 'post_type' =&gt; $post_type, 'numberposts' =&gt; $num_of_posts, 'post_status' =&gt; $post_status);

$parents = get_children($args);

foreach ($parents as $parent) {
 echo "&lt;br&gt;ParentID: ".$parent-&gt;ID;
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3135">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" data-comment-id="3277" id="comment-3277">
<article class="comment-body" id="div-comment-3277">
<a class="screen-reader-text" href="#comment-content-3277">Skip to note 12 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3277">
<p><strong>This is not safe for extracting the first image from posts!</strong></p>
<p>As the name given, this function actually returns the children from a parent objects. Which means if you reuse an image for a new post, it won’t return the image. For instance:</p>
<p>First, make a new post A and upload these images A01.jpg, A02.jpg and A03.jpg to the post A. Then those images, aka. Attachments, (A01, A02, A03) are children of post A. With this, we can retrieve image A01 from post A in the loop. It is a common way to replace thumbnail in case writers forgets to add thumbnail. But! What if we make a second post?</p>
<p>Let make a second post B and reuse the uploaded images (A01 and A02) from post A. In this case, no image will be returned from the <code>get_children</code> because images A01 and A02 are not post B’s children. This means if the design of our theme will be broken for sure because there is no image to display on the posts in the index page. Unless the theme is designed for specific case with careful guide for users, this function should not be used for retrieving image from posts!</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&amp;lt;?php
function print_first_kid_image_of_post($post_id) {
    $arr = array(
        'posts_per_page' =&amp;gt; 1, # This param ensures only 1 post returned in the array
        'post_mime_type' =&amp;gt; 'image',
        'post_parent'    =&amp;gt; $post_id,
        'post_type'      =&amp;gt; 'attachment',
    );
 
    $imgs = get_children($arr); # Return an array with an item
    $img = $imgs[0];

    $img_id = $img-&amp;gt;ID;
	$img_size = 'thumbnail'
	echo wp_get_attachment_image($img_id, $img_size);
}</code></pre>
<ol>
<strong>Result: </strong>
<li>Post A (uploaded images: A1, A2, A3): image A1</li>
<li>Post B (reused images: A1, A2): NULL</li>
<li>Post C (reused images: A1) (uploaded images: C1, C2, C3): image C1 (even if image A1 is placed on top, image C1 is still returned because A1 is not a child of Post C)</li>
</ol>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3277">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-koen12344 even thread-even depth-1" data-comment-id="5446" id="comment-5446">
<article class="comment-body" id="div-comment-5446">
<a class="screen-reader-text" href="#comment-content-5446">Skip to note 13 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5446">
<p>To get an array of child IDs only, pass ‘fields’ =&gt; ‘ids’ in the function args array.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">get_children( [
	'post_parent' 	=&gt; $post_id,
	'fields'        =&gt; 'ids',
] );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5446">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex odd alt thread-odd thread-alt depth-1" data-comment-id="1305" id="comment-1305">
<article class="comment-body" id="div-comment-1305">
<a class="screen-reader-text" href="#comment-content-1305">Skip to note 14 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1305">
<p><strong>Example</strong></p>
<p>If you just want to get or display attachments, it’s probably a little easier to use <a href="https://developer.notmatt.press/reference/functions/get_posts/" rel="function">get_posts()</a>  instead.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">$images =&amp; get_children( array(
	'post_type'      =&gt; 'attachment',
	'post_mime_type' =&gt; 'image'
);

$videos =&amp; get_children( array(
	'post_type'      =&gt; 'attachment',
	'post_mime_type' =&gt; 'video/mp4'
);

if ( empty( $images ) ) {
	// no attachments here
} else {
	foreach ( $images as $attachment_id =&gt; $attachment ) {
		echo wp_get_attachment_image( $attachment_id, 'full' );
	}
}

//  If you don't need to handle an empty result:

foreach ( (array) $videos as $attachment_id =&gt; $attachment ) {
	echo wp_get_attachment_link( $attachment_id );
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1305">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
