
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.notmatt.press">Home</a></span><span><a href="https://developer.notmatt.press/reference/">Reference</a></span><span><a href="https://developer.notmatt.press/reference/functions/">Functions</a></span><span class="is-current-page">wp_set_script_translations()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>wp_set_script_translations()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">wp_set_script_translations( <span class="arg-type">string</span> <span class="arg-name">$handle</span>,  <span class="arg-type">string</span> <span class="arg-name">$domain</span> = <span class="arg-default">'default'</span>,  <span class="arg-type">string</span> <span class="arg-name">$path</span> = <span class="arg-default">''</span> ): <span class="return-type">bool</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Sets translated strings for a script.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Works only if the script has already been registered.</p>
<h3 class="is-toc-heading has-heading-5-font-size" id="see-also" tabindex="-1"><a href="#see-also">See also</a></h3><ul><li><a href="https://developer.notmatt.press/reference/classes/WP_Scripts/set_translations">WP_Scripts::set_translations()</a></li>
</ul></section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$handle</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">Script handle the textdomain will be attached to.</span></div></dd><dt><code>$domain</code><span class="type"><span class="string">string</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Text domain. Default <code>'default'</code>.</span></div><p class="default">Default:<code>'default'</code></p></dd><dt><code>$path</code><span class="type"><span class="string">string</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">The full file path to the directory containing translation files.</span></div><p class="default">Default:<code>''</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">bool</span> True if the text domain was successfully localized, false otherwise.</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="247"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function wp_set_script_translations( $handle, $domain = 'default', $path = '' ) {
	global $wp_scripts;

	if ( ! ( $wp_scripts instanceof WP_Scripts ) ) {
		_wp_scripts_maybe_doing_it_wrong( __FUNCTION__, $handle );
		return false;
	}

	return $wp_scripts-&gt;set_translations( $handle, $domain, $path );
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/functions-wp-scripts.php/">View all references</a> <a href="https://core.trac.notmatt.press/browser/tags/6.7/src/wp-includes/functions.wp-scripts.php#L247">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/functions.wp-scripts.php#L247-L256">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_scripts/set_translations/">WP_Scripts::set_translations()</a><code>wp-includes/class-wp-scripts.php</code></td><td><p>Sets a translation textdomain.</p>
</td></tr></tbody></table></figure></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/register_block_script_handle/">register_block_script_handle()</a><code>wp-includes/blocks.php</code></td><td><p>Finds a script handle for the selected block metadata field. It detects when a path to file was provided and optionally finds a corresponding asset file with details necessary to register the script under automatically generated handle name. It returns unprocessed script handle otherwise.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/5.1.0/">5.1.0</a></td><td><span class="since-description">The <code>$domain</code> parameter was made optional.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/5.0.0/">5.0.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-ronalfy odd alt thread-even depth-1" data-comment-id="3545" id="comment-3545">
<article class="comment-body" id="div-comment-3545">
<a class="screen-reader-text" href="#comment-content-3545">Skip to note 5 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3545">
<p>If you have to generate your own JSON language pack files, use WP CLI to generate your JSON file for you. Just navigate to your plugin folder and run the following command.</p>
<p><code>wp i18n make-json languages</code></p>
<p>Then set the language folder in <code>wp_set_script_translations</code></p>
<pre class="wp-block-code"><code class="language-php" lang="php">wp_set_script_translations( 'wp-presenter-pro-js', 'wp-presenter-pro', plugin_dir_path( __FILE__ ) . 'languages' );</code></pre>
<p>Warning: If someone translates your plugin with the same locale on the WordPress Plugin Directory, the language will not show up if using the third argument.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3545">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-kanlukasz even thread-odd thread-alt depth-1" data-comment-id="4464" id="comment-4464">
<article class="comment-body" id="div-comment-4464">
<a class="screen-reader-text" href="#comment-content-4464">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4464">
<p>Remember to check the path in the third argument. I wasted 3 days investigating what’s wrong and it turned out I gave </p>
<pre class="wp-block-code"><code class="language-php" lang="php">plugin_basename( __DIR__ ) . '/languages/'</code></pre>
<p> instead of </p>
<pre class="wp-block-code"><code class="language-php" lang="php">plugin_dir_path( __FILE__ ) . '/languages/'</code></pre>
<p>—</p>
<p>With <a href="https://developer.notmatt.press/reference/functions/plugin_dir_path/">plugin_dir_path()</a> works fine.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-4464">
<ul class="children">
<li class="comment byuser comment-author-manzoorwanijk odd alt depth-2" data-comment-id="4885" id="comment-4885">
<article class="comment-body" id="div-comment-4885">
<div class="wporg-has-embedded-code comment-content" id="comment-content-4885">
<div><code>plugin_dir_path()</code> returns the path with trailing slash</div>
<div><a class="url" href="https://profiles.notmatt.press/manzoorwanijk/" rel="external nofollow">Manzoor Wani (a11n)</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/wp_set_script_translations/#comment-4885"><time datetime="2021-03-02T06:33:44+00:00">4 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-shewa even thread-even depth-1" data-comment-id="5072" id="comment-5072">
<article class="comment-body" id="div-comment-5072">
<a class="screen-reader-text" href="#comment-content-5072">Skip to note 7 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5072">
<p><a href="https://developer.notmatt.press/reference/functions/wp_set_script_translations/" rel="function">wp_set_script_translations()</a>  should not be called before register or wp_enqueue_scripts or with init hook. To make wordpress able to load handled scripts this function should be called after text domain handled script load. Here is an example:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">add_action( 'wp_enqueue_scripts', array( $this, 'wpdocs_load_scripts' ) );

add_action( 'wp_enqueue_scripts', array( $this, 'wpdocs_load_text_domain' ), 100 );

function wpdocs_load_text_domain() {
    wp_set_script_translations( 
         'wpdocs-js',
         'wpdocs-text-domain',
         plugin_dir_path( __FILE__ ) . 'languages' 
    );
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5072">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-lovor odd alt thread-odd thread-alt depth-1" data-comment-id="7143" id="comment-7143">
<article class="comment-body" id="div-comment-7143">
<a class="screen-reader-text" href="#comment-content-7143">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-7143">
<p>If you do not register script yourself, but rely on automatic script registration, the appropriate handle is in the format <code>[plugin name]-editor-script</code> (as of WP 6.6.1).</p>
<p>If naming rules change or you want to translate some other automatically registered script, you can find registered scripts in array <code>wp_scripts-&gt;registered</code>.</p>
<p>Naming of the translation files still applies like described in <a href="https://developer.notmatt.press/block-editor/how-to-guides/internationalization/#load-the-translation-file" rel="ugc">Block editor internationalization</a>.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-7143">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
