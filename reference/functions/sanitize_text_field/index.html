
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">sanitize_text_field()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>sanitize_text_field()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">sanitize_text_field( <span class="arg-type">string</span> <span class="arg-name">$str</span> ): <span class="return-type">string</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Sanitizes a string from user input or from the database.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <ul>
<li>Checks for invalid UTF-8,</li>
<li>Converts single <code>&lt;</code> characters to entities</li>
<li>Strips all tags</li>
<li>Removes line breaks, tabs, and extra whitespace</li>
<li>Strips percent-encoded characters</li>
</ul>
<h3 class="is-toc-heading has-heading-5-font-size" id="see-also" tabindex="-1"><a href="#see-also">See also</a></h3><ul><li><a href="https://developer.notmatt.press/reference/functions/sanitize_textarea_field">sanitize_textarea_field()</a></li>
<li><a href="https://developer.notmatt.press/reference/functions/wp_check_invalid_utf8">wp_check_invalid_utf8()</a></li>
<li><a href="https://developer.notmatt.press/reference/functions/wp_strip_all_tags">wp_strip_all_tags()</a></li>
</ul></section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$str</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">String to sanitize.</span></div></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">string</span> Sanitized string.</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<p><strong>Basic Usage</strong></p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php sanitize_text_field( $str ) ?&gt;</code></pre>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="5555"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function sanitize_text_field( $str ) {
	$filtered = _sanitize_text_fields( $str, false );

	/**
	 * Filters a sanitized text field string.
	 *
	 * @since 2.9.0
	 *
	 * @param string $filtered The sanitized string.
	 * @param string $str      The string prior to being sanitized.
	 */
	return apply_filters( 'sanitize_text_field', $filtered, $str );
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/formatting.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/formatting.php#L5555">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/formatting.php#L5555-L5567">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-hooks"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="hooks" tabindex="-1"><a href="#hooks">Hooks</a></h2> <dl><dt class="wp-block-wporg-code-reference-title has-normal-font-size"><a href="https://developer.notmatt.press/reference/hooks/sanitize_text_field/"><span class="hook-func">apply_filters</span>( ‘sanitize_text_field’,  <nobr><span class="arg-type">string</span> <span class="arg-name">$filtered</span></nobr>,  <nobr><span class="arg-type">string</span> <span class="arg-name">$str</span></nobr> )</a></dt><dd><p>Filters a sanitized text field string.</p>
</dd></dl></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/_sanitize_text_fields/">_sanitize_text_fields()</a><code>wp-includes/formatting.php</code></td><td><p>Internal helper function to sanitize a string from user input or from the database.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/apply_filters/">apply_filters()</a><code>wp-includes/plugin.php</code></td><td><p>Calls the callback functions that have been added to a filter hook.</p>
</td></tr></tbody></table></figure></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_font_utils/sanitize_font_family/">WP_Font_Utils::sanitize_font_family()</a><code>wp-includes/fonts/class-wp-font-utils.php</code></td><td><p>Sanitizes and formats font family names.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_font_utils/get_font_face_slug/">WP_Font_Utils::get_font_face_slug()</a><code>wp-includes/fonts/class-wp-font-utils.php</code></td><td><p>Generates a slug from font face properties, e.g. <code>open sans;normal;400;100%;U+0-10FFFF</code></p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_font_collection/get_sanitization_schema/">WP_Font_Collection::get_sanitization_schema()</a><code>wp-includes/fonts/class-wp-font-collection.php</code></td><td><p>Retrieves the font collection sanitization schema.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_templates_controller/get_wp_templates_author_text_field/">WP_REST_Templates_Controller::get_wp_templates_author_text_field()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-templates-controller.php</code></td><td><p>Returns a human readable text for the author of the template.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_get_theme_preview_path/">wp_get_theme_preview_path()</a><code>wp-includes/theme-previews.php</code></td><td><p>Filters the blog option to return the path for the previewed theme.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_attach_theme_preview_middleware/">wp_attach_theme_preview_middleware()</a><code>wp-includes/theme-previews.php</code></td><td><p>Adds a middleware to <code>apiFetch</code> to set the theme for the preview.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_pattern_directory_controller/prepare_item_for_response/">WP_REST_Pattern_Directory_Controller::prepare_item_for_response()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-pattern-directory-controller.php</code></td><td><p>Prepare a raw block pattern before it gets output in a REST API response.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_site_health_controller/get_directory_sizes/">WP_REST_Site_Health_Controller::get_directory_sizes()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-site-health-controller.php</code></td><td><p>Gets the current directory sizes for this install.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_application_passwords/create_new_application_password/">WP_Application_Passwords::create_new_application_password()</a><code>wp-includes/class-wp-application-passwords.php</code></td><td><p>Creates a new application password.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_application_passwords/update_application_password/">WP_Application_Passwords::update_application_password()</a><code>wp-includes/class-wp-application-passwords.php</code></td><td><p>Updates an application password.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_plugins_controller/sanitize_plugin_param/">WP_REST_Plugins_Controller::sanitize_plugin_param()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-plugins-controller.php</code></td><td><p>Sanitizes the “plugin” parameter to be a proper plugin file with “.php” appended.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_sitemaps/render_sitemaps/">WP_Sitemaps::render_sitemaps()</a><code>wp-includes/sitemaps/class-wp-sitemaps.php</code></td><td><p>Renders sitemap templates based on rewrite rules.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_toggle_auto_updates/">wp_ajax_toggle_auto_updates()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles enabling or disable plugin and theme auto-updates via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_health_check_get_sizes/">wp_ajax_health_check_get_sizes()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles site health check to get directories and database sizes via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_privacy_requests_table/get_views/">WP_Privacy_Requests_Table::get_views()</a><code>wp-admin/includes/class-wp-privacy-requests-table.php</code></td><td><p>Gets an associative array ( id =&gt; link ) with the list of views available on this table.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_privacy_requests_table/prepare_items/">WP_Privacy_Requests_Table::prepare_items()</a><code>wp-admin/includes/class-wp-privacy-requests-table.php</code></td><td><p>Prepares items to output.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/_wp_personal_data_handle_actions/">_wp_personal_data_handle_actions()</a><code>wp-admin/includes/privacy-tools.php</code></td><td><p>Handle list table actions.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_customize_manager/handle_load_themes_request/">WP_Customize_Manager::handle_load_themes_request()</a><code>wp-includes/class-wp-customize-manager.php</code></td><td><p>Loads themes into the theme browsing/installation UI.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_custom_html/update/">WP_Widget_Custom_HTML::update()</a><code>wp-includes/widgets/class-wp-widget-custom-html.php</code></td><td><p>Handles updating settings for the current Custom HTML widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/rest_sanitize_value_from_schema/">rest_sanitize_value_from_schema()</a><code>wp-includes/rest-api.php</code></td><td><p>Sanitize a value based on a schema.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_attachments_controller/create_item/">WP_REST_Attachments_Controller::create_item()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-attachments-controller.php</code></td><td><p>Creates a single attachment.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_delete_plugin/">wp_ajax_delete_plugin()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles deleting a plugin via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_customize_nav_menu_setting/sanitize/">WP_Customize_Nav_Menu_Setting::sanitize()</a><code>wp-includes/customize/class-wp-customize-nav-menu-setting.php</code></td><td><p>Sanitize an input.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_customize_nav_menu_item_setting/sanitize/">WP_Customize_Nav_Menu_Item_Setting::sanitize()</a><code>wp-includes/customize/class-wp-customize-nav-menu-item-setting.php</code></td><td><p>Sanitize an input.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_customize_nav_menus/ajax_search_available_items/">WP_Customize_Nav_Menus::ajax_search_available_items()</a><code>wp-includes/class-wp-customize-nav-menus.php</code></td><td><p>Ajax handler for searching available menu items.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_update_plugin/">wp_ajax_update_plugin()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles updating a plugin via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/validate_another_blog_signup/">validate_another_blog_signup()</a><code>wp-signup.php</code></td><td><p>Validates a new site sign-up for an existing user.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/validate_blog_signup/">validate_blog_signup()</a><code>wp-signup.php</code></td><td><p>Validates new site signup.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_plugins_list_table/prepare_items/">WP_Plugins_List_Table::prepare_items()</a><code>wp-admin/includes/class-wp-plugins-list-table.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_links_list_table/prepare_items/">WP_Links_List_Table::prepare_items()</a><code>wp-admin/includes/class-wp-links-list-table.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_ms_themes_list_table/prepare_items/">WP_MS_Themes_List_Table::prepare_items()</a><code>wp-admin/includes/class-wp-ms-themes-list-table.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_theme_install_list_table/prepare_items/">WP_Theme_Install_List_Table::prepare_items()</a><code>wp-admin/includes/class-wp-theme-install-list-table.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/edit_user/">edit_user()</a><code>wp-admin/includes/user.php</code></td><td><p>Edit user settings based on contents of $_POST</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_plugin_install_list_table/prepare_items/">WP_Plugin_Install_List_Table::prepare_items()</a><code>wp-admin/includes/class-wp-plugin-install-list-table.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/media_handle_upload/">media_handle_upload()</a><code>wp-admin/includes/media.php</code></td><td><p>Saves a file submitted from a POST request and create an attachment post for it.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/edit_post/">edit_post()</a><code>wp-admin/includes/post.php</code></td><td><p>Updates an existing post with values provided in <code>$_POST</code>.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_save_attachment/">wp_ajax_save_attachment()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles updating attachment attributes via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_customize_manager/save/">WP_Customize_Manager::save()</a><code>wp-includes/class-wp-customize-manager.php</code></td><td><p>Handles customize_save WP Ajax request to save/update a changeset.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_nav_menu_widget/update/">WP_Nav_Menu_Widget::update()</a><code>wp-includes/widgets/class-wp-nav-menu-widget.php</code></td><td><p>Handles updating settings for the current Navigation Menu widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_recent_comments/update/">WP_Widget_Recent_Comments::update()</a><code>wp-includes/widgets/class-wp-widget-recent-comments.php</code></td><td><p>Handles updating settings for the current Recent Comments widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_tag_cloud/update/">WP_Widget_Tag_Cloud::update()</a><code>wp-includes/widgets/class-wp-widget-tag-cloud.php</code></td><td><p>Handles updating settings for the current Tag Cloud widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_recent_posts/update/">WP_Widget_Recent_Posts::update()</a><code>wp-includes/widgets/class-wp-widget-recent-posts.php</code></td><td><p>Handles updating the settings for the current Recent Posts widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_categories/update/">WP_Widget_Categories::update()</a><code>wp-includes/widgets/class-wp-widget-categories.php</code></td><td><p>Handles updating settings for the current Categories widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_text/update/">WP_Widget_Text::update()</a><code>wp-includes/widgets/class-wp-widget-text.php</code></td><td><p>Handles updating settings for the current Text widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_calendar/update/">WP_Widget_Calendar::update()</a><code>wp-includes/widgets/class-wp-widget-calendar.php</code></td><td><p>Handles updating settings for the current Calendar widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_archives/update/">WP_Widget_Archives::update()</a><code>wp-includes/widgets/class-wp-widget-archives.php</code></td><td><p>Handles updating settings for the current Archives widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_meta/update/">WP_Widget_Meta::update()</a><code>wp-includes/widgets/class-wp-widget-meta.php</code></td><td><p>Handles updating settings for the current Meta widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_search/update/">WP_Widget_Search::update()</a><code>wp-includes/widgets/class-wp-widget-search.php</code></td><td><p>Handles updating settings for the current Search widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_pages/update/">WP_Widget_Pages::update()</a><code>wp-includes/widgets/class-wp-widget-pages.php</code></td><td><p>Handles updating settings for the current Pages widget instance.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/register_new_user/">register_new_user()</a><code>wp-includes/user.php</code></td><td><p>Handles registering a new user.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_page_menu/">wp_page_menu()</a><code>wp-includes/post-template.php</code></td><td><p>Displays or retrieves a list of pages with an optional home link.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 46 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/2.9.0/">2.9.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-mcmwebsol even thread-even depth-1" data-comment-id="5204" id="comment-5204">
<article class="comment-body" id="div-comment-5204">
<a class="screen-reader-text" href="#comment-content-5204">Skip to note 5 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5204">
<p>This function is not for protecting against SQL injection, so please don’t use it in your database queries.  In most cases using <a href="https://developer.notmatt.press/reference/classes/wpdb/prepare/">https://developer.notmatt.press/reference/classes/wpdb/prepare/</a> with placeholders is best for database queries.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5204">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-bhvreddy odd alt thread-odd thread-alt depth-1" data-comment-id="5504" id="comment-5504">
<article class="comment-body" id="div-comment-5504">
<a class="screen-reader-text" href="#comment-content-5504">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5504">
<p>Sanitize an array</p>
<pre class="wp-block-code"><code class="language-php" lang="php">map_deep( $form_data, 'sanitize_text_field' );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5504">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-kennyateam990 even thread-even depth-1" data-comment-id="4353" id="comment-4353">
<article class="comment-body" id="div-comment-4353">
<a class="screen-reader-text" href="#comment-content-4353">Skip to note 7 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4353">
<p>Check whether the string is a valid UTF-8 character, and remove all HTML tags.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">$str = "&lt;h2&gt;Title&lt;/h2&gt;";
sanitize_text_field( $str ); // it will return "title" without any HTML tags!</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-4353">
<ul class="children">
<li class="comment byuser comment-author-bharatthapa odd alt depth-2" data-comment-id="5297" id="comment-5297">
<article class="comment-body" id="div-comment-5297">
<div class="wporg-has-embedded-code comment-content" id="comment-content-5297">
<div>This will not convert text string to lower case as stated in your comment ” it will return ‘title’ without any HTML tags!” make it “it will return ‘Title’ without any HTML tags!’</div>
<div><a class="url" href="https://profiles.wordpress.org/bharatthapa/" rel="external nofollow">bharatthapa</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/sanitize_text_field/#comment-5297"><time datetime="2021-09-05T09:30:06+00:00">3 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-bearlydoug even thread-odd thread-alt depth-1" data-comment-id="4419" id="comment-4419">
<article class="comment-body" id="div-comment-4419">
<a class="screen-reader-text" href="#comment-content-4419">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4419">
<p>I ran across an issue with one of my plugins, as it was going through the initial security review, where I had an array that wasn’t passing a security check. The <a href="https://developer.notmatt.press/reference/functions/sanitize_text_field/" rel="function">sanitize_text_field()</a>  function only works on a string, not an array’d item.</p>
<p>I located this nice little tidbit of code to sanitize an array, properly.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/***
 * To ensure arrays are properly sanitized to WordPress Codex standards,
 * they encourage usage of sanitize_text_field(). That only works with a single
 * variable (string). This function allows for a full blown array to get sanitized
 * properly, while sanitizing each individual value in a key -&gt; value pair.
 *
 * Source: <a href="https://wordpress.stackexchange.com/questions/24736/wordpress-sanitize-array" rel="nofollow ugc">https://wordpress.stackexchange.com/questions/24736/wordpress-sanitize-array</a>
 * Author: Broshi, answered Feb 5 '17 at 9:14
 */
function wporg_recursive_sanitize_text_field( $array ) {
	foreach ( $array as $key =&gt; &amp;$value ) {
		if ( is_array( $value ) ) {
			$value = wporg_recursive_sanitize_text_field( $value );
		} else {
			$value = sanitize_text_field( $value );
		}
	}
	return $array;
}</code></pre>
<p>IMHO, this needs to become a core feature of WordPress’ sanitation functions. Lior Broshi is the gentleman that came up with this creative solution (I have obtained his permission to share this).</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-4419">
<ul class="children">
<li class="comment byuser comment-author-bhvreddy odd alt depth-2" data-comment-id="5503" id="comment-5503">
<article class="comment-body" id="div-comment-5503">
<div class="wporg-has-embedded-code comment-content" id="comment-content-5503">
<div>Sanitize an array  
<pre class="wp-block-code"><code class="language-php" lang="php">map_deep( $form_data, 'sanitize_text_field' );</code></pre>
</div>
<div><a class="url" href="https://profiles.wordpress.org/bhvreddy/" rel="external nofollow">bhvreddy</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/sanitize_text_field/#comment-5503"><time datetime="2021-11-27T09:11:52+00:00">3 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
