
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">wp_get_nav_menu_items()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>wp_get_nav_menu_items()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">wp_get_nav_menu_items( <span class="arg-type">int|string|WP_Term</span> <span class="arg-name">$menu</span>,  <span class="arg-type">array</span> <span class="arg-name">$args</span> = <span class="arg-default">array()</span> ): <span class="return-type">array|false</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Retrieves all menu items of a navigation menu.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Note: Most arguments passed to the <code>$args</code> parameter – save for ‘output_key’ – are specifically for retrieving nav_menu_item posts from <a href="https://developer.notmatt.press/reference/functions/get_posts/" rel="function">get_posts()</a>  and may only indirectly affect the ultimate ordering and content of the resulting nav menu items that get returned from this function.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$menu</code><span class="type"><span class="int">int</span>|<span class="string">string</span>|<span class="WP_Term"><a href="https://developer.notmatt.press/reference/classes/wp_term/" rel="class">WP_Term</a></span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">Menu ID, slug, name, or object.</span></div></dd><dt><code>$args</code><span class="type"><span class="array">array</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Arguments to pass to <a href="https://developer.notmatt.press/reference/functions/get_posts/" rel="function">get_posts()</a> .<br/>
<ul class="param-hash"><li><code>order</code> <span class="type">string</span><div class="desc">How to order nav menu items as queried with <a href="https://developer.notmatt.press/reference/functions/get_posts/" rel="function">get_posts()</a> .<br/>
Will be ignored if <code>'output'</code> is ARRAY_A. Default <code>'ASC'</code>.</div></li>
<li><code>orderby</code> <span class="type">string</span><div class="desc">Field to order menu items by as retrieved from <a href="https://developer.notmatt.press/reference/functions/get_posts/" rel="function">get_posts()</a> .<br/>
Supply an orderby field via <code>'output_key'</code> to affect the output order of nav menu items. Default <code>'menu_order'</code>.</div></li>
<li><code>post_type</code> <span class="type">string</span><div class="desc">Menu items post type. Default <code>'nav_menu_item'</code>.</div></li>
<li><code>post_status</code> <span class="type">string</span><div class="desc">Menu items post status. Default <code>'publish'</code>.</div></li>
<li><code>output</code> <span class="type">string</span><div class="desc">How to order outputted menu items. Default ARRAY_A.</div></li>
<li><code>output_key</code> <span class="type">string</span><div class="desc">Key to use for ordering the actual menu items that get returned. Note that that is not a <a href="https://developer.notmatt.press/reference/functions/get_posts/" rel="function">get_posts()</a>  argument and will only affect output of menu items processed in this function. Default <code>'menu_order'</code>.</div></li>
<li><code>nopaging</code> <span class="type">bool</span><div class="desc">Whether to retrieve all menu items (true) or paginate (false). Default true.</div></li>
<li><code>update_menu_item_cache</code> <span class="type">bool</span><div class="desc">Whether to update the menu item cache. Default true.</div></li>
</ul>
</span><details class="extended-description"><summary>More Arguments from get_posts( … $args )</summary><span class="description">Arguments to retrieve posts. See <a href="https://developer.notmatt.press/reference/classes/wp_query/parse_query/" rel="method">WP_Query::parse_query()</a> for all available arguments.<br/>
<ul class="param-hash"><li><code>numberposts</code> <span class="type">int</span><div class="desc">Total number of posts to retrieve. Is an alias of <code>$posts_per_page</code> in <a href="https://developer.notmatt.press/reference/classes/wp_query/" rel="class">WP_Query</a>. Accepts -1 for all. Default 5.</div></li>
<li><code>category</code> <span class="type">int|string</span><div class="desc">Category ID or comma-separated list of IDs (this or any children).<br/>
Is an alias of <code>$cat</code> in <a href="https://developer.notmatt.press/reference/classes/wp_query/" rel="class">WP_Query</a>. Default 0.</div></li>
<li><code>include</code> <span class="type">int[]</span><div class="desc">An array of post IDs to retrieve, sticky posts will be included.<br/>
Is an alias of <code>$post__in</code> in <a href="https://developer.notmatt.press/reference/classes/wp_query/" rel="class">WP_Query</a>. Default empty array.</div></li>
<li><code>exclude</code> <span class="type">int[]</span><div class="desc">An array of post IDs not to retrieve. Default empty array.</div></li>
<li><code>suppress_filters</code> <span class="type">bool</span><div class="desc">Whether to suppress filters. Default true.</div></li>
</ul>
</span></details></div><p class="default">Default:<code>array()</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">array|false</span> Array of menu items, otherwise false.</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="715"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function wp_get_nav_menu_items( $menu, $args = array() ) {
	$menu = wp_get_nav_menu_object( $menu );

	if ( ! $menu ) {
		return false;
	}

	if ( ! taxonomy_exists( 'nav_menu' ) ) {
		return false;
	}

	$defaults = array(
		'order'                  =&gt; 'ASC',
		'orderby'                =&gt; 'menu_order',
		'post_type'              =&gt; 'nav_menu_item',
		'post_status'            =&gt; 'publish',
		'output'                 =&gt; ARRAY_A,
		'output_key'             =&gt; 'menu_order',
		'nopaging'               =&gt; true,
		'update_menu_item_cache' =&gt; true,
		'tax_query'              =&gt; array(
			array(
				'taxonomy' =&gt; 'nav_menu',
				'field'    =&gt; 'term_taxonomy_id',
				'terms'    =&gt; $menu-&gt;term_taxonomy_id,
			),
		),
	);
	$args     = wp_parse_args( $args, $defaults );
	if ( $menu-&gt;count &gt; 0 ) {
		$items = get_posts( $args );
	} else {
		$items = array();
	}

	$items = array_map( 'wp_setup_nav_menu_item', $items );

	if ( ! is_admin() ) { // Remove invalid items only on front end.
		$items = array_filter( $items, '_is_valid_nav_menu_item' );
	}

	if ( ARRAY_A === $args['output'] ) {
		$items = wp_list_sort(
			$items,
			array(
				$args['output_key'] =&gt; 'ASC',
			)
		);

		$i = 1;

		foreach ( $items as $k =&gt; $item ) {
			$items[ $k ]-&gt;{$args['output_key']} = $i++;
		}
	}

	/**
	 * Filters the navigation menu items being returned.
	 *
	 * @since 3.0.0
	 *
	 * @param array  $items An array of menu item post objects.
	 * @param object $menu  The menu object.
	 * @param array  $args  An array of arguments used to retrieve menu item objects.
	 */
	return apply_filters( 'wp_get_nav_menu_items', $items, $menu, $args );
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/nav-menu.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/nav-menu.php#L715">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/nav-menu.php#L715-L781">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-hooks"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="hooks" tabindex="-1"><a href="#hooks">Hooks</a></h2> <dl><dt class="wp-block-wporg-code-reference-title has-normal-font-size"><a href="https://developer.notmatt.press/reference/hooks/wp_get_nav_menu_items/"><span class="hook-func">apply_filters</span>( ‘wp_get_nav_menu_items’,  <nobr><span class="arg-type">array</span> <span class="arg-name">$items</span></nobr>,  <nobr><span class="arg-type">object</span> <span class="arg-name">$menu</span></nobr>,  <nobr><span class="arg-type">array</span> <span class="arg-name">$args</span></nobr> )</a></dt><dd><p>Filters the navigation menu items being returned.</p>
</dd></dl></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_list_sort/">wp_list_sort()</a><code>wp-includes/functions.php</code></td><td><p>Sorts an array of objects or arrays based on one or more orderby arguments.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/taxonomy_exists/">taxonomy_exists()</a><code>wp-includes/taxonomy.php</code></td><td><p>Determines whether the taxonomy name exists.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_posts/">get_posts()</a><code>wp-includes/post.php</code></td><td><p>Retrieves an array of the latest posts, or posts matching the given criteria.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_get_nav_menu_object/">wp_get_nav_menu_object()</a><code>wp-includes/nav-menu.php</code></td><td><p>Returns a navigation menu object.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/is_admin/">is_admin()</a><code>wp-includes/load.php</code></td><td><p>Determines whether the current request is for an administrative interface page.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_parse_args/">wp_parse_args()</a><code>wp-includes/functions.php</code></td><td><p>Merges user defined arguments into defaults array.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/apply_filters/">apply_filters()</a><code>wp-includes/plugin.php</code></td><td><p>Calls the callback functions that have been added to a filter hook.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 3 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_classic_to_block_menu_converter/convert/">WP_Classic_To_Block_Menu_Converter::convert()</a><code>wp-includes/class-wp-classic-to-block-menu-converter.php</code></td><td><p>Converts a Classic Menu to blocks.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_customize_nav_menus/customize_register/">WP_Customize_Nav_Menus::customize_register()</a><code>wp-includes/class-wp-customize-nav-menus.php</code></td><td><p>Adds the customizer settings and controls.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_nav_menu_update_menu_items/">wp_nav_menu_update_menu_items()</a><code>wp-admin/includes/nav-menu.php</code></td><td><p>Saves nav menu items.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_get_nav_menu_to_edit/">wp_get_nav_menu_to_edit()</a><code>wp-admin/includes/nav-menu.php</code></td><td><p>Returns the menu formatted to edit.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_nav_menu/">wp_nav_menu()</a><code>wp-includes/nav-menu-template.php</code></td><td><p>Displays a navigation menu.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/_wp_auto_add_pages_to_menu/">_wp_auto_add_pages_to_menu()</a><code>wp-includes/nav-menu.php</code></td><td><p>Automatically add newly published page objects to menus with that as an option.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_update_nav_menu_item/">wp_update_nav_menu_item()</a><code>wp-includes/nav-menu.php</code></td><td><p>Saves the properties of a menu item or create a new one.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 2 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/3.0.0/">3.0.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-ragequit odd alt thread-odd thread-alt depth-1" data-comment-id="1609" id="comment-1609">
<article class="comment-body" id="div-comment-1609">
<a class="screen-reader-text" href="#comment-content-1609">Skip to note 12 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1609">
<p>Building bootstrap 3 menu with submenu items without use WP_nav_walker (boostrap)! (Require bootstrap.css and bootstrap.js)</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;?php
// Intented to use bootstrap 3.
// Location is like a 'primary'
// After, you print menu just add create_bootstrap_menu("primary") in your preferred position;
 
#add this function in your theme functions.php
 
function create_bootstrap_menu( $theme_location ) {
    if ( ($theme_location) &amp;&amp; ($locations = get_nav_menu_locations()) &amp;&amp; isset($locations[$theme_location]) ) {
		
		$menu_list  = '&lt;nav class="navbar navbar-default"&gt;' ."\n";
        $menu_list .= '&lt;div class="container-fluid"&gt;' ."\n";
        $menu_list .= '&lt;!-- Brand and toggle get grouped for better mobile display --&gt;' ."\n";
        $menu_list .= '&lt;div class="navbar-header"&gt;' ."\n";
        $menu_list .= '&lt;button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"&gt;' ."\n";
        $menu_list .= '&lt;span class="sr-only"&gt;Toggle navigation&lt;/span&gt;' ."\n";
        $menu_list .= '&lt;span class="icon-bar"&gt;&lt;/span&gt;' ."\n";
        $menu_list .= '&lt;span class="icon-bar"&gt;&lt;/span&gt;' ."\n";
        $menu_list .= '&lt;span class="icon-bar"&gt;&lt;/span&gt;' ."\n";
        $menu_list .= '&lt;/button&gt;' ."\n";
		$menu_list .= '&lt;a class="navbar-brand" href="' . home_url() . '"&gt;' . get_bloginfo( 'name' ) . '&lt;/a&gt;';
        $menu_list .= '&lt;/div&gt;' ."\n";
          
        $menu_list .= '&lt;!-- Collect the nav links, forms, and other content for toggling --&gt;';
		
		
        $menu = get_term( $locations[$theme_location], 'nav_menu' );
        $menu_items = wp_get_nav_menu_items($menu-&gt;term_id);

        $menu_list .= '&lt;div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"&gt;' ."\n";
        $menu_list .= '&lt;ul class="nav navbar-nav"&gt;' ."\n";
         
        foreach( $menu_items as $menu_item ) {
			if( $menu_item-&gt;menu_item_parent == 0 ) {
				
				$parent = $menu_item-&gt;ID;
				
				$menu_array = array();
				foreach( $menu_items as $submenu ) {
					if( $submenu-&gt;menu_item_parent == $parent ) {
						$bool = true;
						$menu_array[] = '&lt;li&gt;&lt;a href="' . $submenu-&gt;url . '"&gt;' . $submenu-&gt;title . '&lt;/a&gt;&lt;/li&gt;' ."\n";
					}
				}
				if( $bool == true &amp;&amp; count( $menu_array ) &gt; 0 ) {
					
					$menu_list .= '&lt;li class="dropdown"&gt;' ."\n";
					$menu_list .= '&lt;a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"&gt;' . $menu_item-&gt;title . ' &lt;span class="caret"&gt;&lt;/span&gt;&lt;/a&gt;' ."\n";
					
					$menu_list .= '&lt;ul class="dropdown-menu"&gt;' ."\n";
					$menu_list .= implode( "\n", $menu_array );
					$menu_list .= '&lt;/ul&gt;' ."\n";
					
				} else {
					
					$menu_list .= '&lt;li&gt;' ."\n";
					$menu_list .= '&lt;a href="' . $menu_item-&gt;url . '"&gt;' . $menu_item-&gt;title . '&lt;/a&gt;' ."\n";
				}
				
			}
			
			// end &lt;li&gt;
			$menu_list .= '&lt;/li&gt;' ."\n";
        }
         
        $menu_list .= '&lt;/ul&gt;' ."\n";
        $menu_list .= '&lt;/div&gt;' ."\n";
		$menu_list .= '&lt;/div&gt;&lt;!-- /.container-fluid --&gt;' ."\n";
        $menu_list .= '&lt;/nav&gt;' ."\n";
 
    } else {
        $menu_list = '&lt;!-- no menu defined in location "'.$theme_location.'" --&gt;';
    }
	
	echo $menu_list;
}
?&gt;</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-1609">
<ul class="children">
<li class="comment byuser comment-author-gukis even depth-2" data-comment-id="6916" id="comment-6916">
<article class="comment-body" id="div-comment-6916">
<div class="wporg-has-embedded-code comment-content" id="comment-content-6916">
<div>Seems that you need to put lines 62-63 inside the if statement <code> if( $menu_item-&gt;menu_item_parent == 0 ) </code> Otherwise there will be several closing li tags not closing anything for all submenu items since they have parents and won’t pass this check.</div>
<div><a class="url" href="https://profiles.wordpress.org/gukis/" rel="external nofollow">Gukis</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/wp_get_nav_menu_items/#comment-6916"><time datetime="2024-02-19T16:44:23+00:00">12 months ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-andrija odd alt thread-even depth-1" data-comment-id="832" id="comment-832">
<article class="comment-body" id="div-comment-832">
<a class="screen-reader-text" href="#comment-content-832">Skip to note 13 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-832">
<p>Building menu list with children (submenus) and selecting the menu by it’s location:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">// Intented to use with locations, like 'primary'
// clean_custom_menu("primary");

#add in your theme functions.php file

function clean_custom_menu( $theme_location ) {
	if ( ($theme_location) &amp;&amp; ($locations = get_nav_menu_locations()) &amp;&amp; isset($locations[$theme_location]) ) {
		$menu = get_term( $locations[$theme_location], 'nav_menu' );
		$menu_items = wp_get_nav_menu_items($menu-&gt;term_id);

		$menu_list  = '&lt;nav&gt;' ."\n";
		$menu_list .= '&lt;ul class="main-nav"&gt;' ."\n";

		$count = 0;
		$submenu = false;
		
		foreach( $menu_items as $menu_item ) {
			
			$link = $menu_item-&gt;url;
			$title = $menu_item-&gt;title;
			
			if ( !$menu_item-&gt;menu_item_parent ) {
				$parent_id = $menu_item-&gt;ID;
				
				$menu_list .= '&lt;li class="item"&gt;' ."\n";
				$menu_list .= '&lt;a href="'.$link.'" class="title"&gt;'.$title.'&lt;/a&gt;' ."\n";
			}

			if ( $parent_id == $menu_item-&gt;menu_item_parent ) {

				if ( !$submenu ) {
					$submenu = true;
					$menu_list .= '&lt;ul class="sub-menu"&gt;' ."\n";
				}

				$menu_list .= '&lt;li class="item"&gt;' ."\n";
				$menu_list .= '&lt;a href="'.$link.'" class="title"&gt;'.$title.'&lt;/a&gt;' ."\n";
				$menu_list .= '&lt;/li&gt;' ."\n";
					

				if ( $menu_items[ $count + 1 ]-&gt;menu_item_parent != $parent_id &amp;&amp; $submenu ){
					$menu_list .= '&lt;/ul&gt;' ."\n";
					$submenu = false;
				}

			}

			if ( $menu_items[ $count + 1 ]-&gt;menu_item_parent != $parent_id ) { 
				$menu_list .= '&lt;/li&gt;' ."\n";      
				$submenu = false;
			}

			$count++;
		}
		
		$menu_list .= '&lt;/ul&gt;' ."\n";
		$menu_list .= '&lt;/nav&gt;' ."\n";

	} else {
		$menu_list = '&lt;!-- no menu defined in location "'.$theme_location.'" --&gt;';
	}
	echo $menu_list;
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-832">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-cesaraquino even thread-odd thread-alt depth-1" data-comment-id="1800" id="comment-1800">
<article class="comment-body" id="div-comment-1800">
<a class="screen-reader-text" href="#comment-content-1800">Skip to note 14 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1800">
<p>Get simple array of menu. </p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function wp_get_menu_array($current_menu) {

    $array_menu = wp_get_nav_menu_items($current_menu);
	$menu = array();
	foreach ($array_menu as $m) {
		if (empty($m-&gt;menu_item_parent)) {
			$menu[$m-&gt;ID] = array();
			$menu[$m-&gt;ID]['ID'] 		= 	$m-&gt;ID;
			$menu[$m-&gt;ID]['title'] 		= 	$m-&gt;title;
			$menu[$m-&gt;ID]['url'] 		= 	$m-&gt;url;
			$menu[$m-&gt;ID]['children']	= 	array();
		}
	}
	$submenu = array();
	foreach ($array_menu as $m) {
		if ($m-&gt;menu_item_parent) {
			$submenu[$m-&gt;ID] = array();
			$submenu[$m-&gt;ID]['ID'] 		= 	$m-&gt;ID;
			$submenu[$m-&gt;ID]['title']	= 	$m-&gt;title;
			$submenu[$m-&gt;ID]['url'] 	= 	$m-&gt;url;
			$menu[$m-&gt;menu_item_parent]['children'][$m-&gt;ID] = $submenu[$m-&gt;ID];
		}
	}
    return $menu;
    
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="2" id="feedback-1800">
<ul class="children">
<li class="comment byuser comment-author-charlyripp odd alt depth-2" data-comment-id="3086" id="comment-3086">
<article class="comment-body" id="div-comment-3086">
<div class="wporg-has-embedded-code comment-content" id="comment-content-3086">
<div>A simplified and more ‘JSON Friendly’ take:  
<pre class="wp-block-code"><code class="language-php" lang="php"> function get_menu($current_menu) {      $array_menu = wp_get_nav_menu_items($current_menu);      $menu = array();      $refs = array();      foreach ($array_menu as $m) {          if (empty($m-&amp;gt;menu_item_parent)) {              $curMenu = array();              $curMenu['id']       =   $m-&amp;gt;ID;              $curMenu['title']    =   $m-&amp;gt;title;              $curMenu['url']      =   $m-&amp;gt;url;              $curMenu['children'] =   array();              $refs[$m-&amp;gt;ID] = count($menu);              array_push($menu, $curMenu);          } else {              $submenu = array();              $submenu['id']    =   $m-&amp;gt;ID;              $submenu['title'] =   $m-&amp;gt;title;              $submenu['url']   =   $m-&amp;gt;url;              array_push($menu[$refs[$m-&amp;gt;menu_item_parent]]['children'], $submenu);          }      }      return $menu; }  </code></pre>
</div>
<div><a class="url" href="https://profiles.wordpress.org/charlyripp/" rel="external nofollow">charlyripp</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/wp_get_nav_menu_items/#comment-3086"><time datetime="2019-02-27T05:29:42+00:00">6 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
<li class="comment byuser comment-author-kelvincys even depth-2" data-comment-id="4929" id="comment-4929">
<article class="comment-body" id="div-comment-4929">
<div class="wporg-has-embedded-code comment-content" id="comment-content-4929">
<div>modified to get nested menu  <code>function wp_get_nested_menu_array($current_menu) {   		    $array_menu = wp_get_nav_menu_items($current_menu); 		    $menu = array(); 		    foreach ($array_menu as $m) { 		        if (empty($m-&gt;menu_item_parent)) { 		            $menu[$m-&gt;ID] = array(); 		            $menu[$m-&gt;ID]['ID']      =   $m-&gt;ID; 		            $menu[$m-&gt;ID]['title']       =   $m-&gt;title; 		            $menu[$m-&gt;ID]['url']         =   $m-&gt;url; 		            $menu[$m-&gt;ID]['children']    =   array(); 		        } 		    } 		    $submenu = array(); 		    foreach ($array_menu as $m) { 		        if ($m-&gt;menu_item_parent) { 		            $submenu[$m-&gt;ID] = array(); 		            $submenu[$m-&gt;ID]['ID']       =   $m-&gt;ID; 		            $submenu[$m-&gt;ID]['title']    =   $m-&gt;title; 		            $submenu[$m-&gt;ID]['url']  =   $m-&gt;url; 		            $submenu[$m-&gt;ID]['parent']  =   $m-&gt;menu_item_parent; 		            if (isset($submenu[$m-&gt;menu_item_parent])) { 		            	$submenu[$m-&gt;menu_item_parent]['children'][$m-&gt;ID] = $submenu[$m-&gt;ID]; 		            	$mainparentid = $submenu[$m-&gt;menu_item_parent]['parent']; 		            	$menu[$mainparentid]['children'][$m-&gt;menu_item_parent] = $submenu[$m-&gt;menu_item_parent]; 		            }else{ 		            	$menu[$m-&gt;menu_item_parent]['children'][$m-&gt;ID] = $submenu[$m-&gt;ID]; 		            } 		             		        } 		    } 		     		    return $menu; 		      		}</code></div>
<div><a class="url" href="https://profiles.wordpress.org/kelvincys/" rel="external nofollow">kelvincys</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/wp_get_nav_menu_items/#comment-4929"><time datetime="2021-03-18T09:30:02+00:00">4 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex odd alt thread-even depth-1" data-comment-id="452" id="comment-452">
<article class="comment-body" id="div-comment-452">
<a class="screen-reader-text" href="#comment-content-452">Skip to note 15 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-452">
<p><strong>Building simple menu list</strong></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">// Get the nav menu based on $menu_name (same as 'theme_location' or 'menu' arg to wp_nav_menu)
// This code based on wp_nav_menu's code to get Menu ID from menu slug

$menu_name = 'custom_menu_slug';

if ( ( $locations = get_nav_menu_locations() ) &amp;&amp; isset( $locations[ $menu_name ] ) ) {
	$menu = wp_get_nav_menu_object( $locations[ $menu_name ] );

	$menu_items = wp_get_nav_menu_items($menu-&gt;term_id);

	$menu_list = '&lt;ul id="menu-' . $menu_name . '"&gt;';

	foreach ( (array) $menu_items as $key =&gt; $menu_item ) {
		$title = $menu_item-&gt;title;
		$url = $menu_item-&gt;url;
		$menu_list .= '&lt;li&gt;&lt;a href="' . $url . '"&gt;' . $title . '&lt;/a&gt;&lt;/li&gt;';
	}
	$menu_list .= '&lt;/ul&gt;';
} else {
	$menu_list = '&lt;ul&gt;&lt;li&gt;Menu "' . $menu_name . '" not defined.&lt;/li&gt;&lt;/ul&gt;';
}
// $menu_list now ready to output</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-452">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-aslam04 even thread-odd thread-alt depth-1" data-comment-id="5238" id="comment-5238">
<article class="comment-body" id="div-comment-5238">
<a class="screen-reader-text" href="#comment-content-5238">Skip to note 16 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5238">
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
 * This code will generate a simple array of menu items in hierarchical(parent-child) order.
 * This array will also contain child field as "true" if the item has child items array, 
 * and custom active class if the link is active.
 */
$menu_lists = array();
$sub_parent = 0;

// Menu item array (note: "Menu 1" is the name of menu)
$menu_items = wp_get_nav_menu_items( 'Menu 1' );
foreach ( $menu_items as $menu_item ) {

    if ( in_array( $menu_item-&gt;object, array( 'page', 'custom' ) ) ) {
        $id = $menu_item-&gt;ID;
        $title = $menu_item-&gt;title;
        $link = $menu_item-&gt;url;
        $menu_item_parent = $menu_item-&gt;menu_item_parent;

        // if menu item has no parent, means this is the top-menu.
        if ( ! $menu_item_parent ) {
            $menu_lists[ $id ]['child'] = false;
            $menu_lists[ $id ]['id'] = $id;
            $menu_lists[ $id ]['title'] = $title;
            $menu_lists[ $id ]['link'] = $link;

            // add active field if current link and open url is same.
            if ( get_permalink() === $link ) {
                $menu_lists[ $id ]['active'] = 'current-menu-item';
            }
        } else {
            // if parent menu is set, means this is 2nd level menu
            if ( isset( $menu_lists[ $menu_item_parent ] ) ) {
                $menu_lists[ $menu_item_parent ]['child'] = true;
                $menu_lists[ $menu_item_parent ][ $id ]['child'] = false;
                $menu_lists[ $menu_item_parent ][ $id ]['id'] = $id;
                $menu_lists[ $menu_item_parent ][ $id ]['title'] = $title;
                $menu_lists[ $menu_item_parent ][ $id ]['link'] = $link;

                // add active field to current menu item and its parent menu item if current link and open url is same.
                if ( get_permalink() === $link ) {
                    $menu_lists[ $menu_item_parent ]['active'] = 'current-menu-item';
                    $menu_lists[ $menu_item_parent ][ $id ]['active'] = 'current-menu-item';
                }

                $sub_parent = $menu_item_parent;
            } elseif ( isset( $menu_lists[ $sub_parent ][ $menu_item_parent ] ) ) {
                // if parent menu is set and their parent menu is also set, means this is 3rd level menu
                $menu_lists[ $sub_parent ][ $menu_item_parent ]['child'] = true;
                $menu_lists[ $sub_parent ][ $menu_item_parent ][ $id ]['id'] = $id;
                $menu_lists[ $sub_parent ][ $menu_item_parent ][ $id ]['title'] = $title;
                $menu_lists[ $sub_parent ][ $menu_item_parent ][ $id ]['link'] = $link;

                // add active field to current menu item and its parent menu item if current link and open url is same.
                if ( get_permalink() === $link ) {
                    $menu_lists[ $sub_parent ]['active'] = 'current-menu-item';
                    $menu_lists[ $sub_parent ][ $menu_item_parent ]['active'] = 'current-menu-item';
                    $menu_lists[ $sub_parent ][ $menu_item_parent ][ $id ]['active'] = 'current-menu-item';
                }
            }
        }
    }
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5238">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-rachelboylson odd alt thread-even depth-1" data-comment-id="4934" id="comment-4934">
<article class="comment-body" id="div-comment-4934">
<a class="screen-reader-text" href="#comment-content-4934">Skip to note 17 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4934">
<p>Create a shortcode that takes a menu ID and prints a simple list of links.  Add this to your functions.php file.<br>
Shortcode syntax: [my_custom_navigation menu_id=123]</br></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">// load navigation shortcode
add_shortcode( 'wpdocs_custom_navigation', 'wpdocs_add_custom_navigation' );

// create shortcode for navigation
function wpdocs_add_custom_navigation( $attributes, $content = null ) {

    // shortcode takes in one argument which is the menu id
    $navigation_attributes = shortcode_atts( array(
        'menu_id' =&gt; '',
    ), $attributes );

    // get navigation menu items based on menu id passed from shortcode
    $menu_items = wp_get_nav_menu_items( $navigation_attributes['menu_id'] );

    // create an empty string which we will add onto
    $menu_html = '';

    // loop through array and build list of navigation links
    for ( $x = 0; $x &lt; count( $menu_items ); $x++ ) {

        // get URL of menu item
        $url = $menu_items[ $x ]-&gt;url;

        // get title of menu item
        $title = $menu_items[ $x ]-&gt;title;

        // build HTML
        $menu_html .= '&lt;a href="';
        $menu_html .= esc_attr( esc_url( $url ) );
        $menu_html .= '"&gt;';
        $menu_html .= wp_kses_post( $title );
        $menu_html .= '&lt;/a&gt;&lt;br&gt;';
    }

    // return navigation HTML
    return
    '&lt;div id="menuWrapper"&gt;'
        . $menu_html .
    '&lt;/div&gt;';
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4934">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-saadamin even thread-odd thread-alt depth-1" data-comment-id="2453" id="comment-2453">
<article class="comment-body" id="div-comment-2453">
<a class="screen-reader-text" href="#comment-content-2453">Skip to note 18 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2453">
<p>I have tested this menu , it supports sub menu , submenu will have arrow , also current page parent and menu item will have active class.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">$menu_name = 'header-menu';
if ( ( $locations = get_nav_menu_locations() ) &amp;&amp; isset( $locations[ $menu_name ] ) ) {
	$menu = wp_get_nav_menu_object( $locations[ $menu_name ] );
 
	$menu_items = wp_get_nav_menu_items($menu-&gt;term_id);
	$menu_list = '';
	$count = 0;
	$submenu = false;$cpi=get_the_id();
	foreach( $menu_items as $current ) {
		if($cpi == $current-&gt;object_id ){if ( !$current-&gt;menu_item_parent ) {$cpi=$current-&gt;ID;}else{$cpi=$current-&gt;menu_item_parent;}$cai=$current-&gt;ID;break;}
	}
	foreach( $menu_items as $menu_item ) {
		$link = $menu_item-&gt;url;
		$title = $menu_item-&gt;title;
		$menu_item-&gt;ID==$cai ? $ac2=' current_menu' : $ac2='';
		if ( !$menu_item-&gt;menu_item_parent ) {
			$parent_id = $menu_item-&gt;ID;$parent_id==$cpi ? $ac=' current_item' : $ac='';
			if(!empty($menu_items[$count + 1]) &amp;&amp; $menu_items[ $count + 1 ]-&gt;menu_item_parent == $parent_id ){//Checking has child
				$menu_list .= '&lt;li class="dropdown has_child'.$ac.'"&gt;&lt;a href="'.$link.'" class="dropdown-toggle'.$ac2.'" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"&gt;&lt;span class="nav-span"&gt;&lt;/span&gt;'.$title.'&lt;span class="caret"&gt;&lt;/span&gt;&lt;/a&gt;';
			}else{
				$menu_list .= '&lt;li class="'.$ac.'"&gt;' ."\n";$menu_list .= '&lt;a href="'.$link.'" class="'.$ac2.'"&gt;'.$title.'&lt;/a&gt;' ."\n";
			}
			
		}
		if ( $parent_id == $menu_item-&gt;menu_item_parent ) {
			if ( !$submenu ) {
				$submenu = true;
				$menu_list .= '&lt;ul class="dropdown-menu"&gt;' ."\n";
			}
			$menu_list .= '&lt;li class="item"&gt;' ."\n";
			$menu_list .= '&lt;a href="'.$link.'" class="'.$ac2.'"&gt;'.$title.'&lt;/a&gt;' ."\n";
			$menu_list .= '&lt;/li&gt;' ."\n";
			if(empty($menu_items[$count + 1]) || $menu_items[ $count + 1 ]-&gt;menu_item_parent != $parent_id &amp;&amp; $submenu){
				$menu_list .= '&lt;/ul&gt;' ."\n";
				$submenu = false;
			}
		}
		if (empty($menu_items[$count + 1]) || $menu_items[ $count + 1 ]-&gt;menu_item_parent != $parent_id ) { 
			$menu_list .= '&lt;/li&gt;' ."\n";      
			$submenu = false;
		}
		$count++;
	}
} else {
	$menu_list = '&lt;li&gt;Menu "' . $menu_name . '" not defined.&lt;/li&gt;';
}
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2453">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-mathiasmadsen odd alt thread-even depth-1" data-comment-id="4857" id="comment-4857">
<article class="comment-body" id="div-comment-4857">
<a class="screen-reader-text" href="#comment-content-4857">Skip to note 19 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4857">
<p>Here are two functions that can be used to add the menu to the REST API and retrieve individual menu items:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function wpdocs_menu_route() {
	$menuLocations = get_nav_menu_locations(); // Get nav locations set in theme, usually functions.php)
	return $menuLocations;
}

add_action( 'rest_api_init', function () {
	register_rest_route( 'custom', '/menu/', array(
		'methods' =&gt; 'GET',
		'callback' =&gt; 'wpdocs_menu_route',
	) );
} );

function wpdocs_menu_single( $data ) {
	$menuID = $data['id']; // Get the menu from the ID
	$primaryNav = wp_get_nav_menu_items( $menuID ); // Get the array of wp objects, the nav items for our queried location.
	return $primaryNav;
}

add_action( 'rest_api_init', function () {
	register_rest_route( 'custom', '/menu/(?P&lt;id&gt;d+)', array(
		'methods' =&gt; 'GET',
		'callback' =&gt; 'wpdocs_menu_single',
	) );
} );</code></pre>
<p>This allows us to access both:<br>
<code>https://example.com/wp-json/custom/menu</code> and<br>
<code>https://example.com/wp-json/custom/menu/{menuID}</code></br></br></p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4857">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-huskyr even thread-odd thread-alt depth-1" data-comment-id="5849" id="comment-5849">
<article class="comment-body" id="div-comment-5849">
<a class="screen-reader-text" href="#comment-content-5849">Skip to note 20 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5849">
<p>If you’re having issues with this function returning empty arrays since version 6.0 (as i did) make sure you’re not accidentally adjusting the <code>$query</code>, for example by setting the <code>post_type</code> to a custom type in a <code>pre_get_posts</code> action.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5849">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-rohit0106 odd alt thread-even depth-1" data-comment-id="5897" id="comment-5897">
<article class="comment-body" id="div-comment-5897">
<a class="screen-reader-text" href="#comment-content-5897">Skip to note 21 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5897">
<p><strong>Build 3 level hierarchical menu</strong></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function create_bootstrap_menu( $theme_location ) {
    if ( ($theme_location) &amp;&amp; ($locations = get_nav_menu_locations()) &amp;&amp; isset($locations[$theme_location]) ) {
         

        $menu = get_term( $locations[$theme_location], 'nav_menu' );
        $menu_items = wp_get_nav_menu_items($menu-&gt;term_id);
		//echo '&lt;pre&gt;'; print_r($menu_items); die;
        $menu_list = '&lt;ul&gt;';
        $menucount = 1;
		$bool = true;
        foreach( $menu_items as $menu_item ) {
            if( $menu_item-&gt;menu_item_parent == 0 ) {
                 
                $parent = $menu_item-&gt;ID;
                 
                $menu_array = array();
                foreach( $menu_items as $submenu ) {
                    if( $submenu-&gt;menu_item_parent == $parent ) {
                        $bool = true;
                        $menu_array[] = '&lt;li class="dropdown"&gt;&lt;a href="' . $submenu-&gt;url . '" &gt;' . $submenu-&gt;title . '&lt;/a&gt;&lt;ul&gt;';
						$parents = $submenu-&gt;ID;
						foreach($menu_items as $submenus){
							if( $submenus-&gt;menu_item_parent == $parents ) {
								$menu_array[] .= '&lt;li&gt;&lt;a href="' . $submenus-&gt;url . '" &gt;' . $submenus-&gt;title . '&lt;/a&gt;&lt;/li&gt;';
							}
						}
						$menu_array[] .= '&lt;/ul&gt;&lt;/li&gt;';
                    }
                }
                if( $bool == true &amp;&amp; count( $menu_array ) &gt; 0 ) {
                     
                    $menu_list .= '&lt;li class="dropdown"&gt;';
                    $menu_list .= '&lt;a href="'.$menu_item-&gt;url.'"&gt;&lt;span&gt;'.$menu_item-&gt;title.'&lt;/span&gt; &lt;i class="bi bi-chevron-down"&gt;&lt;/i&gt;&lt;/a&gt;';
                     
                    $menu_list .= '&lt;ul&gt;' ."\n";
                    $menu_list .= implode( $menu_array );
                    $menu_list .= '&lt;/ul&gt;';
                     
                } else {
                    // echo "&lt;pre&gt;"; print_r($menu_item); 
                    $menu_list .= '&lt;li&gt;';
                    $menu_list .= '&lt;a class="nav-link scrollto active" href="'.$menu_item-&gt;url.'"&gt;' . $menu_item-&gt;title . '&lt;/a&gt;';
                }
                 
            }
             
            // end &lt;li&gt;
            $menu_list .= '&lt;/li&gt;';
			
			$menucount++;
        }
    } else {
        $menu_list = '&lt;!-- no menu defined in location "'.$theme_location.'" --&gt;';
    }
     
    return $menu_list;
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5897">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-ricjoh even thread-odd thread-alt depth-1" data-comment-id="6387" id="comment-6387">
<article class="comment-body" id="div-comment-6387">
<a class="screen-reader-text" href="#comment-content-6387">Skip to note 22 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6387">
<p>Here’s a simple <strong>recursive</strong> solution to get an array of a menu and all submenus:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function wpdocs_recursive_menu_array( $current_menu ) {
	$menudata = wp_get_nav_menu_items( $current_menu );

	function _build( $ID, $data ) {
		$menu = array();

		foreach ( $data as $datum ) {
			if ( $datum-&gt;menu_item_parent === $ID )  {
				$menu[ $datum-&gt;ID ] = array(
					'ID'       =&gt; $datum-&gt;ID,
					'title'    =&gt; $datum-&gt;title,
					'url'      =&gt; $datum-&gt;url,
					'children' =&gt; _build( $datum-&gt;ID, $data )
				);
			}
		}

		return $menu;
	}

	return _build( 0, $menudata );
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-6387">
<ul class="children">
<li class="comment byuser comment-author-cdsaenz odd alt depth-2" data-comment-id="6789" id="comment-6789">
<article class="comment-body" id="div-comment-6789">
<div class="wporg-has-embedded-code comment-content" id="comment-content-6789">
<div>For some reason $menu didn’t work for me with a slug. I had to use  I had to use this function at <a href="https://wordpress.stackexchange.com/a/268883/178538" rel="nofollow ugc">StackOverflow</a> that converts the slug to the term id, and it works fine.</div>
<div><a class="url" href="https://profiles.wordpress.org/cdsaenz/" rel="external nofollow">charly</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/wp_get_nav_menu_items/#comment-6789"><time datetime="2023-11-23T23:38:52+00:00">1 year ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
