
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.notmatt.press">Home</a></span><span><a href="https://developer.notmatt.press/reference/">Reference</a></span><span><a href="https://developer.notmatt.press/reference/functions/">Functions</a></span><span class="is-current-page">add_menu_page()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>add_menu_page()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">add_menu_page( <span class="arg-type">string</span> <span class="arg-name">$page_title</span>,  <span class="arg-type">string</span> <span class="arg-name">$menu_title</span>,  <span class="arg-type">string</span> <span class="arg-name">$capability</span>,  <span class="arg-type">string</span> <span class="arg-name">$menu_slug</span>,  <span class="arg-type">callable</span> <span class="arg-name">$callback</span> = <span class="arg-default">''</span>,  <span class="arg-type">string</span> <span class="arg-name">$icon_url</span> = <span class="arg-default">''</span>,  <span class="arg-type">int|float</span> <span class="arg-name">$position</span> = <span class="arg-default">null</span> ): <span class="return-type">string</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Adds a top-level menu page.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>This function takes a capability which will be used to determine whether or not a page is included in the menu.</p>
<p>The function which is hooked in to handle the output of the page must check that the user has the required capability as well.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$page_title</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">The text to be displayed in the title tags of the page when the menu is selected.</span></div></dd><dt><code>$menu_title</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">The text to be used for the menu.</span></div></dd><dt><code>$capability</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">The capability required for this menu to be displayed to the user.</span></div></dd><dt><code>$menu_slug</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">The slug name to refer to this menu by. Should be unique for this menu page and only                              include lowercase alphanumeric, dashes, and underscores characters to be compatible                              with <a href="https://developer.notmatt.press/reference/functions/sanitize_key/" rel="function">sanitize_key()</a> .</span></div></dd><dt><code>$callback</code><span class="type"><span class="callable">callable</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">The function to be called to output the content for this page.</span></div><p class="default">Default:<code>''</code></p></dd><dt><code>$icon_url</code><span class="type"><span class="string">string</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">The URL to the icon to be used for this menu.<br/>
<ul><li>Pass a base64-encoded SVG using a data URI, which will be colored to match                                the color scheme. This should begin with <code>'data:image/svg+xml;base64,'</code>.</li>
<li>Pass the name of a Dashicons helper class to use a font icon,                                e.g. <code>'dashicons-chart-pie'</code>.</li>
<li>Pass <code>'none'</code> to leave div.wp-menu-image empty so an icon can be added via CSS.</li></ul></span></div><p class="default">Default:<code>''</code></p></dd><dt><code>$position</code><span class="type"><span class="int">int</span>|<span class="float">float</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">The position in the menu order this item should appear.</span></div><p class="default">Default:<code>null</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">string</span> The resulting page’s hook_suffix.</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<h3 class="is-toc-heading wp-block-heading" id="notes" tabindex="-1"><a href="#notes">Notes</a></h3>
<ul class="wp-block-list">
<li><strong>Important Note:</strong> Since WordPress 4.4, you do not need to worry about making the position number unique to avoid conflicts. See trac ticket <a href="https://core.trac.notmatt.press/ticket/23316"> #23316</a> for more information.</li>
<li>If you’re running into the “You do not have sufficient permissions to access this page” error, then you’ve hooked too early. The hook you should use is <a href="https://developer.notmatt.press/reference/hooks/admin_menu/"><tt>admin_menu</tt></a>.</li>
<li>If you only want to move existing admin menu items to different positions, you can use the <tt>admin_menu</tt> hook to unset menu items from their current positions in the global <tt>$menu</tt> and <tt>$submenu</tt> variables (which are arrays), and reset them elsewhere in the array.</li>
<li>This function takes a ‘capability’ (see <a href="https://codex.notmatt.press/Roles_and_Capabilities" title="Roles and Capabilities">Roles and Capabilities</a>) which will be used to determine whether or not a page is included in the menu. The function which is hooked in to handle the output of the page must check that the user has the required ‘capability’ as well.</li>
<li>If you are using the <a href="https://codex.notmatt.press/Settings_API" title="Settings API">Settings API</a> to save data, and need the user to be other than the administrator, will need to modify the permissions via the hook <tt>option_page_capability_{$option_group}</tt>, where <tt>$option_group</tt> is the same as <tt>option_group</tt> in <tt><a href="https://developer.notmatt.press/reference/function/register_setting/"><tt>register_setting</tt>()</a> </tt>. Check out the <a href="https://codex.notmatt.press/Settings_API" title="Settings API">Settings API</a>.</li>
</ul>
<h3 class="is-toc-heading wp-block-heading" id="menu-structure" tabindex="-1"><a href="#menu-structure">Menu Structure</a></h3>
<h4 class="wp-block-heading">Default: bottom of menu structure</h4>
<ul class="wp-block-list">
<li>2 – Dashboard</li>
<li>4 – Separator</li>
<li>5 – Posts</li>
<li>10 – Media</li>
<li>15 – Links</li>
<li>20 – Pages</li>
<li>25 – Comments</li>
<li>59 – Separator</li>
<li>60 – Appearance</li>
<li>65 – Plugins</li>
<li>70 – Users</li>
<li>75 – Tools</li>
<li>80 – Settings</li>
<li>99 – Separator</li>
</ul>
<h4 class="wp-block-heading">For the Network Admin menu, the values are different:</h4>
<ul class="wp-block-list">
<li>2 – Dashboard</li>
<li>4 – Separator</li>
<li>5 – Sites</li>
<li>10 – Users</li>
<li>15 – Themes</li>
<li>20 – Plugins</li>
<li>25 – Settings</li>
<li>30 – Updates</li>
<li>99 – Separator</li>
</ul>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="1378"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function add_menu_page( $page_title, $menu_title, $capability, $menu_slug, $callback = '', $icon_url = '', $position = null ) {
	global $menu, $admin_page_hooks, $_registered_pages, $_parent_pages;

	$menu_slug = plugin_basename( $menu_slug );

	$admin_page_hooks[ $menu_slug ] = sanitize_title( $menu_title );

	$hookname = get_plugin_page_hookname( $menu_slug, '' );

	if ( ! empty( $callback ) &amp;&amp; ! empty( $hookname ) &amp;&amp; current_user_can( $capability ) ) {
		add_action( $hookname, $callback );
	}

	if ( empty( $icon_url ) ) {
		$icon_url   = 'dashicons-admin-generic';
		$icon_class = 'menu-icon-generic ';
	} else {
		$icon_url   = set_url_scheme( $icon_url );
		$icon_class = '';
	}

	$new_menu = array( $menu_title, $capability, $menu_slug, $page_title, 'menu-top ' . $icon_class . $hookname, $hookname, $icon_url );

	if ( null !== $position &amp;&amp; ! is_numeric( $position ) ) {
		_doing_it_wrong(
			__FUNCTION__,
			sprintf(
				/* translators: %s: add_menu_page() */
				__( 'The seventh parameter passed to %s should be numeric representing menu position.' ),
				'&lt;code&gt;add_menu_page()&lt;/code&gt;'
			),
			'6.0.0'
		);
		$position = null;
	}

	if ( null === $position || ! is_numeric( $position ) ) {
		$menu[] = $new_menu;
	} elseif ( isset( $menu[ (string) $position ] ) ) {
		$collision_avoider = base_convert( substr( md5( $menu_slug . $menu_title ), -4 ), 16, 10 ) * 0.00001;
		$position          = (string) ( $position + $collision_avoider );
		$menu[ $position ] = $new_menu;
	} else {
		/*
		 * Cast menu position to a string.
		 *
		 * This allows for floats to be passed as the position. PHP will normally cast a float to an
		 * integer value, this ensures the float retains its mantissa (positive fractional part).
		 *
		 * A string containing an integer value, eg "10", is treated as a numeric index.
		 */
		$position          = (string) $position;
		$menu[ $position ] = $new_menu;
	}

	$_registered_pages[ $hookname ] = true;

	// No parent as top level.
	$_parent_pages[ $menu_slug ] = false;

	return $hookname;
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-admin/includes/plugin.php/">View all references</a> <a href="https://core.trac.notmatt.press/browser/tags/6.7/src/wp-admin/includes/plugin.php#L1378">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-admin/includes/plugin.php#L1378-L1439">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_plugin_page_hookname/">get_plugin_page_hookname()</a><code>wp-admin/includes/plugin.php</code></td><td><p>Gets the hook name for the administrative page of a plugin.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/sanitize_title/">sanitize_title()</a><code>wp-includes/formatting.php</code></td><td><p>Sanitizes a string into a slug, which can be used in URLs or HTML attributes.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/set_url_scheme/">set_url_scheme()</a><code>wp-includes/link-template.php</code></td><td><p>Sets the scheme for a URL.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/plugin_basename/">plugin_basename()</a><code>wp-includes/plugin.php</code></td><td><p>Gets the basename of a plugin.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/current_user_can/">current_user_can()</a><code>wp-includes/capabilities.php</code></td><td><p>Returns whether the current user has the specified capability.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/_doing_it_wrong/">_doing_it_wrong()</a><code>wp-includes/functions.php</code></td><td><p>Marks something as being incorrectly called.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/add_action/">add_action()</a><code>wp-includes/plugin.php</code></td><td><p>Adds a callback function to an action hook.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 3 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/add_object_page/">add_object_page()</a><code>wp-admin/includes/deprecated.php</code></td><td><p>Add a top-level menu page in the ‘objects’ section.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/add_utility_page/">add_utility_page()</a><code>wp-admin/includes/deprecated.php</code></td><td><p>Add a top-level menu page in the ‘utility’ section.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/1.5.0/">1.5.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-codex even thread-odd thread-alt depth-1" data-comment-id="408" id="comment-408">
<article class="comment-body" id="div-comment-408">
<a class="screen-reader-text" href="#comment-content-408">Skip to note 12 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-408">
<p><strong>Examples</strong><br>
Add a custom menu item to the WordPress admin menu, for a user with administrator capability:</br></p>
<p><em>Method 1:</em></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
 * Register a custom menu page.
 */
function wpdocs_register_my_custom_menu_page() {
	add_menu_page(
		__( 'Custom Menu Title', 'textdomain' ),
		'custom menu',
		'manage_options',
		'myplugin/myplugin-admin.php',
		'',
		plugins_url( 'myplugin/images/icon.png' ),
		6
	);
}
add_action( 'admin_menu', 'wpdocs_register_my_custom_menu_page' );</code></pre>
<p>With this method the page-generating code should be located in <code>myplugin/myplugin-admin.php</code>:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php esc_html_e( 'Admin Page Test', 'textdomain' ); ?&gt;</code></pre>
<p><em>Method 2:</em></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
 * Register a custom menu page.
 */
function wpdocs_register_my_custom_menu_page(){
	add_menu_page( 
		__( 'Custom Menu Title', 'textdomain' ),
		'custom menu',
		'manage_options',
		'custompage',
		'my_custom_menu_page',
		plugins_url( 'myplugin/images/icon.png' ),
		6
	); 
}
add_action( 'admin_menu', 'wpdocs_register_my_custom_menu_page' );

/**
 * Display a custom menu page
 */
function my_custom_menu_page(){
	esc_html_e( 'Admin Page Test', 'textdomain' );	
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-408">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-felipeelia odd alt thread-even depth-1" data-comment-id="2686" id="comment-2686">
<article class="comment-body" id="div-comment-2686">
<a class="screen-reader-text" href="#comment-content-2686">Skip to note 13 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2686">
<p>If you pass a base64-encoded SVG using a data URI, it will only be colored to match the color scheme <strong>IF</strong> it has a <code>fill</code> style attribute. The process is done by <code>wp-admin/js/svg-painter.js</code>.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-2686">
<ul class="children">
<li class="comment byuser comment-author-felipeelia even depth-2" data-comment-id="2702" id="comment-2702">
<article class="comment-body" id="div-comment-2702">
<div class="wporg-has-embedded-code comment-content" id="comment-content-2702">
<div>I forgot to mention that this is about the icon to be used for this menu (<code>$icon_url</code>).</div>
<div><a class="url" href="https://profiles.notmatt.press/felipeelia/" rel="external nofollow">Felipe Elia</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/add_menu_page/#comment-2702"><time datetime="2018-05-21T16:09:05+00:00">7 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-surwan odd alt thread-odd thread-alt depth-1" data-comment-id="4771" id="comment-4771">
<article class="comment-body" id="div-comment-4771">
<a class="screen-reader-text" href="#comment-content-4771">Skip to note 14 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4771">
<p>To add a top-level menu item which resolves to a sub-menu item, the menu slugs of each <em>add_menu_page</em> and <em>add_submenu_page</em> calls need to match. <strong>This is useful for when you need the top-level menu item label to be different to the first sub-level item</strong>. Otherwise the top-level item label is repeated as the first sub-level item.</p>
<p>Minimal example –</p>
<pre class="wp-block-code"><code class="language-php" lang="php">$menu_slug = 'wpdocs-orders-slug';
add_menu_page( 'WP Docs Orders', 'WP Docs Orders', 'read', $menu_slug, false );
add_submenu_page( $menu_slug, 'Existing WP Docs Orders', 'Existing WP Docs Orders', 'read', $menu_slug, 'wpdocs_orders_function' );</code></pre>
<p>In this example; when the ‘WP Docs Orders’ top-level item is selected, it will trigger the submenu item.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4771">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-5diraptor even thread-even depth-1" data-comment-id="5845" id="comment-5845">
<article class="comment-body" id="div-comment-5845">
<a class="screen-reader-text" href="#comment-content-5845">Skip to note 15 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5845">
<p><strong>Adding custom SVG icons.</strong></p>
<p>I wrestled with this a bit and wanted to add in some notes when using the $icon_url parameter.  From my experience and from looking on forums, using your custom icon isn’t as easy as just creating your SVG and encoding it.  Here’s the step by step process to add custom SVG icon to the admin menu:</p>
<ol>
<li>First, get or create your SVG icon in any way you want.</li>
<li>Next, clean up the SVG file and format it correctly</li>
<li>Then base64 encode the file</li>
<li>Prefix the base64 string with <code>'data:image/svg+xml;base64,'</code></li>
<li>…and that will give you a valid $icon_url string.</li>
</ol>
<p>So let me expand on those steps.</p>
<p><strong>Step 1</strong></p>
<p>You can create your SVG graphic in any way you want as far as I can see.  I created mine in Adobe Illustrator, but anything like Inkscape, Corel draw, even hardcoding it is ok.</p>
<p><strong>Step 2</strong></p>
<p>The painful part is cleaning up your SVG.  After a lot of testing and experimenting I found that the cleaner the SVG is, the more likely it is to work.  Basically, a lot of graphics programs will add in metadata and other fluff to make the SVG more widely compatible.  That’s great 99% of the time, but when using it for a wordpress menu icon, it just breaks it.</p>
<p>This is an example of an SVG exported normally from Adobe Illustrator:</p>
<pre class="wp-block-code"><code class="language-js line-numbers" lang="js">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;svg xmlns="<a href="http://www.w3.org/2000/svg&amp;quot" rel="nofollow ugc">http://www.w3.org/2000/svg&amp;quot</a>; viewBox="0 0 
15.7 16"&gt;&lt;defs&gt;&lt;style&gt;.d{fill:#070707;}&lt;/style&gt;&lt;/defs&gt;&lt;g id="a"/&gt;&lt;g id="b"&gt;&lt;g id="c"&gt;&lt;path
 class="d" d="M15.4,6.5H7.9v3h4.4c-.4,2.1-2.3,3.5-4.4,3.4-2.6-.1-4.6-2.1-4.7-4.7-.1-2.7,2-5
,4.7-5.1,1.1,0,2.2,.4,3.1,1.2l2.3-2.2c-1.4-1.4-3.4-2.1-5.3-2.1C3.6,0,0,3.6,0,8s3.6,8,8,8,
7.7-3.2,7.7-7.8c-.1-.6-.1-1.1-.3-1.7Z"/&gt;&lt;path class="d" d="M15.4,6.5H7.9v3h4.4c-.4,2.1-2.3,
3.5-4.4,3.4-2.6-.1-4.6-2.1-4.7-4.7-.1-2.7,2-5,4.7-5.1,1.1,0,2.2,.4,3.1,1.2l2.3-2.2c-1.4-1.
4-3.4-2.1-5.3-2.1C3.6,0,0,3.6,0,8s3.6,8,8,8,7.7-3.2,7.7-7.8c-.1-.6-.1-1.1-.3-1.7Z"/&gt;&lt;/g&gt;
&lt;/g&gt;&lt;/svg&gt;</code></pre>
<p>Messy, very messy.  Even when we add some line breaks and indent it, there’s a lot going on.</p>
<pre class="wp-block-code"><code class="language-js line-numbers" lang="js">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;svg xmlns="<a href="http://www.w3.org/2000/svg&amp;quot" rel="nofollow ugc">http://www.w3.org/2000/svg&amp;quot</a>; viewBox="0 0 15.7 16"&gt;
	&lt;defs&gt;
		&lt;style&gt;
			.d{fill:#070707;}
		&lt;/style&gt;
	&lt;/defs&gt;
	&lt;g id="a"/&gt;
	&lt;g id="b"&gt;
		&lt;g id="c"&gt;
			&lt;path class="d" d="M15.4,6.5H7.9v3h4.4c-.4,2.1-2.3,3.5-4.4,3.4-2.6-.1-4.6-2.1-4.7-4.7-.1-2.7,2-5,4.7-5.1,1.1,0,2.2,.4,3.1,1.2l2.3-2.2c-1.4-1.4-3.4-2.1-5.3-2.1C3.6,0,0,3.6,0,8s3.6,8,8,8,7.7-3.2,7.7-7.8c-.1-.6-.1-1.1-.3-1.7Z"/&gt;
			&lt;path class="d" d="M15.4,6.5H7.9v3h4.4c-.4,2.1-2.3,3.5-4.4,3.4-2.6-.1-4.6-2.1-4.7-4.7-.1-2.7,2-5,4.7-5.1,1.1,0,2.2,.4,3.1,1.2l2.3-2.2c-1.4-1.4-3.4-2.1-5.3-2.1C3.6,0,0,3.6,0,8s3.6,8,8,8,7.7-3.2,7.7-7.8c-.1-.6-.1-1.1-.3-1.7Z"/&gt;
		&lt;/g&gt;
	&lt;/g&gt;
&lt;/svg&gt;</code></pre>
<p>So what we want to do is clean this up a lot and get rid of unnecessary data. You may find that the above will load if you add it as an image source but it won’t color properly with the GUI and it will probably be the wrong size.  So there’s a few things we need to do:</p>
<ul>
<li>Remove the <code>&lt;?xml</code> tag, this won’t help</li>
<li>Then you will have to hardcode each style into the path, rather than using the tag. For each path, work out which classes apply to the path from the tag, and add the CSS from those classes into the path.</li>
<li>Once that’s done, you can remove the <code>defs</code> element completely.</li>
<li>You can also remove the elements and leave the elements at the root of the SVG.</li>
<li>To ensure your SVG is colored in line with the GUI, you will need to add <code>fill="black"</code> to each path.
</li>
<li>And then, to ensure your SVG is the right width and height, add <code>width="20" height="20"</code> into the opening element
</li>
</ul>
<p>Once that’s done, you’ll end up with an SVG file that looks more like this:</p>
<pre class="wp-block-code"><code class="language-js" lang="js">&lt;svg width="20" height="20" viewBox="0 0 20 20" xmlns="<a href='http://www.w3.org/2000/svg"&amp;gt' rel="nofollow ugc">http://www.w3.org/2000/svg"&amp;gt</a>;
	&lt;path fill="black" d="M17.6 8.5h-7.5v3h4.4c-.4 2.1-2.3 3.5-4.4 3.4-2.6-.1-4.6-2.1-4.7-4.7-.1-2.7 2-5 4.7-5.1 1.1 0 2.2.4 3.1 1.2l2.3-2.2C14.1 2.7 12.1 2 10.2 2c-4.4 0-8 3.6-8 8s3.6 8 8 8c4.6 0 7.7-3.2 7.7-7.8-.1-.6-.1-1.1-.3-1.7z" fillrule="evenodd" cliprule="evenodd"&gt;
	&lt;/path&gt;
&lt;/svg&gt;</code></pre>
<p><strong>Step 3</strong></p>
<p>Now you want to base64 encode your SVG.  The way I did it was to pass the file into PHP’s default encoding mechanism, and copy the path into my PHP as an absolute path.  You don’t want PHP to read the SVG file, base64 encode it, and pass it to the menu every time the user reloads the page, that’s just a waste of resources and time.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">// load the SVG data by loading the file or including the XML directly.
$svg = file_get_contents( '/path/to/icon.svg' );
// or
$svg = '&lt;svg width="20" height="20" viewBox="0 0 20 20" xmlns="<a href='http://www.w3.org/2000/svg"&gt;&lt;path' rel="nofollow ugc">http://www.w3.org/2000/svg"&gt;&lt;path</a> fill="black" d="M17.6 8.5h-7.5v3h4.4c-.4 2.1-2.3 3.5-4.4 3.4-2.6-.1-4.6-2.1-4.7-4.7-.1-2.7 2-5 4.7-5.1 1.1 0 2.2.4 3.1 1.2l2.3-2.2C14.1 2.7 12.1 2 10.2 2c-4.4 0-8 3.6-8 8s3.6 8 8 8c4.6 0 7.7-3.2 7.7-7.8-.1-.6-.1-1.1-.3-1.7z" fillrule="evenodd" cliprule="evenodd"&gt;&lt;/path&gt;&lt;/svg&gt;';

// then encode it and echo it out
echo base64_encode( $svg );
// will give you a long string that looks like this:
// PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdib3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjYTdhYWFkIiBkPSJNMTcuNiA4LjVoLTcuNXYzaDQuNGMtLjQgMi4xLTIuMyAzLjUtNC40IDMuNC0yLjYtLjEtNC42LTIuMS00LjctNC43LS4xLTIuNyAyLTUgNC43LTUuMSAxLjEgMCAyLjIuNCAzLjEgMS4ybDIuMy0yLjJDMTQuMSAyLjcgMTIuMSAyIDEwLjIgMmMtNC40IDAtOCAzLjYtOCA4czMuNiA4IDggOGM0LjYgMCA3LjctMy4yIDcuNy03LjgtLjEtLjYtLjEtMS4xLS4zLTEuN3oiIGZpbGxydWxlPSJldmVub2RkIiBjbGlwcnVsZT0iZXZlbm9kZCI+PC9wYXRoPjwvc3ZnPg==

// thats your base64 encoded SVG file! </code></pre>
<p><strong>Step 4</strong></p>
<p>Add ‘data:image/svg+xml;’ in front of the base64 SVG so it looks like this:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdib3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjYTdhYWFkIiBkPSJNMTcuNiA4LjVoLTcuNXYzaDQuNGMtLjQgMi4xLTIuMyAzLjUtNC40IDMuNC0yLjYtLjEtNC42LTIuMS00LjctNC43LS4xLTIuNyAyLTUgNC43LTUuMSAxLjEgMCAyLjIuNCAzLjEgMS4ybDIuMy0yLjJDMTQuMSAyLjcgMTIuMSAyIDEwLjIgMmMtNC40IDAtOCAzLjYtOCA4czMuNiA4IDggOGM0LjYgMCA3LjctMy4yIDcuNy03LjgtLjEtLjYtLjEtMS4xLS4zLTEuN3oiIGZpbGxydWxlPSJldmVub2RkIiBjbGlwcnVsZT0iZXZlbm9kZCI+PC9wYXRoPjwvc3ZnPg=="</code></pre>
<p>and that there, sir, is a perfectly valid <code>$icon_url</code> string. I would hard code that string to a variable and simply add it into your plugin every time.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_menu_page( __( 'WPDocs Plugin page name' ), __( 'WPDocs Plugin' ), 'manage_options', 'slug', 'callback','data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdib3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjYTdhYWFkIiBkPSJNMTcuNiA4LjVoLTcuNXYzaDQuNGMtLjQgMi4xLTIuMyAzLjUtNC40IDMuNC0yLjYtLjEtNC42LTIuMS00LjctNC43LS4xLTIuNyAyLTUgNC43LTUuMSAxLjEgMCAyLjIuNCAzLjEgMS4ybDIuMy0yLjJDMTQuMSAyLjcgMTIuMSAyIDEwLjIgMmMtNC40IDAtOCAzLjYtOCA4czMuNiA4IDggOGM0LjYgMCA3LjctMy4yIDcuNy03LjgtLjEtLjYtLjEtMS4xLS4zLTEuN3oiIGZpbGxydWxlPSJldmVub2RkIiBjbGlwcnVsZT0iZXZlbm9kZCI+PC9wYXRoPjwvc3ZnPg==' );</code></pre>
<p>I hope that helps someone else, because that would have saved me several hours this morning!</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-5845">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-sophy odd alt thread-odd thread-alt depth-1" data-comment-id="2169" id="comment-2169">
<article class="comment-body" id="div-comment-2169">
<a class="screen-reader-text" href="#comment-content-2169">Skip to note 16 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2169">
<p>Add Menu Pages with Dashicons. More dashicons check here <a href="https://developer.notmatt.press/resource/dashicons/#menu" rel="ugc">https://developer.notmatt.press/resource/dashicons/#menu</a></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">add_action( 'admin_menu', 'register_my_custom_menu_page' );
function register_my_custom_menu_page() {
  // add_menu_page( $page_title, $menu_title, $capability, $menu_slug, $function, $icon_url, $position );
  add_menu_page( 'Custom Menu Page Title', 'Custom Menu Page', 'manage_options', 'custom.php', '', 'dashicons-welcome-widgets-menus', 90 );
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2169">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-talentedaamer even thread-even depth-1" data-comment-id="1266" id="comment-1266">
<article class="comment-body" id="div-comment-1266">
<a class="screen-reader-text" href="#comment-content-1266">Skip to note 17 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1266">
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
 * Create admin Page to list unsubscribed emails.
 */
 // Hook for adding admin menus
 add_action('admin_menu', 'wpdocs_unsub_add_pages');

 // action function for above hook

/**
 * Adds a new top-level page to the administration menu.
 */
function wpdocs_unsub_add_pages() {
     add_menu_page(
	 	__( 'Unsub List', 'textdomain' ),
		__( 'Unsub Emails','textdomain' ),
		'manage_options',
		'wpdocs-unsub-email-list',
		'wpdocs_unsub_page_callback',
		''
	);
}

/**
 * Disply callback for the Unsub page.
 */
 function wpdocs_unsub_page_callback() {
     echo 'Unsubscribe Email List';
 }
 </code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1266">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-elirant3 odd alt thread-odd thread-alt depth-1" data-comment-id="4227" id="comment-4227">
<article class="comment-body" id="div-comment-4227">
<a class="screen-reader-text" href="#comment-content-4227">Skip to note 18 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4227">
<p>A better example to <strong>peskyesky</strong>.</p>
<p>object oriented example.</p>
<p><em>TODO:<br/>
create includes/layout.php </em></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">class WPDocs_EB_EbtechModules {
    public static function init() {
        add_action( 'admin_enqueue_scripts', array( __CLASS__, 'adminAssets' ) );
        add_action( 'admin_menu', array( __CLASS__, 'adminMenu' ) );
    }

    public static function adminMenu() {
        add_menu_page(
            __( 'WPDocs Ebtech Menu', 'wpdocs-webnail-modules' ),
            __( 'WPDocs Ebtech modules', 'wpdocs-webnail-modules' ),
            'manage_options',
            'wpdocs-ebtech-modules',
            array( __CLASS__, 'menuPage' ),
            'dashicons-tagcloud',
            6
        );
    }

    public static function menuPage() {
        if ( is_file( plugin_dir_path( __FILE__ ) . 'includes/layout.php' ) ) {
            include_once plugin_dir_path( __FILE__ ) . 'includes/layout.php';
        }
    }

    public static function getSettings() {
        return get_option( 'wpdocs_ebtech_modules_option' );
    }

    public static function adminAssets() {
        if ( isset( $_GET['page'] ) &amp;&amp; ! empty( $_GET['page'] ) &amp;&amp; 'wpdocs-ebtech-modules' === $_GET['page'] ) {

        }
    }
}

WPDocs_EB_EbtechModules::init();
WPDocs_EB_EbtechModules::getSettings();</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4227">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-vincentdubroeucq even thread-even depth-1" data-comment-id="3492" id="comment-3492">
<article class="comment-body" id="div-comment-3492">
<a class="screen-reader-text" href="#comment-content-3492">Skip to note 19 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3492">
<p>The callback function used to display the contents of the page <strong>isn’t necessarily required to check current user’s capabilities</strong>, since the callback is not even hooked in if the user doesn’t have the right capabilities.</p>
<p>If you try to directly access a page for which you don’t have required capabilities, you’ll get an error page.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3492">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-angelbouklis odd alt thread-odd thread-alt depth-1" data-comment-id="6596" id="comment-6596">
<article class="comment-body" id="div-comment-6596">
<a class="screen-reader-text" href="#comment-content-6596">Skip to note 20 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6596">
<p>Quick example on how to add a menu entry with an icon.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;?php

add_action( 'admin_menu', 'wpdocs_add_artist_menu' );
function wpdocs_add_artist_menu(): void {
    add_menu_page(
        'Artists',
        'Artists',
        'manage_options',
        'admin-artists',
        '...',
        'data:image/svg+xml;base64,' . base64_encode(
            'svg goes here, unfortunately I can't paste one because it is automatically removed'
        )
    );
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6596">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-sarankumar even thread-even depth-1" data-comment-id="6994" id="comment-6994">
<article class="comment-body" id="div-comment-6994">
<a class="screen-reader-text" href="#comment-content-6994">Skip to note 21 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6994">
<p>When incorporating additional menu items using <strong>add_menu_page</strong>, the main page automatically becomes the first entry in the submenu. However, if you wish to assign a different name to the first item in the list, you can utilize the following code.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">add_action( 'admin_menu', 'wpdocs_menu_pages' );
function wpdocs_menu_pages() {
    add_menu_page( 'My Page Title', 'My Page Title', 'manage_options', 'wpdocs-menu', 'wpdocs_menu_output','dashicons-whatsapp',6 );
    add_submenu_page( 'wpdocs-menu', 'Submenu Page Title', 'Submenu Page Title', 'manage_options', 'wpdocs-menu' );
    add_submenu_page( 'wpdocs-menu', 'Submenu Page Title2', 'Submenu Page Title 2', 'manage_options', 'wpdocs-menu2' );
}</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6994">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-peskyesky odd alt thread-odd thread-alt depth-1 bad-note" data-comment-id="1593" id="comment-1593">
<article class="comment-body" id="div-comment-1593">
<a class="screen-reader-text" href="#comment-content-1593">Skip to note 22 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1593">
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">// For those who are object orientated. Add a class 
// function as the menu callback and setup the 
// menus automatically. 

// Exit if accessed directly
if ( !defined( 'ABSPATH' ) ) exit;

class MyMenuSetterUpper {

    private static $instance;

    /**
     * Main Instance
     *
     * @staticvar 	array 	$instance
     * @return 		The one true instance
     */
    public static function instance() {
         if ( ! isset( self::$instance ) ) {
             self::$instance = new self;
	     self::$instance-&gt;addMyAdminMenu();
	}

        return self::$instance;
    }

    public function addMyAdminMenu() {
         
         add_menu_page(
            'My Page Title',
            'My Page',
            'read',
            'my-menu-page-slug',
            array(
                $this,
                'myAdminPage'
            ),
            'to/icon/file.svg',
            '2.1'
        );
    }

    public function myAdminPage() {
         // Echo the html here...
    }

}
// Call the class and add the menus automatically. 
$MyMenuSetterUpper = MyMenuSetterUpper::instance();</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1593">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
