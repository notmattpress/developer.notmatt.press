
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.notmatt.press">Home</a></span><span><a href="https://developer.notmatt.press/reference/">Reference</a></span><span><a href="https://developer.notmatt.press/reference/functions/">Functions</a></span><span class="is-current-page">get_user_meta()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>get_user_meta()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">get_user_meta( <span class="arg-type">int</span> <span class="arg-name">$user_id</span>,  <span class="arg-type">string</span> <span class="arg-name">$key</span> = <span class="arg-default">''</span>,  <span class="arg-type">bool</span> <span class="arg-name">$single</span> = <span class="arg-default">false</span> ): <span class="return-type">mixed</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Retrieves user meta field for a user.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$user_id</code><span class="type"><span class="int">int</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">User ID.</span></div></dd><dt><code>$key</code><span class="type"><span class="string">string</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">The meta key to retrieve. By default,                        returns data for all keys.</span></div><p class="default">Default:<code>''</code></p></dd><dt><code>$single</code><span class="type"><span class="bool">bool</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Whether to return a single value.<br/>
This parameter has no effect if <code>$key</code> is not specified.<br/>
</span></div><p class="default">Default:<code>false</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">mixed</span> An array of values if <code>$single</code> is false.<br/>
The value of meta data field if <code>$single</code> is true.<br/>
False for an invalid <code>$user_id</code> (non-numeric, zero, or negative value).<br/>
An empty array if a valid but non-existing user ID is passed and <code>$single</code> is false.<br/>
An empty string if a valid but non-existing user ID is passed and <code>$single</code> is true.</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<p>Please note that if the meta value exists but is empty, it will return an empty string (or array) as if the meta value didn’t exist. This might cause unexpected behaviors in your code when you empty the user meta, your code can try to use add_user_meta instead of update_user_meta thinking the user does not have meta created yet.</p>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="1204"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function get_user_meta( $user_id, $key = '', $single = false ) {
	return get_metadata( 'user', $user_id, $key, $single );
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/user.php/">View all references</a> <a href="https://core.trac.notmatt.press/browser/tags/6.7/src/wp-includes/user.php#L1204">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/user.php#L1204-L1206">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_metadata/">get_metadata()</a><code>wp-includes/meta.php</code></td><td><p>Retrieves the value of a metadata field for the specified object type and ID.</p>
</td></tr></tbody></table></figure></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_application_passwords/get_user_application_passwords/">WP_Application_Passwords::get_user_application_passwords()</a><code>wp-includes/class-wp-application-passwords.php</code></td><td><p>Gets a user’s application passwords.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_initialize_site/">wp_initialize_site()</a><code>wp-includes/ms-site.php</code></td><td><p>Runs the initialization routine for a given site.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_default_packages_inline_scripts/">wp_default_packages_inline_scripts()</a><code>wp-includes/script-loader.php</code></td><td><p>Adds inline scripts required for the WordPress JavaScript packages.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/the_block_editor_meta_boxes/">the_block_editor_meta_boxes()</a><code>wp-admin/includes/post.php</code></td><td><p>Renders the meta boxes forms.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/register_and_do_post_meta_boxes/">register_and_do_post_meta_boxes()</a><code>wp-admin/includes/meta-boxes.php</code></td><td><p>Registers the default post meta boxes, and runs the <code>do_meta_boxes</code> actions.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_user_personal_data_exporter/">wp_user_personal_data_exporter()</a><code>wp-includes/user.php</code></td><td><p>Finds and exports personal data associated with an email address from the user and user_meta table.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_user/get_caps_data/">WP_User::get_caps_data()</a><code>wp-includes/class-wp-user.php</code></td><td><p>Gets the available user capabilities data.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_widget_text/render_control_template_scripts/">WP_Widget_Text::render_control_template_scripts()</a><code>wp-includes/widgets/class-wp-widget-text.php</code></td><td><p>Renders form template scripts.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_screen/render_meta_boxes_preferences/">WP_Screen::render_meta_boxes_preferences()</a><code>wp-admin/includes/class-wp-screen.php</code></td><td><p>Renders the meta boxes preferences.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_user_meta_session_tokens/get_sessions/">WP_User_Meta_Session_Tokens::get_sessions()</a><code>wp-includes/class-wp-user-meta-session-tokens.php</code></td><td><p>Retrieves all sessions of the user.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/choose_primary_blog/">choose_primary_blog()</a><code>wp-admin/includes/ms.php</code></td><td><p>Handles the display of choosing a user’s primary site.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/new_user_email_admin_notice/">new_user_email_admin_notice()</a><code>wp-includes/user.php</code></td><td><p>Adds an admin notice alerting the user to check for confirmation request email after email address change.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_internal_pointers/enqueue_scripts/">WP_Internal_Pointers::enqueue_scripts()</a><code>wp-admin/includes/class-wp-internal-pointers.php</code></td><td><p>Initializes the new feature pointers.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_save_user_color_scheme/">wp_ajax_save_user_color_scheme()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles auto-saving the selected color scheme for a user’s own profile via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_dismiss_wp_pointer/">wp_ajax_dismiss_wp_pointer()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles dismissing a WordPress pointer via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_user/__get/">WP_User::__get()</a><code>wp-includes/class-wp-user.php</code></td><td><p>Magic method for accessing custom fields.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_update_user/">wp_update_user()</a><code>wp-includes/user.php</code></td><td><p>Updates a user in the database.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/get_blogs_of_user/">get_blogs_of_user()</a><code>wp-includes/user.php</code></td><td><p>Gets the sites a user belongs to.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/is_user_member_of_blog/">is_user_member_of_blog()</a><code>wp-includes/user.php</code></td><td><p>Finds out whether a user is a member of a given blog.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/get_active_blog_for_user/">get_active_blog_for_user()</a><code>wp-includes/ms-functions.php</code></td><td><p>Gets one of a user’s active blogs.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/add_user_to_blog/">add_user_to_blog()</a><code>wp-includes/ms-functions.php</code></td><td><p>Adds a user to a blog, along with specifying the user’s role.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/remove_user_from_blog/">remove_user_from_blog()</a><code>wp-includes/ms-functions.php</code></td><td><p>Removes a user from a blog.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 17 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/3.0.0/">3.0.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-daprela odd alt thread-odd thread-alt depth-1" data-comment-id="816" id="comment-816">
<article class="comment-body" id="div-comment-816">
<a class="screen-reader-text" href="#comment-content-816">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-816">
<p>If the key does not exist the function will return an empty string or an empty array depending on the value of the $single parameter</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-816">
<ul class="children">
<li class="comment byuser comment-author-thenbrent even depth-2" data-comment-id="2684" id="comment-2684">
<article class="comment-body" id="div-comment-2684">
<div class="wporg-has-embedded-code comment-content" id="comment-content-2684">
<div>It will also return boolean <code>false</code> if <code>! is_numeric( $user_id )</code> or <code>! absint( $user_id )</code>.</div>
<div><a class="url" href="https://profiles.notmatt.press/thenbrent/" rel="external nofollow">thenbrent</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/get_user_meta/#comment-2684"><time datetime="2018-05-10T04:33:39+00:00">7 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex odd alt thread-even depth-1" data-comment-id="448" id="comment-448">
<article class="comment-body" id="div-comment-448">
<a class="screen-reader-text" href="#comment-content-448">Skip to note 7 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-448">
<p><strong>Getting all meta data</strong><br>
This example demonstrates leaving the <code>$key</code> argument blank, in order to retrieve all meta data for the given user (in this example, <code>user_id = 9</code>):</br></p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php
  $all_meta_for_user = get_user_meta( 9 );
  print_r( $all_meta_for_user );
?&gt;</code></pre>
<p>Results:</p>
<p><code>Array ( [first_name] =&gt; Array ( [0] =&gt; Tom ) [last_name] =&gt; Array ( [0] =&gt; Auger)<br>
[nickname] =&gt; Array ( [0] =&gt; tomauger ) [description] =&gt; etc.... )</br></code></p>
<p>Note: In order to access the data in this example you need to dereference the array that is returned for each key, like so:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">$last_name = $all_meta_for_user['last_name'][0];</code></pre>
<p>To avoid this, you may want to run a simple <code>array_map()</code> on the results of <code>get_user_meta()</code> in order to take only the first index of each result (thus emulating what the <code>$single</code> argument does when <code>$key</code> is provided:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">  $all_meta_for_user = array_map( function( $a ){ return $a[0]; }, get_user_meta( $user_id ) );
  print_r( $all_meta_for_user );</code></pre>
<p>Results:</p>
<p><code>Array ( [first_name] =&gt; Tom [last_name] =&gt; Auger [nickname] =&gt; tomauger [description] =&gt; etc.... )</code></p>
<p>Additionally, if you want to return ALL meta for a specific user and filter out empty values, you can run <code>array_filter()</code> on the results of the <code>array_map()</code> above:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">// Get all user meta data for $user_id
$meta = get_user_meta( $user_id );

// Filter out empty meta data
$meta = array_filter( array_map( function( $a ) {
	return $a[0];
}, $meta ) );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-448">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex even thread-odd thread-alt depth-1" data-comment-id="447" id="comment-447">
<article class="comment-body" id="div-comment-447">
<a class="screen-reader-text" href="#comment-content-447">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-447">
<p><strong>This example returns and then displays the last name for user id 9.</strong></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;?php 
  $user_id = 9;
  $key = 'last_name';
  $single = true;
  $user_last = get_user_meta( $user_id, $key, $single ); 
  echo '&lt;p&gt;The '. $key . ' value for user id ' . $user_id . ' is: ' . $user_last . '&lt;/p&gt;'; 
?&gt;</code></pre>
<p>Result:</p>
<p>The last_name value for user id 9 is Franklin</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-447">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-cartpauj odd alt thread-even depth-1" data-comment-id="4780" id="comment-4780">
<article class="comment-body" id="div-comment-4780">
<a class="screen-reader-text" href="#comment-content-4780">Skip to note 9 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4780">
<p>Note: When doing <code>get_user_meta( $user_id );</code> without a meta key, the values are not unserialized automatically. You will need to <code>maybe_unserialize()</code> them.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4780">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-goran87 even thread-odd thread-alt depth-1" data-comment-id="1587" id="comment-1587">
<article class="comment-body" id="div-comment-1587">
<a class="screen-reader-text" href="#comment-content-1587">Skip to note 10 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1587">
<p><strong>To check if returned value is empty, ie does not exist, you could use something like:</strong></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">global $current_user; 

get_currentuserinfo();

if ( $current_user ) {
	$permission = get_user_meta( $current_user-&gt;ID, 'some_meta' , true );
	
	if ( ! empty( $permission ) ) {
		// do stuff
	}
}
// works for both array and single values</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-1587">
<ul class="children">
<li class="comment byuser comment-author-tekfused odd alt depth-2" data-comment-id="3380" id="comment-3380">
<article class="comment-body" id="div-comment-3380">
<div class="wporg-has-embedded-code comment-content" id="comment-content-3380">
<div>The function <a href="https://developer.notmatt.press/reference/functions/get_currentuserinfo/" rel="function">get_currentuserinfo()</a>  is deprecated: <a href="https://developer.notmatt.press/reference/functions/get_currentuserinfo/" rel="ugc">https://developer.notmatt.press/reference/functions/get_currentuserinfo/</a></div>
<div><a class="url" href="https://profiles.notmatt.press/tekfused/" rel="external nofollow">Jacob Hill</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/get_user_meta/#comment-3380"><time datetime="2019-09-13T04:10:15+00:00">5 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
