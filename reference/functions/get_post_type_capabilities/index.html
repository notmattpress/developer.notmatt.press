
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">get_post_type_capabilities()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>get_post_type_capabilities()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">get_post_type_capabilities( <span class="arg-type">object</span> <span class="arg-name">$args</span> ): <span class="return-type">object</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Builds an object with all post type capabilities out of a post type object</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Post type capabilities use the ‘capability_type’ argument as a base, if the capability is not set in the ‘capabilities’ argument array or if the ‘capabilities’ argument is not supplied.</p>
<p>The capability_type argument can optionally be registered as an array, with the first value being singular and the second plural, e.g. array(‘story, ‘stories’) Otherwise, an ‘s’ will be added to the value for the plural form. After registration, capability_type will always be a string of the singular value.</p>
<p>By default, eight keys are accepted as part of the capabilities array:</p>
<ul>
<li>
<p>edit_post, read_post, and delete_post are meta capabilities, which are then generally mapped to corresponding primitive capabilities depending on the context, which would be the post being edited/read/deleted and the user or role being checked. Thus these capabilities would generally not be granted directly to users or roles.</p>
</li>
<li>
<p>edit_posts – Controls whether objects of this post type can be edited.</p>
</li>
<li>
<p>edit_others_posts – Controls whether objects of this type owned by other users can be edited. If the post type does not support an author, then this will behave like edit_posts.</p>
</li>
<li>
<p>delete_posts – Controls whether objects of this post type can be deleted.</p>
</li>
<li>
<p>publish_posts – Controls publishing objects of this post type.</p>
</li>
<li>
<p>read_private_posts – Controls whether private objects can be read.</p>
</li>
</ul>
<p>These five primitive capabilities are checked in core in various locations.<br/>There are also six other primitive capabilities which are not referenced directly in core, except in <a href="https://developer.notmatt.press/reference/functions/map_meta_cap/" rel="function">map_meta_cap()</a> , which takes the three aforementioned meta capabilities and translates them into one or more primitive capabilities that must then be checked against the user or role, depending on the context.</p>
<ul>
<li>read – Controls whether objects of this post type can be read.</li>
<li>delete_private_posts – Controls whether private objects can be deleted.</li>
<li>delete_published_posts – Controls whether published objects can be deleted.</li>
<li>delete_others_posts – Controls whether objects owned by other users can be can be deleted. If the post type does not support an author, then this will behave like delete_posts.</li>
<li>edit_private_posts – Controls whether private objects can be edited.</li>
<li>edit_published_posts – Controls whether published objects can be edited.</li>
</ul>
<p>These additional capabilities are only used in <a href="https://developer.notmatt.press/reference/functions/map_meta_cap/" rel="function">map_meta_cap()</a> . Thus, they are only assigned by default if the post type is registered with the ‘map_meta_cap’ argument set to true (default is false).</p>
<h3 class="is-toc-heading has-heading-5-font-size" id="see-also" tabindex="-1"><a href="#see-also">See also</a></h3><ul><li><a href="https://developer.notmatt.press/reference/functions/register_post_type">register_post_type()</a></li>
<li><a href="https://developer.notmatt.press/reference/functions/map_meta_cap">map_meta_cap()</a></li>
</ul></section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$args</code><span class="type"><span class="object">object</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">Post type registration arguments.</span></div></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">object</span> Object with all the capabilities as member variables.</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<p>Parameter $args is the desired capability type (e.g. ‘post’). Set [‘capability_type’] to an array to allow for alternative plurals when using this argument as a base to construct the capabilities, e.g. array(‘story’, ‘stories’). Set [‘map_meta_cap’] to true to obtain those capabilities as well.</p>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="1948"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function get_post_type_capabilities( $args ) {
	if ( ! is_array( $args-&gt;capability_type ) ) {
		$args-&gt;capability_type = array( $args-&gt;capability_type, $args-&gt;capability_type . 's' );
	}

	// Singular base for meta capabilities, plural base for primitive capabilities.
	list( $singular_base, $plural_base ) = $args-&gt;capability_type;

	$default_capabilities = array(
		// Meta capabilities.
		'edit_post'          =&gt; 'edit_' . $singular_base,
		'read_post'          =&gt; 'read_' . $singular_base,
		'delete_post'        =&gt; 'delete_' . $singular_base,
		// Primitive capabilities used outside of map_meta_cap():
		'edit_posts'         =&gt; 'edit_' . $plural_base,
		'edit_others_posts'  =&gt; 'edit_others_' . $plural_base,
		'delete_posts'       =&gt; 'delete_' . $plural_base,
		'publish_posts'      =&gt; 'publish_' . $plural_base,
		'read_private_posts' =&gt; 'read_private_' . $plural_base,
	);

	// Primitive capabilities used within map_meta_cap():
	if ( $args-&gt;map_meta_cap ) {
		$default_capabilities_for_mapping = array(
			'read'                   =&gt; 'read',
			'delete_private_posts'   =&gt; 'delete_private_' . $plural_base,
			'delete_published_posts' =&gt; 'delete_published_' . $plural_base,
			'delete_others_posts'    =&gt; 'delete_others_' . $plural_base,
			'edit_private_posts'     =&gt; 'edit_private_' . $plural_base,
			'edit_published_posts'   =&gt; 'edit_published_' . $plural_base,
		);
		$default_capabilities             = array_merge( $default_capabilities, $default_capabilities_for_mapping );
	}

	$capabilities = array_merge( $default_capabilities, $args-&gt;capabilities );

	// Post creation capability simply maps to edit_posts by default:
	if ( ! isset( $capabilities['create_posts'] ) ) {
		$capabilities['create_posts'] = $capabilities['edit_posts'];
	}

	// Remember meta capabilities for future reference.
	if ( $args-&gt;map_meta_cap ) {
		_post_type_meta_capabilities( $capabilities );
	}

	return (object) $capabilities;
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/post.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/post.php#L1948">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/post.php#L1948-L1995">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/_post_type_meta_capabilities/">_post_type_meta_capabilities()</a><code>wp-includes/post.php</code></td><td><p>Stores or returns a list of post type meta caps for <a href="https://developer.notmatt.press/reference/functions/map_meta_cap/" rel="function">map_meta_cap()</a> .</p>
</td></tr></tbody></table></figure></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_post_type/set_props/">WP_Post_Type::set_props()</a><code>wp-includes/class-wp-post-type.php</code></td><td><p>Sets post type properties.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/map_meta_cap/">map_meta_cap()</a><code>wp-includes/capabilities.php</code></td><td><p>Maps a capability to the primitive capabilities required of the given user to satisfy the capability being checked.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/5.4.0/">5.4.0</a></td><td><span class="since-description"><code>'delete_posts'</code> is included in default capabilities.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/3.0.0/">3.0.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-makewebbetter odd alt thread-odd thread-alt depth-1 bad-note" data-comment-id="3877" id="comment-3877">
<article class="comment-body" id="div-comment-3877">
<a class="screen-reader-text" href="#comment-content-3877">Skip to note 2 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3877">
<p><strong>Usage of <em>get_post_type_capabilities</em></strong></p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">$args = array( 'capability_type' =&gt; 'edit_post' );

// If not set, default to the setting for 'show_ui'.
if ( null === $args['show_in_menu'] || ! $args['show_ui'] ) {
	$args['show_in_menu'] = $args['show_ui'];
}
$this-&gt;cap = get_post_type_capabilities( (object) $args );
unset( $args['capabilities'] );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3877">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
