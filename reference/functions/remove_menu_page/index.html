
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">remove_menu_page()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>remove_menu_page()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">remove_menu_page( <span class="arg-type">string</span> <span class="arg-name">$menu_slug</span> ): <span class="return-type">array|false</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Removes a top-level admin menu.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>Example usage:</p>
<ul>
<li><code>remove_menu_page( 'tools.php' )</code></li>
<li><code>remove_menu_page( 'plugin_menu_slug' )</code></li>
</ul>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$menu_slug</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">The slug of the menu.</span></div></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">array|false</span> The removed menu on success, false if not found.</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<p>Parameter <code>$menu_slug</code> is the slug of the menu, typically the name of the PHP script for the built in menu items; example: edit-comments.php.</p>
<p>This function should be called on the <a href="https://codex.wordpress.org/Plugin_API/Action_Reference/admin_menu" title="Plugin API/Action Reference/admin menu">admin_menu</a> action hook. Calling it elsewhere might cause issues: either the function is not defined or the global <code>$menu</code> variable used by this function is not yet declared.<tt></tt></p>
<p>To remove <b>submenu items</b> in the admin, use <a href="https://developer.notmatt.press/reference/functions/remove_submenu_page/" rel="function">remove_submenu_page()</a> . Using <a href="https://developer.notmatt.press/reference/functions/remove_menu_page/" rel="function">remove_menu_page()</a>  will not work for submenu items.</p>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="1850"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function remove_menu_page( $menu_slug ) {
	global $menu;

	foreach ( $menu as $i =&gt; $item ) {
		if ( $menu_slug === $item[2] ) {
			unset( $menu[ $i ] );
			return $item;
		}
	}

	return false;
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-admin/includes/plugin.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-admin/includes/plugin.php#L1850">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-admin/includes/plugin.php#L1850-L1861">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/3.1.0/">3.1.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-ivijanstefan even thread-even depth-1" data-comment-id="3522" id="comment-3522">
<article class="comment-body" id="div-comment-3522">
<a class="screen-reader-text" href="#comment-content-3522">Skip to note 7 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3522">
<p>You need to use the right hooks (which are not always the same as the URLs/slugs), and it doesn’t hurt to use a hook that runs later (e.g., admin_init):</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'admin_init', function () {
    remove_menu_page( 'edit.php?post_type=participants-database' );
    remove_menu_page( 'wpcf7' );
});</code></pre>
<p>You can use the following to debug:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'admin_init', function () {
    echo '&lt;pre&gt;' . print_r( $GLOBALS[ 'menu' ], true) . '&lt;/pre&gt;';
} );</code></pre>
<p>This gives you array of the menu positions and inside positions the array of the active menu items and you just need to pickup the right hook (key [2]) and under that is your target hook or URI.</p>
<p>Here is  one helper for this:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">if(!function_exists('remove_admin_page')) {
    function remove_admin_page($needle) {
        if(isset($GLOBALS[ 'menu' ]) &amp;&amp; !empty($GLOBALS[ 'menu' ]) &amp;&amp; !empty($needle)) {

            $needle = strtolower($needle);
            $needle = trim($needle);

            foreach($GLOBALS[ 'menu' ] as $position =&gt; $items) {
                foreach($items as $key =&gt; $item) {					
                    if(strtolower($item) == $needle) {
                        remove_menu_page( $items[2] );
                    }
                }
            }
        }
    }
}</code></pre>
<p>Just use it like this:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">remove_admin_page( 'Participants Database' );</code></pre>
<p>This helper search by name, slug, uri and remove proper menu page.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3522">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex odd alt thread-odd thread-alt depth-1" data-comment-id="1308" id="comment-1308">
<article class="comment-body" id="div-comment-1308">
<a class="screen-reader-text" href="#comment-content-1308">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1308">
<p><strong>Example</strong></p>
<p>Removes every menu for all users. To remove only certain menu items include only those you want to hide within the function. To remove menus for only certain users you may want to utilize <a href="https://developer.notmatt.press/reference/functions/current_user_can/" rel="function">current_user_can()</a> .</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
 * Removes some menus by page.
 */
function wpdocs_remove_menus(){
  
  remove_menu_page( 'index.php' );                  //Dashboard
  remove_menu_page( 'jetpack' );                    //Jetpack* 
  remove_menu_page( 'edit.php' );                   //Posts
  remove_menu_page( 'upload.php' );                 //Media
  remove_menu_page( 'edit.php?post_type=page' );    //Pages
  remove_menu_page( 'edit-comments.php' );          //Comments
  remove_menu_page( 'themes.php' );                 //Appearance
  remove_menu_page( 'plugins.php' );                //Plugins
  remove_menu_page( 'users.php' );                  //Users
  remove_menu_page( 'tools.php' );                  //Tools
  remove_menu_page( 'options-general.php' );        //Settings
  
}
add_action( 'admin_menu', 'wpdocs_remove_menus' );
?&gt;</code></pre>
<p>(*) Better to add this priority if dealing with jetpack menu: add_action( ‘admin_menu’, ‘remove_menus’, 999 );</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1308">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment even thread-even depth-1" data-comment-id="5918" id="comment-5918">
<article class="comment-body" id="div-comment-5918">
<a class="screen-reader-text" href="#comment-content-5918">Skip to note 9 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5918">
<p>Most examples on this Documentation are wrong.<br/>
The Hook clearly expects:<br/>
<strong>This function should be called on the admin_menu action hook. Calling it elsewhere might cause issues: either the function is not defined or the global $menu variable used but this function is not yet declared.</strong></p>
<p>So calling it at <code>admin_init</code> like most of these examples here do, will throw:<br/>
<code>Invalid argument supplied for foreach() in /wp-admin/includes/plugin.php on line 1754</code></p>
<p>If hooking into <code>admin_init</code> is <em>necessary</em> for some plugins like one of the examples states, that plugin is <em>doing it wrong</em> and should be contacted, not the code hacked to match its wrongdoings.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="2" id="feedback-5918">
<ul class="children">
<li class="comment byuser comment-author-chrisjc77 odd alt depth-2" data-comment-id="6244" id="comment-6244">
<article class="comment-body" id="div-comment-6244">
<div class="wporg-has-embedded-code comment-content" id="comment-content-6244">
<div>Some of these plugins may be doing that intentionally because they don’t want their menu item removed.</div>
<div><a class="url" href="https://profiles.wordpress.org/chrisjc77/" rel="external nofollow">chrisjc77</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/remove_menu_page/#comment-6244"><time datetime="2022-12-19T23:23:39+00:00">2 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
<li class="comment byuser comment-author-fibrojedi even depth-2" data-comment-id="6384" id="comment-6384">
<article class="comment-body" id="div-comment-6384">
<div class="wporg-has-embedded-code comment-content" id="comment-content-6384">
<div>After spending an hour attempting to debug an error with remove_menu_page, this comment on the end should be on the top. I was calling it with <code>admin_init</code>, which was incorrect. While it <em>actually</em> worked, it worked slowly and caused my error logs to pile up. <code>admin_menu</code> is absolutely correct. My thanks.</div>
<div><a class="url" href="https://profiles.wordpress.org/fibrojedi/" rel="external nofollow">Fibro Jedi</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/remove_menu_page/#comment-6384"><time datetime="2023-03-04T12:41:58+00:00">2 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-brgweb odd alt thread-odd thread-alt depth-1" data-comment-id="4007" id="comment-4007">
<article class="comment-body" id="div-comment-4007">
<a class="screen-reader-text" href="#comment-content-4007">Skip to note 10 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4007">
<p>Based on the great previous contributions I have developed a script to create the hook functions that will remove all menus. Then I can choose which pages to show, commenting or removing the lines.</p>
<p>You need to place it in functions.php and load wp-admin. Then copy the output to functions.php and remove the script.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">add_action( 'admin_init', function () {
	echo "add_action( 'admin_init', function () {&lt;br&gt;";

	foreach ( $GLOBALS['menu'] as $menu ) {
		echo "&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;remove_menu_page( '$menu[2]' );&lt;br&gt;";
	}

	echo "}, PHP_INT_MAX );";
	exit();
} );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4007">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-cjstage even thread-even depth-1" data-comment-id="2980" id="comment-2980">
<article class="comment-body" id="div-comment-2980">
<a class="screen-reader-text" href="#comment-content-2980">Skip to note 11 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2980">
<p>Note that <code>'admin_menu'</code> may not be sufficient for certain menus.  I’ve experienced this with a few plugins.  Alternatively you can use <code>'admin_init'</code>.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function wpdocs_remove_menus(){

  remove_menu_page( 'some-plugin' );                  //Some Plugin Page

}
add_action( 'admin_init', 'wpdocs_remove_menus' );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2980">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-subjuliodesign odd alt thread-odd thread-alt depth-1" data-comment-id="6900" id="comment-6900">
<article class="comment-body" id="div-comment-6900">
<a class="screen-reader-text" href="#comment-content-6900">Skip to note 12 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6900">
<p><a href="https://codex.wordpress.org/Administration_Menus" rel="nofollow ugc">Reference: Administration Menus</a></p>
<p><code><strong>MENU</strong>.................<strong>KEY</strong>...<strong>LINK URL</strong><br/>
<strong>Dashboard</strong>.............2.....index.php<br/>
-Home.................0.....index.php<br/>
<strong>Separator (first)</strong>.....4.....separator1<br/>
<strong>Posts</strong>.................5.....edit.php<br/>
-All Posts............5.....edit.php<br/>
-Add New..............10....post-new.php<br/>
-Categories...........15....edit-tags.php?taxonomy=category<br/>
-Tags.................16....edit-tags.php?taxonomy=post_tag<br/>
<strong>Media</strong>.................10....upload.php<br/>
-Library..............5.....upload.php<br/>
-Add New..............10....media-new<br/>
<strong>Links</strong>.................15....link-manager.php<br/>
-All Links............5.....link-manager.php<br/>
-Add New..............10....link-add.php<br/>
-Link Categories......15....edit-tags.php?taxonomy=link_category<br/>
<strong>Pages</strong>.................20....edit.php?post_type=page<br/>
-All Pages............5.....edit.php?post_type=page<br/>
-Add New..............10....post-new.php?post_type=page<br/>
<strong>Comments</strong>..............25....edit-comments.php<br/>
-All Comments.........0.....edit-comments.php<br/>
<strong>Separator (Second)</strong>....59....separator2<br/>
<strong>Appearance</strong>............60....themes.php<br/>
-Themes...............5.....themes.php<br/>
-Widgets..............7.....widgets.php<br/>
-Menus................10....nav-menus.php<br/>
<strong>Plugins</strong>...............65....plugins.php<br/>
-Installed Plugins....5.....plugins.php<br/>
-Add New..............10....plugin-install.php<br/>
-Editor...............15....plugin-editor.php<br/>
<strong>Users</strong>.................70....users.php<br/>
-All Users............5.....users.php<br/>
-Add New..............10....user-new.php<br/>
-Your Profile.........15....profile.php<br/>
<strong>Tools</strong>.................75....tools.php<br/>
-Available Tools......5.....tools.php<br/>
-Import...............10....import.php<br/>
-Exports..............15....export.php<br/>
<strong>Settings</strong>..............80....options-general.php<br/>
-General..............10....options-general.php<br/>
-Writing..............15....options-writing.php<br/>
-Reading..............20....options-reading.php<br/>
-Discussion...........25....options-discussion.php<br/>
-Media................30....options-media.php<br/>
-Privacy..............35....options-privacy.php<br/>
-Permalinks...........40....options-permalink.php<br/>
<strong>Separator (last)</strong>......99....separator-last</code></p>
<p>Source: Matt Whiteley</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6900">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
