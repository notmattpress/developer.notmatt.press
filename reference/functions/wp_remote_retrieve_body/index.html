
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">wp_remote_retrieve_body()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>wp_remote_retrieve_body()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">wp_remote_retrieve_body( <span class="arg-type">array|WP_Error</span> <span class="arg-name">$response</span> ): <span class="return-type">string</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Retrieves only the body from the raw response.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$response</code><span class="type"><span class="array">array</span>|<span class="WP_Error"><a href="https://developer.notmatt.press/reference/classes/wp_error/" rel="class">WP_Error</a></span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">HTTP response.</span></div></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">string</span> The body of the response. Empty string if no body or incorrect parameter given.</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="304"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function wp_remote_retrieve_body( $response ) {
	if ( is_wp_error( $response ) || ! isset( $response['body'] ) ) {
		return '';
	}

	return $response['body'];
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/http.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/http.php#L304">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/http.php#L304-L310">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/is_wp_error/">is_wp_error()</a><code>wp-includes/load.php</code></td><td><p>Checks whether the given variable is a WordPress Error.</p>
</td></tr></tbody></table></figure></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_automatic_updater/has_fatal_error/">WP_Automatic_Updater::has_fatal_error()</a><code>wp-admin/includes/class-wp-automatic-updater.php</code></td><td><p>Performs a loopback request to check for potential fatal errors.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_font_collection/load_from_url/">WP_Font_Collection::load_from_url()</a><code>wp-includes/fonts/class-wp-font-collection.php</code></td><td><p>Loads the font collection data from a JSON file URL.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_get_https_detection_errors/">wp_get_https_detection_errors()</a><code>wp-includes/https-detection.php</code></td><td><p>Runs a remote HTTPS request to detect whether HTTPS supported, and stores potential errors.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_url_details_controller/get_remote_url/">WP_REST_URL_Details_Controller::get_remote_url()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-url-details-controller.php</code></td><td><p>Retrieves the document title from a remote URL.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_rest_pattern_directory_controller/get_items/">WP_REST_Pattern_Directory_Controller::get_items()</a><code>wp-includes/rest-api/endpoints/class-wp-rest-pattern-directory-controller.php</code></td><td><p>Search and retrieve block patterns metadata</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/get_block_editor_theme_styles/">get_block_editor_theme_styles()</a><code>wp-includes/block-editor.php</code></td><td><p>Creates an array of theme styles to load into the block editor.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_site_health/wp_cron_scheduled_check/">WP_Site_Health::wp_cron_scheduled_check()</a><code>wp-admin/includes/class-wp-site-health.php</code></td><td><p>Runs the scheduled event to check and update the latest site health status for the website.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_site_health/get_test_rest_availability/">WP_Site_Health::get_test_rest_availability()</a><code>wp-admin/includes/class-wp-site-health.php</code></td><td><p>Tests if the REST API is accessible.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_check_php_version/">wp_check_php_version()</a><code>wp-admin/includes/misc.php</code></td><td><p>Checks if the user needs to update PHP.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_edit_theme_plugin_file/">wp_edit_theme_plugin_file()</a><code>wp-admin/includes/file.php</code></td><td><p>Attempts to edit a file for a theme or plugin.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_community_events/get_events/">WP_Community_Events::get_events()</a><code>wp-admin/includes/class-wp-community-events.php</code></td><td><p>Gets data about events near a particular location.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/translations_api/">translations_api()</a><code>wp-admin/includes/translation-install.php</code></td><td><p>Retrieve translations from WordPress Translation API.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/network_step2/">network_step2()</a><code>wp-admin/includes/network.php</code></td><td><p>Prints step 2 for Network installation process.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/themes_api/">themes_api()</a><code>wp-admin/includes/theme.php</code></td><td><p>Retrieves theme installer pages from the WordPress.org Themes API.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/get_core_checksums/">get_core_checksums()</a><code>wp-admin/includes/update.php</code></td><td><p>Gets and caches the checksums for the given version of WordPress.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_check_browser_version/">wp_check_browser_version()</a><code>wp-admin/includes/dashboard.php</code></td><td><p>Checks if the user needs a browser update.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/plugins_api/">plugins_api()</a><code>wp-admin/includes/plugin-install.php</code></td><td><p>Retrieves plugin installer pages from the WordPress.org Plugins API.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/download_url/">download_url()</a><code>wp-admin/includes/file.php</code></td><td><p>Downloads a URL to a local temporary file using the WordPress HTTP API.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_get_popular_importers/">wp_get_popular_importers()</a><code>wp-admin/includes/import.php</code></td><td><p>Returns a list from WordPress.org of popular importer plugins.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_credits/">wp_credits()</a><code>wp-admin/includes/credits.php</code></td><td><p>Retrieves the contributor credits.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_remote_fopen/">wp_remote_fopen()</a><code>wp-includes/functions.php</code></td><td><p>HTTP request for URI to retrieve content.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_get_http/">wp_get_http()</a><code>wp-includes/deprecated.php</code></td><td><p>Perform a HTTP HEAD or GET request.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_simplepie_file/__construct/">WP_SimplePie_File::__construct()</a><code>wp-includes/class-wp-simplepie-file.php</code></td><td><p>Constructor.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_version_check/">wp_version_check()</a><code>wp-includes/update.php</code></td><td><p>Checks WordPress version against the newest version.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_update_plugins/">wp_update_plugins()</a><code>wp-includes/update.php</code></td><td><p>Checks for available updates to plugins based on the latest versions hosted on WordPress.org.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_update_themes/">wp_update_themes()</a><code>wp-includes/update.php</code></td><td><p>Checks for available updates to themes based on the latest versions hosted on WordPress.org.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_oembed/discover/">WP_oEmbed::discover()</a><code>wp-includes/class-wp-oembed.php</code></td><td><p>Attempts to discover link tags at the given URL for an oEmbed provider.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_oembed/_fetch_with_format/">WP_oEmbed::_fetch_with_format()</a><code>wp-includes/class-wp-oembed.php</code></td><td><p>Fetches result from an oEmbed provider for a specific format and complete provider URL</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_http_ixr_client/query/">WP_HTTP_IXR_Client::query()</a><code>wp-includes/class-wp-http-ixr-client.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/_fetch_remote_file/">_fetch_remote_file()</a><code>wp-includes/rss.php</code></td><td><p>Retrieve URL headers and content using WP HTTP Request API.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_xmlrpc_server/pingback_ping/">wp_xmlrpc_server::pingback_ping()</a><code>wp-includes/class-wp-xmlrpc-server.php</code></td><td><p>Retrieves a pingback and registers it.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/discover_pingback_server_uri/">discover_pingback_server_uri()</a><code>wp-includes/comment.php</code></td><td><p>Finds a pingback server URI based on the given URL.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 27 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/2.7.0/">2.7.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-codex odd alt thread-even depth-1" data-comment-id="1361" id="comment-1361">
<article class="comment-body" id="div-comment-1361">
<a class="screen-reader-text" href="#comment-content-1361">Skip to note 3 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1361">
<p><strong>Example</strong></p>
<p>Retrieving data from a JSON API:</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">$url      = 'http://example.org/api';
$response = wp_remote_get( esc_url_raw( $url ) );

/* Will result in $api_response being an array of data,
parsed from the JSON response of the API listed above */
$api_response = json_decode( wp_remote_retrieve_body( $response ), true );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1361">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-seedsca even thread-odd thread-alt depth-1 bad-note" data-comment-id="5533" id="comment-5533">
<article class="comment-body" id="div-comment-5533">
<a class="screen-reader-text" href="#comment-content-5533">Skip to note 4 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-5533">
<p><strong>Better performance?</strong></p>
<p>Skip the extra function call and get the body (or any other part of the returned array) from <strong><a href="https://developer.notmatt.press/reference/functions/wp_remote_get/" rel="function">wp_remote_get()</a> </strong>. That’s essentially what <strong><a href="https://developer.notmatt.press/reference/functions/wp_remote_retrieve_body/" rel="function">wp_remote_retrieve_body()</a> </strong> is doing.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">$url  = 'https://example.com/';
$body = wp_remote_get( esc_url_raw( $url ) )['body'];</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-5533">
<ul class="children">
<li class="comment byuser comment-author-ivijanstefan odd alt depth-2" data-comment-id="5770" id="comment-5770">
<article class="comment-body" id="div-comment-5770">
<div class="wporg-has-embedded-code comment-content" id="comment-content-5770">
<div>Function <code>wp_remote_get()</code> returns (array|<a href="https://developer.notmatt.press/reference/classes/wp_error/" rel="class">WP_Error</a>) the response or <a href="https://developer.notmatt.press/reference/classes/wp_error/" rel="class">WP_Error</a> on failure. That means in your case you can have some PHP error notice if the response fails. That is bad practice and in any case you will not have any better performance.  Maybe you can do something like: <code>$body = wp_remote_get( esc_url_raw( $url ) )['body'] ?? NULL;</code> to avoid error notice.</div>
<div><a class="url" href="https://profiles.wordpress.org/ivijanstefan/" rel="external nofollow">Ivijan-Stefan Stipic</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/wp_remote_retrieve_body/#comment-5770"><time datetime="2022-04-08T05:22:52+00:00">3 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
