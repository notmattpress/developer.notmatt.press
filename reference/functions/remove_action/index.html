
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">remove_action()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>remove_action()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">remove_action( <span class="arg-type">string</span> <span class="arg-name">$hook_name</span>,  <span class="arg-type">callable|string|array</span> <span class="arg-name">$callback</span>,  <span class="arg-type">int</span> <span class="arg-name">$priority</span> = <span class="arg-default">10</span> ): <span class="return-type">bool</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Removes a callback function from an action hook.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>This can be used to remove default functions attached to a specific action hook and possibly replace them with a substitute.</p>
<p>To remove a hook, the <code>$callback</code> and <code>$priority</code> arguments must match when the hook was added. This goes for both filters and actions. No warning will be given on removal failure.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$hook_name</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">The action hook to which the function to be removed is hooked.</span></div></dd><dt><code>$callback</code><span class="type"><span class="callable">callable</span>|<span class="string">string</span>|<span class="array">array</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">The name of the function which should be removed.<br/>
This function can be called unconditionally to speculatively remove                                         a callback that may or may not exist.</span></div></dd><dt><code>$priority</code><span class="type"><span class="int">int</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">The exact priority used when adding the original                                         action callback. </span></div><p class="default">Default:<code>10</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">bool</span> Whether the function is removed.</section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-explanation"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="more-information" tabindex="-1"><a href="#more-information">More Information</a></h2>
<ul class="wp-block-list">
<li>This function is an alias to <a href="https://developer.notmatt.press/reference/functions/remove_filter/" rel="function">remove_filter()</a> .</li>
<li>See also <a href="https://developer.notmatt.press/reference/functions/add_action/" rel="function">add_action()</a>  and <a href="https://developer.notmatt.press/reference/functions/add_filter/" rel="function">add_filter()</a> .</li>
<li>To remove a hook, the $function_to_remove and $priority arguments must match when the hook was added. This goes for both filters and actions. No warning will be given on removal failure.</li>
</ul>
</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="612"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function remove_action( $hook_name, $callback, $priority = 10 ) {
	return remove_filter( $hook_name, $callback, $priority );
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/plugin.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/plugin.php#L612">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/plugin.php#L612-L614">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/remove_filter/">remove_filter()</a><code>wp-includes/plugin.php</code></td><td><p>Removes a callback function from a filter hook.</p>
</td></tr></tbody></table></figure></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_enqueue_emoji_styles/">wp_enqueue_emoji_styles()</a><code>wp-includes/formatting.php</code></td><td><p>Enqueues the important emoji-related styles.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_enqueue_admin_bar_bump_styles/">wp_enqueue_admin_bar_bump_styles()</a><code>wp-includes/admin-bar.php</code></td><td><p>Enqueues inline bump styles to make room for the admin bar.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_enqueue_admin_bar_header_styles/">wp_enqueue_admin_bar_header_styles()</a><code>wp-includes/admin-bar.php</code></td><td><p>Enqueues inline style to hide the admin bar when printing.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_enqueue_embed_styles/">wp_enqueue_embed_styles()</a><code>wp-includes/embed.php</code></td><td><p>Enqueues the CSS in the embed iframe header.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_enqueue_block_template_skip_link/">wp_enqueue_block_template_skip_link()</a><code>wp-includes/theme-templates.php</code></td><td><p>Enqueues the skip-link script &amp; styles.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_enqueue_global_styles_custom_css/">wp_enqueue_global_styles_custom_css()</a><code>wp-includes/deprecated.php</code></td><td><p>Enqueues the global styles custom css defined via theme.json.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/_wp_get_iframed_editor_assets/">_wp_get_iframed_editor_assets()</a><code>wp-includes/block-editor.php</code></td><td><p>Collect the block editor assets that need to be loaded into the editor’s iframe.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/locate_block_template/">locate_block_template()</a><code>wp-includes/block-template.php</code></td><td><p>Finds a block template with equal or higher specificity than a given PHP template file.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_enqueue_global_styles/">wp_enqueue_global_styles()</a><code>wp-includes/script-loader.php</code></td><td><p>Enqueues the global styles defined via theme.json.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_is_site_initialized/">wp_is_site_initialized()</a><code>wp-includes/ms-site.php</code></td><td><p>Checks whether a site is initialized.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_roles/get_roles_data/">WP_Roles::get_roles_data()</a><code>wp-includes/class-wp-roles.php</code></td><td><p>Gets the available roles data.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/_wp_delete_customize_changeset_dependent_auto_drafts/">_wp_delete_customize_changeset_dependent_auto_drafts()</a><code>wp-includes/nav-menu.php</code></td><td><p>Deletes auto-draft posts associated with the supplied changeset.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/_wp_customize_publish_changeset/">_wp_customize_publish_changeset()</a><code>wp-includes/theme.php</code></td><td><p>Publishes a snapshot’s changes.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_post_type/unregister_meta_boxes/">WP_Post_Type::unregister_meta_boxes()</a><code>wp-includes/class-wp-post-type.php</code></td><td><p>Unregisters the post type meta box if a custom callback was specified.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_post_type/remove_hooks/">WP_Post_Type::remove_hooks()</a><code>wp-includes/class-wp-post-type.php</code></td><td><p>Removes the future post hook action for the post type.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_automatic_updater/run/">WP_Automatic_Updater::run()</a><code>wp-admin/includes/class-wp-automatic-updater.php</code></td><td><p>Kicks off the background update process, looping through all pending updates.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/language_pack_upgrader/bulk_upgrade/">Language_Pack_Upgrader::bulk_upgrade()</a><code>wp-admin/includes/class-language-pack-upgrader.php</code></td><td><p>Upgrades several language packs at once.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/theme_upgrader/install/">Theme_Upgrader::install()</a><code>wp-admin/includes/class-theme-upgrader.php</code></td><td><p>Install a theme package.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/theme_upgrader/upgrade/">Theme_Upgrader::upgrade()</a><code>wp-admin/includes/class-theme-upgrader.php</code></td><td><p>Upgrades a theme.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/plugin_upgrader/install/">Plugin_Upgrader::install()</a><code>wp-admin/includes/class-plugin-upgrader.php</code></td><td><p>Install a plugin package.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/plugin_upgrader/upgrade/">Plugin_Upgrader::upgrade()</a><code>wp-admin/includes/class-plugin-upgrader.php</code></td><td><p>Upgrades a plugin.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_ms_themes_list_table/single_row/">WP_MS_Themes_List_Table::single_row()</a><code>wp-admin/includes/class-wp-ms-themes-list-table.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_customize_manager/__construct/">WP_Customize_Manager::__construct()</a><code>wp-includes/class-wp-customize-manager.php</code></td><td><p>Constructor.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/_remove_theme_support/">_remove_theme_support()</a><code>wp-includes/theme.php</code></td><td><p>Do not use. Removes theme support internally without knowledge of those not used by themes directly.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/check_theme_switched/">check_theme_switched()</a><code>wp-includes/theme.php</code></td><td><p>Checks if a theme has been changed and runs ‘after_switch_theme’ hook on the next WP load.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/automatic_feed_links/">automatic_feed_links()</a><code>wp-includes/deprecated.php</code></td><td><p>Enable/disable automatic general feed link outputting.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/add_feed/">add_feed()</a><code>wp-includes/rewrite.php</code></td><td><p>Adds a new feed type like /atom1/.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_print_media_templates/">wp_print_media_templates()</a><code>wp-includes/media-template.php</code></td><td><p>Prints the templates used in the media manager.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 23 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/1.2.0/">1.2.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-codex even thread-odd thread-alt depth-1" data-comment-id="522" id="comment-522">
<article class="comment-body" id="div-comment-522">
<a class="screen-reader-text" href="#comment-content-522">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-522">
<p>This function is identical to the <a href="https://developer.notmatt.press/reference/functions/remove_filter/" rel="function">remove_filter()</a>  function.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php remove_action( $tag, $function_to_remove, $priority ); ?&gt; </code></pre>
<p><a href="https://developer.notmatt.press/reference/functions/remove_action/" rel="function">remove_action()</a>  must be called inside a function and cannot be called directly in your plugin or theme.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;?php
add_action( 'wp_head', 'remove_my_action' );
function remove_my_action() {
	remove_action( 'wp_footer', 'function_being_removed' );
}
?&gt;</code></pre>
<p>If an action has been added from within a <em>class</em>, for example by a plugin, removing it will require accessing the class through a variable that holds the class instance.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">add_action( 'wp_head', 'remove_my_class_action' );
function remove_my_class_action() {
	global $my_class;
	remove_action( 'wp_footer', array( $my_class, 'class_function_being_removed' ) );
}</code></pre>
<p>Unless the function is static in which case you could call the class and function directly.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">add_action( 'wp_head', 'remove_my_class_action' );
function remove_my_class_action() {
	remove_action( 'wp_footer', array( 'My_Class', 'class_function_being_removed' ) );
}</code></pre>
<p><strong>Notes:</strong></p>
<ol>
<li>You may need to prioritize the removal of the action to a hook that occurs after the action is added.</li>
<li>You cannot successfully remove the action before it has been added.</li>
<li>You also cannot remove an action after it has been run.</li>
<li>To remove an action, the priority must match the priority with the function that was originally added.</li>
</ol>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-522">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-tripflex odd alt thread-even depth-1" data-comment-id="2256" id="comment-2256">
<article class="comment-body" id="div-comment-2256">
<a class="screen-reader-text" href="#comment-content-2256">Skip to note 7 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2256">
<p>If you need to be able to remove an action/filter for a class object you do not have access to, you can do so with this function (which includes support for WordPress 4.7+):</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
 * Make sure the function does not exist before defining it
 */
if( ! function_exists( 'remove_class_filter' ) ){
	/**
	 * Remove Class Filter Without Access to Class Object
	 *
	 * In order to use the core WordPress remove_filter() on a filter added with the callback
	 * to a class, you either have to have access to that class object, or it has to be a call
	 * to a static method.  This method allows you to remove filters with a callback to a class
	 * you don't have access to.
	 *
	 * Works with WordPress 1.2+ (4.7+ support added 9-19-2016)
	 * Updated 2-27-2017 to use internal WordPress removal for 4.7+ (to prevent PHP warnings output)
	 *
	 * @param string $tag         Filter to remove
	 * @param string $class_name  Class name for the filter's callback
	 * @param string $method_name Method name for the filter's callback
	 * @param int    $priority    Priority of the filter (default 10)
	 *
	 * @return bool Whether the function is removed.
	 */
	function remove_class_filter( $tag, $class_name = '', $method_name = '', $priority = 10 ) {
		global $wp_filter;
		// Check that filter actually exists first
		if ( ! isset( $wp_filter[ $tag ] ) ) {
			return FALSE;
		}
		/**
		 * If filter config is an object, means we're using WordPress 4.7+ and the config is no longer
		 * a simple array, rather it is an object that implements the ArrayAccess interface.
		 *
		 * To be backwards compatible, we set $callbacks equal to the correct array as a reference (so $wp_filter is updated)
		 *
		 * @see <a href="https://make.wordpress.org/core/2016/09/08/wp_hook-next-generation-actions-and-filters/" rel="nofollow ugc">https://make.wordpress.org/core/2016/09/08/wp_hook-next-generation-actions-and-filters/</a>
		 */
		if ( is_object( $wp_filter[ $tag ] ) &amp;&amp; isset( $wp_filter[ $tag ]-&gt;callbacks ) ) {
			// Create $fob object from filter tag, to use below
			$fob       = $wp_filter[ $tag ];
			$callbacks = &amp;$wp_filter[ $tag ]-&gt;callbacks;
		} else {
			$callbacks = &amp;$wp_filter[ $tag ];
		}
		// Exit if there aren't any callbacks for specified priority
		if ( ! isset( $callbacks[ $priority ] ) || empty( $callbacks[ $priority ] ) ) {
			return FALSE;
		}
		// Loop through each filter for the specified priority, looking for our class &amp; method
		foreach ( (array) $callbacks[ $priority ] as $filter_id =&gt; $filter ) {
			// Filter should always be an array - array( $this, 'method' ), if not goto next
			if ( ! isset( $filter['function'] ) || ! is_array( $filter['function'] ) ) {
				continue;
			}
			// If first value in array is not an object, it can't be a class
			if ( ! is_object( $filter['function'][0] ) ) {
				continue;
			}
			// Method doesn't match the one we're looking for, goto next
			if ( $filter['function'][1] !== $method_name ) {
				continue;
			}
			// Method matched, now let's check the Class
			if ( get_class( $filter['function'][0] ) === $class_name ) {
				// WordPress 4.7+ use core remove_filter() since we found the class object
				if ( isset( $fob ) ) {
					// Handles removing filter, reseting callback priority keys mid-iteration, etc.
					$fob-&gt;remove_filter( $tag, $filter['function'], $priority );
				} else {
					// Use legacy removal process (pre 4.7)
					unset( $callbacks[ $priority ][ $filter_id ] );
					// and if it was the only filter in that priority, unset that priority
					if ( empty( $callbacks[ $priority ] ) ) {
						unset( $callbacks[ $priority ] );
					}
					// and if the only filter for that tag, set the tag to an empty array
					if ( empty( $callbacks ) ) {
						$callbacks = array();
					}
					// Remove this filter from merged_filters, which specifies if filters have been sorted
					unset( $GLOBALS['merged_filters'][ $tag ] );
				}
				return TRUE;
			}
		}
		return FALSE;
	}
}
/**
 * Make sure the function does not exist before defining it
 */
if( ! function_exists( 'remove_class_action') ){
	/**
	 * Remove Class Action Without Access to Class Object
	 *
	 * In order to use the core WordPress remove_action() on an action added with the callback
	 * to a class, you either have to have access to that class object, or it has to be a call
	 * to a static method.  This method allows you to remove actions with a callback to a class
	 * you don't have access to.
	 *
	 * Works with WordPress 1.2+ (4.7+ support added 9-19-2016)
	 *
	 * @param string $tag         Action to remove
	 * @param string $class_name  Class name for the action's callback
	 * @param string $method_name Method name for the action's callback
	 * @param int    $priority    Priority of the action (default 10)
	 *
	 * @return bool               Whether the function is removed.
	 */
	function remove_class_action( $tag, $class_name = '', $method_name = '', $priority = 10 ) {
		remove_class_filter( $tag, $class_name, $method_name, $priority );
	}
}</code></pre>
<p><a href="https://gist.github.com/tripflex/c6518efc1753cf2392559866b4bd1a53" rel="nofollow ugc">https://gist.github.com/tripflex/c6518efc1753cf2392559866b4bd1a53</a></p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-2256">
<ul class="children">
<li class="comment byuser comment-author-proserv19 even depth-2" data-comment-id="5733" id="comment-5733">
<article class="comment-body" id="div-comment-5733">
<div class="wporg-has-embedded-code comment-content" id="comment-content-5733">
<div>This is a great function and works a charm. Thanks to this.</div>
<div><a class="url" href="https://profiles.wordpress.org/proserv19/" rel="external nofollow">ProServ</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/remove_action/#comment-5733"><time datetime="2022-03-14T14:42:50+00:00">3 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-spartelfant odd alt thread-odd thread-alt depth-1" data-comment-id="3812" id="comment-3812">
<article class="comment-body" id="div-comment-3812">
<a class="screen-reader-text" href="#comment-content-3812">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-3812">
<p>The <a href="https://codex.wordpress.org/Function_Reference/remove_action" rel="nofollow ugc">old codex</a> contains this very important note that unfortunately didn’t make it into this page:</p>
<p><em><strong>Important:</strong> To remove a hook, the <code><em>$function_to_remove</em></code> and <code><em>$priority arguments</em></code> must match when the hook was added. This goes for both filters and actions. No warning will be given on removal failure.</em></p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-3812">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-ahortin even thread-even depth-1" data-comment-id="2353" id="comment-2353">
<article class="comment-body" id="div-comment-2353">
<a class="screen-reader-text" href="#comment-content-2353">Skip to note 9 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2353">
<p>Related:</p>
<p><a href="https://developer.notmatt.press/reference/functions/do_action/">do_action()</a><br>
<a href="https://developer.notmatt.press/reference/functions/add_action/">add_action()</a></br></p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2353">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-sushil-adhikari odd alt thread-odd thread-alt depth-1" data-comment-id="2872" id="comment-2872">
<article class="comment-body" id="div-comment-2872">
<a class="screen-reader-text" href="#comment-content-2872">Skip to note 10 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-2872">
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
* Different way to remove hooks declare inside class
*/

class MyClass {
	
	/**
	 * The single instance of the class.
	 * 
	 */
	protected static $_instance = null;

	/**
	 * Main plugins instance
	 *
	 * Ensures only one instance of this class
	 * Its always good practice to user single instance of the class so we can modify hooks initialized on this class
	 */
	public static function get_instance() {
		if ( is_null( self::$_instance ) ) {
			self::$_instance = new self();
		}
		return self::$_instance;
	}

	/**
	* Register hoooks
	*/
	public function __construct() {
		/*
		* @hooked add_custom_body_class 10
		*/
		add_filter( 'body_class', array( $this, 'add_custom_body_class' ) );
		/*
		* @hooked static static_body_class - 20
		*/
		add_filter( 'body_class', array( 'MyClass', 'static_body_class' ),  20 );
	}
	/**
	* @return array of class
	*/
	public function add_custom_body_class( $class ) {
		$class[ 'custom_class' ] = 'customClass';
		return $class;
	}
	/**
	* @return array of class
	*/
	static function static_body_class( $class ) {
		$class[ 'static_custom_class' ] = 'staticCustomClass';
		return $class;
	}
}
$my_class = MyClass::get_instance();

/**
* Remove methods: add_custom_body_class attached to body class
*/
add_action( 'wp_head', 'themeslug_remove_hooks' );
function themeslug_remove_hooks() {
	/**
	* Always use same class object, this can be achieve by restricting multiple instance of the class
	*/
	$is_action_removed = remove_action( 'body_class', array( MyClass::get_instance(), 'add_custom_body_class'  ) );
	/**
	* Remove static method class by using class name with same priority 20
	*/
	$is_action_removed = remove_action( 'body_class', array( 'MyClass', 'static_body_class'  ), 20 );
} </code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-2872">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
