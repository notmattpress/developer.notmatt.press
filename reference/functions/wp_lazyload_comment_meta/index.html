
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">wp_lazyload_comment_meta()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>wp_lazyload_comment_meta()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">wp_lazyload_comment_meta( <span class="arg-type">array</span> <span class="arg-name">$comment_ids</span> )</h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Queue comment meta for lazy-loading.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$comment_ids</code><span class="type"><span class="array">array</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">List of comment IDs.</span></div></dd></dl></section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="496"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function wp_lazyload_comment_meta( array $comment_ids ) {
	if ( empty( $comment_ids ) ) {
		return;
	}
	$lazyloader = wp_metadata_lazyloader();
	$lazyloader-&gt;queue_objects( 'comment', $comment_ids );
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/comment.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/comment.php#L496">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/comment.php#L496-L502">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_metadata_lazyloader/">wp_metadata_lazyloader()</a><code>wp-includes/meta.php</code></td><td><p>Retrieves the queue for lazy-loading metadata.</p>
</td></tr></tbody></table></figure></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_queue_comments_for_comment_meta_lazyload/">wp_queue_comments_for_comment_meta_lazyload()</a><code>wp-includes/deprecated.php</code></td><td><p>Queues comments for metadata lazy-loading.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/_prime_comment_caches/">_prime_comment_caches()</a><code>wp-includes/comment.php</code></td><td><p>Adds any comments from the given IDs to the cache that do not already exist in cache.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_comment_query/get_comments/">WP_Comment_Query::get_comments()</a><code>wp-includes/class-wp-comment-query.php</code></td><td><p>Get a list of comments matching the query vars.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/6.3.0/">6.3.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-huzaifaalmesbah odd alt thread-odd thread-alt depth-1" data-comment-id="6618" id="comment-6618">
<article class="comment-body" id="div-comment-6618">
<a class="screen-reader-text" href="#comment-content-6618">Skip to note 2 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-6618">
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">/**
 * Lazyloads metadata for a list of comment IDs.
 *
 * @param array $comment_ids Array of comment IDs.
 */
function wpdocs_lazyload_comment_meta( array $comment_ids ) {
    foreach ( $comment_ids as $comment_id ) {
        // Simulate lazyloading by fetching comment metadata only when needed.
        $comment_meta = get_comment_meta( $comment_id );
        
        // Process the comment metadata.
        // For demonstration purposes, we'll just print it here.
        echo 'Lazyloaded metadata for comment ID ' . $comment_id . ':';
        foreach ( $comment_meta as $meta_key =&gt; $meta_values ) {
            echo $meta_key . ': ' . implode( ', ', $meta_values );
        }
    }
}

// Example usage
$comment_ids_to_lazyload = array( 1, 2, 3, 4, 5 );
wpdocs_lazyload_comment_meta( $comment_ids_to_lazyload );</code></pre>
<p>In this example, the <code>wp_lazyload_comment_meta</code> function takes an array of comment IDs and iterates through them. For each comment ID, it simulates lazyloading by fetching comment metadata using the <code>get_comment_meta</code> function. The metadata is then processed, and in this case, it’s simply printed to the screen. You can replace the print statements with your desired processing logic. The example usage at the end demonstrates how to call the function with an array of comment IDs.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-6618">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
