
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.notmatt.press">Home</a></span><span><a href="https://developer.notmatt.press/reference/">Reference</a></span><span><a href="https://developer.notmatt.press/reference/functions/">Functions</a></span><span class="is-current-page">has_post_thumbnail()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>has_post_thumbnail()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">has_post_thumbnail( <span class="arg-type">int|WP_Post</span> <span class="arg-name">$post</span> = <span class="arg-default">null</span> ): <span class="return-type">bool</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Determines whether a post has an image attached.</p>
</section>
<section class="wp-block-wporg-code-reference-description"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="description" tabindex="-1"><a href="#description">Description</a></h2> <p>For more information on this and similar theme functions, check out the <a href="https://developer.notmatt.press/themes/basics/conditional-tags/"> Conditional Tags</a> article in the Theme Developer Handbook.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$post</code><span class="type"><span class="int">int</span>|<span class="WP_Post"><a href="https://developer.notmatt.press/reference/classes/wp_post/" rel="class">WP_Post</a></span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Post ID or <a href="https://developer.notmatt.press/reference/classes/wp_post/" rel="class">WP_Post</a> object. Default is global <code>$post</code>.</span></div><p class="default">Default:<code>null</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">bool</span> Whether the post has an image attached.</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="25"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function has_post_thumbnail( $post = null ) {
	$thumbnail_id  = get_post_thumbnail_id( $post );
	$has_thumbnail = (bool) $thumbnail_id;

	/**
	 * Filters whether a post has a post thumbnail.
	 *
	 * @since 5.1.0
	 *
	 * @param bool             $has_thumbnail true if the post has a post thumbnail, otherwise false.
	 * @param int|WP_Post|null $post          Post ID or WP_Post object. Default is global `$post`.
	 * @param int|false        $thumbnail_id  Post thumbnail ID or false if the post does not exist.
	 */
	return (bool) apply_filters( 'has_post_thumbnail', $has_thumbnail, $post, $thumbnail_id );
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/post-thumbnail-template.php/">View all references</a> <a href="https://core.trac.notmatt.press/browser/tags/6.7/src/wp-includes/post-thumbnail-template.php#L25">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/post-thumbnail-template.php#L25-L39">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-hooks"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="hooks" tabindex="-1"><a href="#hooks">Hooks</a></h2> <dl><dt class="wp-block-wporg-code-reference-title has-normal-font-size"><a href="https://developer.notmatt.press/reference/hooks/has_post_thumbnail/"><span class="hook-func">apply_filters</span>( ‘has_post_thumbnail’,  <nobr><span class="arg-type">bool</span> <span class="arg-name">$has_thumbnail</span></nobr>,  <nobr><span class="arg-type">int|WP_Post|null</span> <span class="arg-name">$post</span></nobr>,  <nobr><span class="arg-type">int|false</span> <span class="arg-name">$thumbnail_id</span></nobr> )</a></dt><dd><p>Filters whether a post has a post thumbnail.</p>
</dd></dl></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_post_thumbnail_id/">get_post_thumbnail_id()</a><code>wp-includes/post-thumbnail-template.php</code></td><td><p>Retrieves the post thumbnail ID.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/apply_filters/">apply_filters()</a><code>wp-includes/plugin.php</code></td><td><p>Calls the callback functions that have been added to a filter hook.</p>
</td></tr></tbody></table></figure></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_oembed_response_data_rich/">get_oembed_response_data_rich()</a><code>wp-includes/embed.php</code></td><td><p>Filters the oEmbed response data to return an iframe embed code.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_media_list_table/column_title/">WP_Media_List_Table::column_title()</a><code>wp-admin/includes/class-wp-media-list-table.php</code></td><td><p>Handles the title column output.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/prepend_attachment/">prepend_attachment()</a><code>wp-includes/post-template.php</code></td><td><p>Wraps attachment in paragraph tag before content.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/get_post_class/">get_post_class()</a><code>wp-includes/post-template.php</code></td><td><p>Retrieves an array of the class names for the post container element.</p>
</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/4.4.0/">4.4.0</a></td><td><span class="since-description"><code>$post</code> can be a post ID or <a href="https://developer.notmatt.press/reference/classes/wp_post/" rel="class">WP_Post</a> object.</span></td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/since/2.9.0/">2.9.0</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-mattstone-plx even thread-odd thread-alt depth-1" data-comment-id="1864" id="comment-1864">
<article class="comment-body" id="div-comment-1864">
<a class="screen-reader-text" href="#comment-content-1864">Skip to note 6 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1864">
<p>It’s worth noting that <a href="https://developer.notmatt.press/reference/functions/has_post_thumbnail/" rel="function">has_post_thumbnail()</a>  does not just check for the Featured Image as the Codex User Contributed Note suggests. If a post contains no defined featured image but it does contain an image in the content this function will still return TRUE.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1864">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-philmcdonnell odd alt thread-even depth-1" data-comment-id="1951" id="comment-1951">
<article class="comment-body" id="div-comment-1951">
<a class="screen-reader-text" href="#comment-content-1951">Skip to note 7 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1951">
<p>@Matt Stone, I don’t agree with you. Just tested this:</p>
<pre class="wp-block-code"><code class="language-php" lang="php">&lt;?php if (has_post_thumbnail( $post-&gt;ID ) ): ?&gt;</code></pre>
<p>and it is only showing me true if I do in fact have a featured image. If I don’t have one, even with images in the content it returns false…</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1951">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex even thread-odd thread-alt depth-1" data-comment-id="482" id="comment-482">
<article class="comment-body" id="div-comment-482">
<a class="screen-reader-text" href="#comment-content-482">Skip to note 8 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-482">
<p>This example first checks if there is a Post Thumbnail (aka Featured Image) set for the current queried item. If there is a Post Thumbnail set, it returns the Post Thumbnail. If not, it echoes out a default image which should be located in the current theme’s image folder (assuming the folder is in the theme’s root directory).</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;?php
// Must be inside a loop.

if ( has_post_thumbnail() ) {
	the_post_thumbnail();
}
else {
	echo '&lt;img src="' . get_bloginfo( 'stylesheet_directory' ) 
		. '/images/thumbnail-default.jpg" /&gt;';
}
?&gt;</code></pre>
<p>You can use <code>set_post_thumbnail_size()</code> to set a default size for your thumbnail. Alternatively, you can add new image sizes to the defaults by use <code>add_image_size()</code>.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="1" id="feedback-482">
<ul class="children">
<li class="comment byuser comment-author-simbionte odd alt depth-2" data-comment-id="4664" id="comment-4664">
<article class="comment-body" id="div-comment-4664">
<div class="wporg-has-embedded-code comment-content" id="comment-content-4664">
<div><code>if ( has_post_thumbnail() ) { the_post_thumbnail( 'post-thumbnails', array( 'class' =&gt; 'h-full w-full', 'title' =&gt; 'Pantera'                  ) ); } else { echo ''; }</code></div>
<div><a class="url" href="https://profiles.notmatt.press/simbionte/" rel="external nofollow">Pantera Negra</a> <a class="comment-date" href="https://developer.notmatt.press/reference/functions/has_post_thumbnail/#comment-4664"><time datetime="2020-12-16T19:08:35+00:00">4 years ago</time></a></div>
</div><!-- .comment-content -->
</article>
</li>
</ul>
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-davwaiguy even thread-even depth-1" data-comment-id="4161" id="comment-4161">
<article class="comment-body" id="div-comment-4161">
<a class="screen-reader-text" href="#comment-content-4161">Skip to note 9 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4161">
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">&lt;?php 
if ( has_post_thumbnail() ) {
    $attachment_image = wp_get_attachment_url( get_post_thumbnail_id() );
    echo '&lt;link rel="preload" as="image" href="' . esc_attr( $attachment_image ) . '"&gt;';	
} ?&gt;</code></pre>
<p>This checks to see if there is an active thumbnail and preloads the image. Place code in the head section of header.php and it will save adding long arrays. It should also help with overcoming the Core Web Vitals LCP metric.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4161">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-jakeparrotta odd alt thread-odd thread-alt depth-1" data-comment-id="4510" id="comment-4510">
<article class="comment-body" id="div-comment-4510">
<a class="screen-reader-text" href="#comment-content-4510">Skip to note 10 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-4510">
<pre class="wp-block-code"><code class="language-php" lang="php">if ( has_post_thumbnail() ) {     
    echo '&lt;div style='background-image: url(' . get_the_post_thumbnail_url() . ');&gt;&lt;/div&gt;';
}
?&gt;</code></pre>
<p>This if statement checks to see if there is a thumbnail in the post. If not, nothing will display. </p>
<p>Use case: A hand-coded loop of posts where some have featured images and some don’t and you don’t want an empty background for that div.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-4510">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
