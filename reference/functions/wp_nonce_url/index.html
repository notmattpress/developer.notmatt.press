
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/reference/">Reference</a></span><span><a href="https://developer.wordpress.org/reference/functions/">Functions</a></span><span class="is-current-page">wp_nonce_url()</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>wp_nonce_url()</h1>
    <h1 class="wp-block-wporg-code-reference-title" style="margin-bottom:40px;">wp_nonce_url( <span class="arg-type">string</span> <span class="arg-name">$actionurl</span>,  <span class="arg-type">int|string</span> <span class="arg-name">$action</span> = <span class="arg-default">-1</span>,  <span class="arg-type">string</span> <span class="arg-name">$name</span> = <span class="arg-default">'_wpnonce'</span> ): <span class="return-type">string</span></h1>
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-container-core-post-content-is-layout-1 wp-block-post-content-is-layout-flow">
<section class="wp-block-wporg-code-reference-summary"><p>Retrieves URL with nonce added to URL query.</p>
</section>
<section class="wp-block-wporg-code-reference-parameters"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2> <dl><dt><code>$actionurl</code><span class="type"><span class="string">string</span></span><span class="required">required</span></dt><dd><div class="desc"><span class="description">URL to add nonce action.</span></div></dd><dt><code>$action</code><span class="type"><span class="int">int</span>|<span class="string">string</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Nonce action name. </span></div><p class="default">Default:<code>-1</code></p></dd><dt><code>$name</code><span class="type"><span class="string">string</span></span><span class="required">optional</span></dt><dd><div class="desc"><span class="description">Nonce name. Default <code>'_wpnonce'</code>.</span></div><p class="default">Default:<code>'_wpnonce'</code></p></dd></dl></section>
<section class="wporg-has-embedded-code wp-block-wporg-code-reference-return-value"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="return" tabindex="-1"><a href="#return">Return</a></h2> <span class="return-type">string</span> Escaped URL with nonce action added.</section>
<section class="wp-block-wporg-code-reference-source"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="source" tabindex="-1"><a href="#source">Source</a></h2> <pre aria-label="Function source code" class="wp-block-code" data-start="1861"><code class="language-php line-numbers" id="wporg-source-code" lang="php">function wp_nonce_url( $actionurl, $action = -1, $name = '_wpnonce' ) {
	$actionurl = str_replace( '&amp;amp;', '&amp;', $actionurl );
	return esc_html( add_query_arg( $name, wp_create_nonce( $action ), $actionurl ) );
}
</code></pre><p class="wporg-dot-link-list"><a href="https://developer.notmatt.press/reference/files/wp-includes/functions.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/functions.php#L1861">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/functions.php#L1861-L1864">View on GitHub</a></p></section>
<section class="wp-block-wporg-code-reference-related" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="related" tabindex="-1"><a href="#related">Related</a></h2> <section class="wp-block-wporg-code-table" id="uses" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Uses</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/wp_create_nonce/">wp_create_nonce()</a><code>wp-includes/pluggable.php</code></td><td><p>Creates a cryptographic token tied to a specific action, user, user session, and window of time.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/esc_html/">esc_html()</a><code>wp-includes/formatting.php</code></td><td><p>Escaping for HTML blocks.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/add_query_arg/">add_query_arg()</a><code>wp-includes/functions.php</code></td><td><p>Retrieves a modified URL query string.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 1 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> <section class="wp-block-wporg-code-table" id="used-by" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Used by</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/functions/core_auto_updates_settings/">core_auto_updates_settings()</a><code>wp-admin/update-core.php</code></td><td><p>Display WordPress auto-updates settings.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/plugin_installer_skin/do_overwrite/">Plugin_Installer_Skin::do_overwrite()</a><code>wp-admin/includes/class-plugin-installer-skin.php</code></td><td><p>Checks if the plugin can be overwritten and outputs the HTML for overwriting a plugin on upload.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/theme_installer_skin/do_overwrite/">Theme_Installer_Skin::do_overwrite()</a><code>wp-admin/includes/class-theme-installer-skin.php</code></td><td><p>Checks if the theme can be overwritten and outputs the HTML for overwriting a theme on upload.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_ms_themes_list_table/column_autoupdates/">WP_MS_Themes_List_Table::column_autoupdates()</a><code>wp-admin/includes/class-wp-ms-themes-list-table.php</code></td><td><p>Handles the auto-updates column output.</p>
</td></tr><tr class=""><td><a href="https://developer.notmatt.press/reference/classes/wp_privacy_data_removal_requests_list_table/column_email/">WP_Privacy_Data_Removal_Requests_List_Table::column_email()</a><code>wp-admin/includes/class-wp-privacy-data-removal-requests-list-table.php</code></td><td><p>Outputs the Actions column.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_privacy_data_removal_requests_list_table/column_next_steps/">WP_Privacy_Data_Removal_Requests_List_Table::column_next_steps()</a><code>wp-admin/includes/class-wp-privacy-data-removal-requests-list-table.php</code></td><td><p>Outputs the Next steps column.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_privacy_data_export_requests_list_table/column_email/">WP_Privacy_Data_Export_Requests_List_Table::column_email()</a><code>wp-admin/includes/class-wp-privacy-data-export-requests-list-table.php</code></td><td><p>Actions column.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_privacy_data_export_requests_list_table/column_next_steps/">WP_Privacy_Data_Export_Requests_List_Table::column_next_steps()</a><code>wp-admin/includes/class-wp-privacy-data-export-requests-list-table.php</code></td><td><p>Displays the next steps column.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_admin_bar_recovery_mode_menu/">wp_admin_bar_recovery_mode_menu()</a><code>wp-includes/admin-bar.php</code></td><td><p>Adds a link to exit recovery mode when Recovery Mode is active.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_recovery_mode_nag/">wp_recovery_mode_nag()</a><code>wp-admin/includes/update.php</code></td><td><p>Displays a notice when the user is in recovery mode.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_site_health/get_test_https_status/">WP_Site_Health::get_test_https_status()</a><code>wp-admin/includes/class-wp-site-health.php</code></td><td><p>Tests if the site is serving content over HTTPS.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/do_block_editor_incompatible_meta_box/">do_block_editor_incompatible_meta_box()</a><code>wp-admin/includes/template.php</code></td><td><p>Renders a “fake” meta box with an information message, shown on the block editor, when an incompatible meta box is found.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_load_press_this/">wp_load_press_this()</a><code>wp-admin/press-this.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_delete_plugin/">wp_ajax_delete_plugin()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles deleting a plugin via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_ajax_delete_theme/">wp_ajax_delete_theme()</a><code>wp-admin/includes/ajax-actions.php</code></td><td><p>Handles deleting a theme via AJAX.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_posts_list_table/handle_row_actions/">WP_Posts_List_Table::handle_row_actions()</a><code>wp-admin/includes/class-wp-posts-list-table.php</code></td><td><p>Generates and displays row action links.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_links_list_table/handle_row_actions/">WP_Links_List_Table::handle_row_actions()</a><code>wp-admin/includes/class-wp-links-list-table.php</code></td><td><p>Generates and displays row action links.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_ms_themes_list_table/column_name/">WP_MS_Themes_List_Table::column_name()</a><code>wp-admin/includes/class-wp-ms-themes-list-table.php</code></td><td><p>Handles the name column output.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_ms_sites_list_table/handle_row_actions/">WP_MS_Sites_List_Table::handle_row_actions()</a><code>wp-admin/includes/class-wp-ms-sites-list-table.php</code></td><td><p>Generates and displays row action links.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_terms_list_table/handle_row_actions/">WP_Terms_List_Table::handle_row_actions()</a><code>wp-admin/includes/class-wp-terms-list-table.php</code></td><td><p>Generates and displays row action links.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_ms_users_list_table/handle_row_actions/">WP_MS_Users_List_Table::handle_row_actions()</a><code>wp-admin/includes/class-wp-ms-users-list-table.php</code></td><td><p>Generates and displays row action links.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_prepare_themes_for_js/">wp_prepare_themes_for_js()</a><code>wp-admin/includes/theme.php</code></td><td><p>Prepares themes for JavaScript.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/delete_theme/">delete_theme()</a><code>wp-admin/includes/theme.php</code></td><td><p>Removes a theme.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/get_theme_update_available/">get_theme_update_available()</a><code>wp-admin/includes/theme.php</code></td><td><p>Retrieves the update link if there is a theme update available.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_plugins_list_table/single_row/">WP_Plugins_List_Table::single_row()</a><code>wp-admin/includes/class-wp-plugins-list-table.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/theme_upgrader_skin/after/">Theme_Upgrader_Skin::after()</a><code>wp-admin/includes/class-theme-upgrader-skin.php</code></td><td><p>Performs an action following a single theme update.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/theme_installer_skin/after/">Theme_Installer_Skin::after()</a><code>wp-admin/includes/class-theme-installer-skin.php</code></td><td><p>Performs an action following a single theme install.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/plugin_installer_skin/after/">Plugin_Installer_Skin::after()</a><code>wp-admin/includes/class-plugin-installer-skin.php</code></td><td><p>Performs an action following a plugin install.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/plugin_upgrader_skin/after/">Plugin_Upgrader_Skin::after()</a><code>wp-admin/includes/class-plugin-upgrader-skin.php</code></td><td><p>Performs an action following a single plugin update.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_upgrader_skin/request_filesystem_credentials/">WP_Upgrader_Skin::request_filesystem_credentials()</a><code>wp-admin/includes/class-wp-upgrader-skin.php</code></td><td><p>Displays a form to the user to request for their FTP/SSH details in order to connect to the filesystem.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_theme_install_list_table/install_theme_info/">WP_Theme_Install_List_Table::install_theme_info()</a><code>wp-admin/includes/class-wp-theme-install-list-table.php</code></td><td><p>Prints the info for a theme (to be used in the theme installer modal).</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_theme_install_list_table/single_row/">WP_Theme_Install_List_Table::single_row()</a><code>wp-admin/includes/class-wp-theme-install-list-table.php</code></td><td><p>Prints a theme from the WordPress.org API.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_plugin_update_row/">wp_plugin_update_row()</a><code>wp-admin/includes/update.php</code></td><td><p>Displays update information for a plugin.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_theme_update_row/">wp_theme_update_row()</a><code>wp-admin/includes/update.php</code></td><td><p>Displays update information for a theme.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/install_plugin_install_status/">install_plugin_install_status()</a><code>wp-admin/includes/plugin-install.php</code></td><td><p>Determines the status we can perform on a plugin.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_dashboard_plugins_output/">wp_dashboard_plugins_output()</a><code>wp-admin/includes/deprecated.php</code></td><td><p>Display plugins text for the WordPress news widget.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/delete_plugins/">delete_plugins()</a><code>wp-admin/includes/plugin.php</code></td><td><p>Removes directory and files of a plugin for a list of plugins.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_import_upload_form/">wp_import_upload_form()</a><code>wp-admin/includes/template.php</code></td><td><p>Outputs the form used by the importers to accept the data to be imported.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_themes_list_table/display_rows/">WP_Themes_List_Table::display_rows()</a><code>wp-admin/includes/class-wp-themes-list-table.php</code></td><td><p>Generates the list table rows.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_users_list_table/single_row/">WP_Users_List_Table::single_row()</a><code>wp-admin/includes/class-wp-users-list-table.php</code></td><td><p>Generates HTML for a single row on the users.php admin panel.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/get_media_item/">get_media_item()</a><code>wp-admin/includes/media.php</code></td><td><p>Retrieves HTML form for modifying the image attachment.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/_admin_notice_post_locked/">_admin_notice_post_locked()</a><code>wp-admin/includes/post.php</code></td><td><p>Outputs the HTML for the notice to say that someone else is editing or has taken over editing of this post.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_prepare_revisions_for_js/">wp_prepare_revisions_for_js()</a><code>wp-admin/includes/revision.php</code></td><td><p>Prepare revisions for JavaScript.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/link_submit_meta_box/">link_submit_meta_box()</a><code>wp-admin/includes/meta-boxes.php</code></td><td><p>Displays link create form fields.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_link_manager_disabled_message/">wp_link_manager_disabled_message()</a><code>wp-admin/includes/bookmark.php</code></td><td><p>Outputs the ‘disabled’ message for the WordPress Link Manager.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/wp_media_list_table/_get_row_actions/">WP_Media_List_Table::_get_row_actions()</a><code>wp-admin/includes/class-wp-media-list-table.php</code></td><td></td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/classes/walker_nav_menu_edit/start_el/">Walker_Nav_Menu_Edit::start_el()</a><code>wp-admin/includes/class-walker-nav-menu-edit.php</code></td><td><p>Start the element output.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/do_core_upgrade/">do_core_upgrade()</a><code>wp-admin/update-core.php</code></td><td><p>Upgrades WordPress core display.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/do_dismiss_core_update/">do_dismiss_core_update()</a><code>wp-admin/update-core.php</code></td><td><p>Dismiss a core update.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/do_undismiss_core_update/">do_undismiss_core_update()</a><code>wp-admin/update-core.php</code></td><td><p>Undismiss a core update.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/wp_logout_url/">wp_logout_url()</a><code>wp-includes/general-template.php</code></td><td><p>Retrieves the logout URL.</p>
</td></tr><tr class="wporg-hidden"><td><a href="https://developer.notmatt.press/reference/functions/get_delete_post_link/">get_delete_post_link()</a><code>wp-includes/link-template.php</code></td><td><p>Retrieves the delete posts link for post.</p>
</td></tr></tbody></table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 47 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section>
<section class="wp-block-wporg-code-reference-changelog"><h2 class="is-toc-heading wp-block-heading has-heading-5-font-size" id="changelog" tabindex="-1"><a href="#changelog">Changelog</a></h2> <section class="wp-block-wporg-code-table" style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table"><table><thead><tr><th scope="col">Version</th><th scope="col">Description</th></tr></thead><tbody><tr class=""><td><a href="https://developer.notmatt.press/reference/since/2.0.4/">2.0.4</a></td><td>Introduced.</td></tr></tbody></table></figure></section> </section>
<section class="wp-block-wporg-code-reference-comments" data-nosnippet="true"><h2 class="is-toc-heading wp-block-heading" id="user-contributed-notes" tabindex="-1"><a href="#user-contributed-notes">User Contributed Notes</a></h2> <ol class="comment-list"> <li class="comment byuser comment-author-bfintal even thread-even depth-1" data-comment-id="1927" id="comment-1927">
<article class="comment-body" id="div-comment-1927">
<a class="screen-reader-text" href="#comment-content-1927">Skip to note 3 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1927">
<p>Note that <code>wp_nonce_url</code> escapes <code>&amp;</code> to <code>&amp;amp;</code> and may cause links or redirects to become incorrect.</p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">// Sample URL, note the &amp; in there
$url = 'http://localhost/?arg1=value1&amp;arg2=value2';

// This will show <a href="http://localhost/?arg1=value1&amp;amp;amp;arg2=value2&amp;amp;amp;_wpnonce=abcdef" rel="nofollow ugc">http://localhost/?arg1=value1&amp;amp;amp;arg2=value2&amp;amp;amp;_wpnonce=abcdef</a>
echo wp_nonce_url( $url, 'action' );

// This will return <a href="http://localhost/?arg1=value1&amp;arg2=value2&amp;_wpnonce=abcdef" rel="nofollow ugc">http://localhost/?arg1=value1&amp;arg2=value2&amp;_wpnonce=abcdef</a>
echo add_query_arg( '_wpnonce', wp_create_nonce( 'action' ), $url );</code></pre>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1927">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
<li class="comment byuser comment-author-codex odd alt thread-odd thread-alt depth-1" data-comment-id="1108" id="comment-1108">
<article class="comment-body" id="div-comment-1108">
<a class="screen-reader-text" href="#comment-content-1108">Skip to note 4 content</a>

<!-- .comment-metadata -->
<div class="wporg-has-embedded-code comment-content" id="comment-content-1108">
<p><strong>Example</strong></p>
<p>Plugin authors can safely add links that perform tasks using a combination of <a href="https://developer.notmatt.press/reference/functions/wp_nonce_url/" rel="function">wp_nonce_url()</a>  and <a href="https://developer.notmatt.press/reference/functions/admin_url/" rel="function">admin_url()</a> .<br/>
For instance, start by creating the link users can click to do something interesting: </p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">function my_plugin_do_something () {
?&gt;
&lt;h2&gt;&lt;?php esc_html_e('My Plugin Admin Screen', 'my-plugin-textdomain');?&gt;&lt;/h2&gt;
&lt;p&gt;
    &lt;a href="&lt;?php print wp_nonce_url(admin_url('options.php?page=my_plugin_settings'), 'doing_something', 'my_nonce');?&gt;"
        class="button button-primary"&gt;&lt;?php esc_html_e('Do Something!', 'my-plugin-textdomain');?&gt;&lt;/a&gt;
    &lt;span class="description"&gt;&lt;?php esc_html_e('This button does something interesting.', 'my-plugin-textdomain');?&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;?php
}</code></pre>
<p>Then, to detect when the user clicks the link, check the nonce validity using <a href="https://developer.notmatt.press/reference/functions/wp_verify_nonce/" rel="function">wp_verify_nonce()</a>  in the function you defined when you called <a href="https://developer.notmatt.press/reference/functions/add_menu_page/" rel="function">add_menu_page()</a>  or one of its Administration Menus wrappers. If the nonce isn’t valid, the link wasn’t clicked, so display the link. Otherwise, do “something interesting.” </p>
<pre class="wp-block-code"><code class="language-php line-numbers" lang="php">add_action('admin_menu', 'add_my_plugin_admin_screen');
function add_my_plugin_admin_screen () {
    add_options_page(
        __('My Plugin Settings', 'my-plugin-textdomain'),
        __('My Plugin', 'my-plugin-textdomain'),
        'manage_options',
        'my_plugin_settings',
        'my_plugin_do_something'
    );
}

function my_plugin_do_something () {
    if (!isset($_GET['my_nonce']) || !wp_verify_nonce($_GET['my_nonce'], 'doing_something')) {
?&gt;
&lt;h2&gt;&lt;?php esc_html_e('My Plugin Admin Screen', 'my-plugin-textdomain');?&gt;&lt;/h2&gt;
&lt;p&gt;
    &lt;a href="&lt;?php print wp_nonce_url(admin_url('options.php?page=my_plugin_settings'), 'doing_something', 'my_nonce');?&gt;"
        class="button button-primary"&gt;&lt;?php esc_html_e('Do Something!', 'my-plugin-textdomain');?&gt;&lt;/a&gt;
    &lt;span class="description"&gt;&lt;?php esc_html_e('This button does something interesting.', 'my-plugin-textdomain');?&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;?php
    } else {
        // User pressed "Do Something!" button, so
        // do something interesting.
    }
}</code></pre>
<p>Note that the recommended “context” parameter of the nonce is used to disambiguate which button was pressed. If you make more than one button users can press, make sure each button has a different nonce name and/or context.</p>
</div><!-- .comment-content -->
<section class="wporg-has-embedded-code feedback hide-if-js" data-comment-count="0" id="feedback-1108">
</section><!-- .feedback -->

</article><!-- .comment-body -->
</li>
</ol></section>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
