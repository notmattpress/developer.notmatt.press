
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/apis/">Common APIs Handbook</a></span><span class="is-current-page">Quicktags</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>Quicktags</h1>
    
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-block-post-content-is-layout-flow">
<h2 class="is-toc-heading wp-block-heading" id="description" tabindex="-1"><a href="#description">Description</a></h2>
<p>The Quicktags API allows you to include additional buttons in the Text (HTML) mode of the WordPress Classic editor.</p>
<figure class="wp-block-image"><img alt="" class="wp-image-125756" data-recalc-dims="1" decoding="async" height="90" sizes="(max-width: 550px) 100vw, 550px" src="https://i0.wp.com/developer.wordpress.org/files/2019/08/quicktags-editor.png?resize=550%2C90&amp;ssl=1" srcset="https://i0.wp.com/developer.wordpress.org/files/2019/08/quicktags-editor.png?w=550&amp;ssl=1 550w, https://i0.wp.com/developer.wordpress.org/files/2019/08/quicktags-editor.png?resize=300%2C49&amp;ssl=1 300w" width="550"/></figure>
<h2 class="is-toc-heading wp-block-heading" id="history" tabindex="-1"><a href="#history">History</a></h2>
<p>This API was introduced in <a href="/support/wordpress-version/version-3-3">WordPress 3.3</a>.</p>
<h2 class="is-toc-heading wp-block-heading" id="usage" tabindex="-1"><a href="#usage">Usage</a></h2>
<pre class="wp-block-code"><code class="language-js" lang="js">QTags.addButton( id, display, arg1, arg2, access_key, title, priority, instance, object );</code></pre>
<h2 class="is-toc-heading wp-block-heading" id="parameters" tabindex="-1"><a href="#parameters">Parameters</a></h2>
<ul class="wp-block-list">
<li><code><strong>id</strong></code><strong> (</strong><em><strong>string</strong></em><strong>) (</strong><em><strong>required</strong></em><strong>):</strong> The html id for the button. Default: <em>None</em></li>
<li><code><strong>display</strong></code><strong> (</strong><em><strong>string</strong></em><strong>) (</strong><em><strong>required</strong></em><strong>):</strong> The html value for the button. Default: <em>None</em></li>
<li><code><strong>arg1</strong></code><strong> (</strong><em><strong>string</strong></em><strong>) (</strong><em><strong>required</strong></em><strong>): </strong>Either a starting tag to be inserted like “&lt;span&gt;” or a callback that is executed when the button is clicked. Default: <em>None</em></li>
<li><code><strong>arg2</strong></code><strong> (</strong><em><strong>string</strong></em><strong>) (</strong><em><strong>optional</strong></em><strong>):</strong> Ending tag like “&lt;/span&gt;”. Leave empty if tag doesn’t need to be closed (i.e. “&lt;hr /&gt;”). Default: <em>None</em></li>
<li><code><strong>access_key</strong></code><strong> (</strong><em><strong>string</strong></em><strong>) (</strong><em><strong>optional</strong></em><strong>):</strong> <strong>Deprecated and Not used.</strong> Shortcut access key for the button. Default: <em>None</em></li>
<li><code><strong>title</strong></code><strong> (</strong><em><strong>string</strong></em><strong>) (</strong><em><strong>optional</strong></em><strong>):</strong> The html title value for the button. Default: <em>None</em></li>
<li><code><strong>priority</strong></code><strong> (</strong><em><strong>int</strong></em><strong>) (</strong><em><strong>optional</strong></em><strong>):</strong> A number representing the desired position of the button in the toolbar. 1 – 9 = first, 11 – 19 = second, 21 – 29 = third, etc. Default: <em>None</em></li>
<li><code><strong>instance</strong></code><strong> (</strong><em><strong>string</strong></em><strong>) (</strong><em><strong>optional</strong></em><strong>):</strong> Limit the button to a specific instance of Quicktags, add to all instances if not present. Default: <em>None</em></li>
<li><code><strong>object</strong></code><strong> (</strong><em><strong>attr</strong></em><strong>) (</strong><em><strong>optional</strong></em><strong>):</strong> Used to pass additional attributes. Currently supports <code>ariaLabel</code> and <code>ariaLabelClose</code> (for “close tag” state)</li>
</ul>
<h2 class="is-toc-heading wp-block-heading" id="return-values" tabindex="-1"><a href="#return-values">Return Values</a></h2>
<p>(<em>mixed</em>) Null or the button object that is needed for back-compat.</p>
<h2 class="is-toc-heading wp-block-heading" id="examples" tabindex="-1"><a href="#examples">Examples</a></h2>
<p>Below examples would add HTML buttons to the default Quicktags in the Text editor.</p>
<h3 class="is-toc-heading wp-block-heading" id="modern-example" tabindex="-1"><a href="#modern-example">Modern example</a></h3>
<p>This example uses the inline JS API to add the JavaScript when quicktags are enqueued.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">/**
 * Add a paragraph tag button to the quicktags toolbar
 *
 * @return void
 */
function wporg_add_quicktag_paragraph() {
	wp_add_inline_script(
		'quicktags',
		"QTags.addButton( 'eg_paragraph_v2', 'p_v2', '&lt;p&gt;', '&lt;/p&gt;', '', 'Paragraph tag v2', 2, '', { ariaLabel: 'Paragraph', ariaLabelClose: 'Close Paragraph tag' });"
	);
}
add_action( 'admin_enqueue_scripts', 'wporg_add_quicktag_paragraph' );</code></pre>
<h3 class="is-toc-heading wp-block-heading" id="another-modern-example" tabindex="-1"><a href="#another-modern-example">Another modern example</a></h3>
<p>In this example,</p>
<ol class="wp-block-list">
<li>Enqueue a script using the proper WordPress function <a href="https://developer.notmatt.press/reference/functions/wp_enqueue_script"><code>wp_enqueue_script</code></a>.</li>
<li>Call any JavaScript that you want to fire when or after the QuickTag was clicked inside the QuickTag call-back.</li>
</ol>
<h4 class="wp-block-heading">Enqueue the script</h4>
<p>Put below codes into active theme’s <code>functions.php</code>.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">function enqueue_quicktag_script(){
	wp_enqueue_script( 'your-handle', get_template_directory_uri() . '/editor-script.js', array( 'jquery', 'quicktags' ), '1.0.0', true );
}
add_action( 'admin_enqueue_scripts', 'enqueue_quicktag_script' );</code></pre>
<h4 class="wp-block-heading">The JavaScript itself</h4>
<p>Create new file <code>editor-script</code> and save under the active theme directory.</p>
<pre class="wp-block-code"><code class="language-javascript" lang="javascript">QTags.addButton( 'eg_paragraph_v3', 'p_v3', my_callback, '', '', 'Prompted Paragraph tag', 3, '', { ariaLabel: 'Prompted Paragraph' } ); 

function my_callback(){
  var my_stuff = prompt( 'Enter Some Stuff:', '' );
  if ( my_stuff ) {
    QTags.insertContent( '&lt;p&gt;' + my_stuff + '&lt;/p&gt;' );
  }
}</code></pre>
<h3 class="is-toc-heading wp-block-heading" id="traditional-example" tabindex="-1"><a href="#traditional-example">Traditional example</a></h3>
<p>This example manually add hardcoded JavaScript with <code>wp_script_is</code> on the admin footer hook. You should consider to use modern example. See above.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">/**
 * Add more buttons to the quicktags HTML editor
 *
 * @return void
 */
function wporg_traditional_add_quicktags() {
	if ( ! wp_script_is( 'quicktags' ) ) {
		return;
	}

	?&gt;
	&lt;script type="text/javascript"&gt;
		QTags.addButton( 'eg_paragraph', 'p', '&lt;p&gt;', '&lt;/p&gt;', '', 'Paragraph tag', 1, '', { ariaLabel: 'Paragraph', ariaLabelClose: 'Close Paragraph tag' } );
		QTags.addButton( 'eg_hr', 'hr', '&lt;hr /&gt;', '', '', 'Horizontal rule line', 201, '', { ariaLabel: 'Horizontal' } );
		QTags.addButton( 'eg_pre', 'pre', '&lt;pre lang="php"&gt;', '&lt;/pre&gt;', '', 'Preformatted text tag', 111, '', { ariaLabel: 'Pre', ariaLabelClose: 'Close Pre tag' } );
	&lt;/script&gt;
	&lt;?php
}

add_action( 'admin_print_footer_scripts', 'wporg_traditional_add_quicktags', 11 );</code></pre>
<p>Note:</p>
<ul class="wp-block-list">
<li>To avoid a Reference Error we check to see whether or not the ‘quicktags’ script is in use.</li>
<li>Since WordPress 6.0, the script loading order was changed and the error “QTags is not defined” occurs without 3rd parameter of <code>add_action()</code>. Also, you have to specfy the larger number than 10 (ex.11).</li>
</ul>
<p>The “p” button HTML would be:</p>
<pre class="wp-block-code"><code class="language-markup" lang="markup">&lt;input type="button" id="qt_content_eg_paragraph" class="ed_button button button-small" title="Paragraph tag" aria-label="Paragraph" value="p"&gt;</code></pre>
<p>The ID value for each button is automatically prepended with the string qt_content_.</p>
<p></p>
<p>Here is a dump of the docblock from <code>quicktags.js</code>, it’s pretty useful on it’s own.</p>
<pre class="wp-block-code"><code class="language-php" lang="php">/**
 * Main API function for adding a button to Quicktags
 *
 * Adds qt.Button or qt.TagButton depending on the args. The first three args are always required.
 * To be able to add button(s) to Quicktags, your script should be enqueued as dependent
 * on "quicktags" and outputted in the footer. If you are echoing JS directly from PHP,
 * use add_action( 'admin_print_footer_scripts', 'output_my_js', 100 ) or add_action( 'wp_footer', 'output_my_js', 100 )
 *
 * Minimum required to add a button that calls an external function:
 *     QTags.addButton( 'my_id', 'my button', my_callback );
 *     function my_callback() { alert('yeah!'); }
 *
 * Minimum required to add a button that inserts a tag:
 *     QTags.addButton( 'my_id', 'my button', '&lt;span&gt;', '&lt;/span&gt;' );
 *     QTags.addButton( 'my_id2', 'my button', '&lt;br /&gt;' );
 */</code></pre>
<h2 class="is-toc-heading wp-block-heading" id="default-quicktags" tabindex="-1"><a href="#default-quicktags">Default Quicktags</a></h2>
<p>Here are the values of the default Quicktags added by WordPress to the Text editor. ID must be unique. When adding your own buttons, do not use these values:</p>
<figure class="wp-block-table"><figure class="wp-block-table is-style-borderless"><table><tbody><tr><th><strong>ID</strong></th><th><strong>Value</strong></th><th><strong>Tag Start</strong></th><th><strong>Tag End</strong></th></tr><tr><td>link</td><td>link</td><td>&lt;a href=”‘ + URL + ‘”&gt;</td><td>&lt;/a&gt;</td></tr><tr><td>strong</td><td>b</td><td>&lt;strong&gt;</td><td>&lt;/strong&gt;</td></tr><tr><td>code</td><td>code</td><td>&lt;code&gt;</td><td>&lt;/code&gt;</td></tr><tr><td>del</td><td>del</td><td>&lt;del datetime=”‘ + _datetime + ‘”&gt;</td><td>&lt;/del&gt;</td></tr><tr><td>fullscreen</td><td>fullscreen</td><td></td><td></td></tr><tr><td>em</td><td>i</td><td>&lt;em&gt;</td><td>&lt;/em&gt;</td></tr><tr><td>li</td><td>li</td><td>t&lt;li&gt;</td><td>&lt;/li&gt;n</td></tr><tr><td>img</td><td>img</td><td>&lt;img src=”‘ + src + ‘” alt=”‘ + alt + ‘” /&gt;</td><td></td></tr><tr><td>ol</td><td>ol</td><td>&lt;ol&gt;n</td><td>&lt;/ol&gt;nn</td></tr><tr><td>block</td><td>b-quote</td><td>nn&lt;blockquote&gt;</td><td>&lt;/blockquote&gt;nn</td></tr><tr><td>ins</td><td>ins</td><td>&lt;ins datetime=”‘ + _datetime + ‘”&gt;</td><td>&lt;/ins&gt;</td></tr><tr><td>more</td><td>more</td><td>&lt;!–more–&gt;</td><td></td></tr><tr><td>ul</td><td>ul</td><td>&lt;ul&gt;n</td><td>&lt;/ul&gt;nn</td></tr><tr><td>spell</td><td>lookup</td><td></td><td></td></tr><tr><td>close</td><td>close</td><td></td></tr></tbody></table></figure></figure>
<p>Some tag values above use variables, such as URL and <code>_datetime</code>, passed from functions.</p>
<h2 class="is-toc-heading wp-block-heading" id="source-file" tabindex="-1"><a href="#source-file">Source File</a></h2>
<p>qt.addButton() source is located in <code><a href="https://core.trac.wordpress.org/browser/tags/5.2.1/src/js/_enqueues/lib/quicktags.js#L0">js/_enqueues/lib/quicktags.js</a></code>, during build it’s output in <code>wp-incudes/js/quicktags.js</code> and <code>wp-includes/js/quicktags.min.js</code>.</p>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
