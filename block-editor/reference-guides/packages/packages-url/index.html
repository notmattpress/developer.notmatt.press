
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/block-editor/">Block Editor Handbook</a></span><span><a href="https://developer.wordpress.org/block-editor/reference-guides/">Reference Guides</a></span><span><a href="https://developer.wordpress.org/block-editor/reference-guides/packages/">Package Reference</a></span><span class="is-current-page">@wordpress/url</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>@wordpress/url</h1>
    
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-block-post-content-is-layout-flow"><p>A collection of utilities to manipulate URLs.</p>
<h2 class="is-toc-heading" id="installation" tabindex="-1"><a href="#installation">Installation</a></h2>
<p>Install the module</p>
<pre><code class="language-bash">npm install @wordpress/url --save
</code></pre>
<p><em>This package assumes that your code will run in an <strong>ES2015+</strong> environment. If you’re using an environment that has limited or no support for such language features and APIs, you should include <a href="https://github.com/WordPress/gutenberg/tree/HEAD/packages/babel-preset-default#polyfill">the polyfill shipped in <code>@wordpress/babel-preset-default</code></a> in your code.</em></p>
<h2 class="is-toc-heading" id="usage" tabindex="-1"><a href="#usage">Usage</a></h2>
<p><!-- START TOKEN(Autogenerated API docs) --></p>
<h3 class="is-toc-heading" id="addqueryargs" tabindex="-1"><a href="#addqueryargs">addQueryArgs</a></h3>
<p>Appends arguments as querystring to the provided URL. If the URL already includes query arguments, the arguments are merged with (and take precedent over) the existing set.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const newURL = addQueryArgs( 'https://google.com', { q: 'test' } ); // https://google.com/?q=test
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>[string]</code>: URL to which arguments should be appended. If omitted, only the resulting querystring is returned.</li>
<li><em>args</em> <code>[Object]</code>: Query arguments to apply to URL.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: URL with arguments applied.</li>
</ul>
<h3 class="is-toc-heading" id="buildquerystring" tabindex="-1"><a href="#buildquerystring">buildQueryString</a></h3>
<p>Generates URL-encoded query string using input query data.</p>
<p>It is intended to behave equivalent as PHP’s <code>http_build_query</code>, configured with encoding type PHP_QUERY_RFC3986 (spaces as <code>%20</code>).</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const queryString = buildQueryString( {
    simple: 'is ok',
    arrays: [ 'are', 'fine', 'too' ],
    objects: {
        evenNested: {
            ok: 'yes',
        },
    },
} );
// "simple=is%20ok&amp;arrays%5B0%5D=are&amp;arrays%5B1%5D=fine&amp;arrays%5B2%5D=too&amp;objects%5BevenNested%5D%5Bok%5D=yes"
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>data</em> <code>Record&lt;string,*&gt;</code>: Data to encode.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: Query string.</li>
</ul>
<h3 class="is-toc-heading" id="cleanforslug" tabindex="-1"><a href="#cleanforslug">cleanForSlug</a></h3>
<p>Performs some basic cleanup of a string for use as a post slug.</p>
<p>This replicates some of what <code>sanitize_title()</code> does in WordPress core, but is only designed to approximate what the slug will be.</p>
<p>Converts Latin-1 Supplement and Latin Extended-A letters to basic Latin letters. Removes combining diacritical marks. Converts whitespace, periods, and forward slashes to hyphens. Removes any remaining non-word characters except hyphens. Converts remaining string to lowercase. It does not account for octets, HTML entities, or other encoded characters.</p>
<p><em>Parameters</em></p>
<ul>
<li><em>string</em> <code>string</code>: Title or slug to be processed.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: Processed string.</li>
</ul>
<h3 class="is-toc-heading" id="filterurlfordisplay" tabindex="-1"><a href="#filterurlfordisplay">filterURLForDisplay</a></h3>
<p>Returns a URL for display.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const displayUrl = filterURLForDisplay(
    'https://www.wordpress.org/gutenberg/'
); // wordpress.org/gutenberg
const imageUrl = filterURLForDisplay(
    'https://www.wordpress.org/wp-content/uploads/img.png',
    20
); // …ent/uploads/img.png
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: Original URL.</li>
<li><em>maxLength</em> <code>number|null</code>: URL length.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: Displayed URL.</li>
</ul>
<h3 class="is-toc-heading" id="getauthority" tabindex="-1"><a href="#getauthority">getAuthority</a></h3>
<p>Returns the authority part of the URL.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const authority1 = getAuthority( 'https://wordpress.org/help/' ); // 'wordpress.org'
const authority2 = getAuthority( 'https://localhost:8080/test/' ); // 'localhost:8080'
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The full URL.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string|void</code>: The authority part of the URL.</li>
</ul>
<h3 class="is-toc-heading" id="getfilename" tabindex="-1"><a href="#getfilename">getFilename</a></h3>
<p>Returns the filename part of the URL.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const filename1 = getFilename( 'http://localhost:8080/this/is/a/test.jpg' ); // 'test.jpg'
const filename2 = getFilename( '/this/is/a/test.png' ); // 'test.png'
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The full URL.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string|void</code>: The filename part of the URL.</li>
</ul>
<h3 class="is-toc-heading" id="getfragment" tabindex="-1"><a href="#getfragment">getFragment</a></h3>
<p>Returns the fragment part of the URL.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const fragment1 = getFragment(
    'http://localhost:8080/this/is/a/test?query=true#fragment'
); // '#fragment'
const fragment2 = getFragment(
    'https://wordpress.org#another-fragment?query=true'
); // '#another-fragment'
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The full URL</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string|void</code>: The fragment part of the URL.</li>
</ul>
<h3 class="is-toc-heading" id="getpath" tabindex="-1"><a href="#getpath">getPath</a></h3>
<p>Returns the path part of the URL.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const path1 = getPath( 'http://localhost:8080/this/is/a/test?query=true' ); // 'this/is/a/test'
const path2 = getPath( 'https://wordpress.org/help/faq/' ); // 'help/faq'
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The full URL.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string|void</code>: The path part of the URL.</li>
</ul>
<h3 class="is-toc-heading" id="getpathandquerystring" tabindex="-1"><a href="#getpathandquerystring">getPathAndQueryString</a></h3>
<p>Returns the path part and query string part of the URL.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const pathAndQueryString1 = getPathAndQueryString(
    'http://localhost:8080/this/is/a/test?query=true'
); // '/this/is/a/test?query=true'
const pathAndQueryString2 = getPathAndQueryString(
    'https://wordpress.org/help/faq/'
); // '/help/faq'
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The full URL.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: The path part and query string part of the URL.</li>
</ul>
<h3 class="is-toc-heading" id="getprotocol" tabindex="-1"><a href="#getprotocol">getProtocol</a></h3>
<p>Returns the protocol part of the URL.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const protocol1 = getProtocol( 'tel:012345678' ); // 'tel:'
const protocol2 = getProtocol( 'https://wordpress.org' ); // 'https:'
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The full URL.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string|void</code>: The protocol part of the URL.</li>
</ul>
<h3 class="is-toc-heading" id="getqueryarg" tabindex="-1"><a href="#getqueryarg">getQueryArg</a></h3>
<p>Returns a single query argument of the url</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const foo = getQueryArg( 'https://wordpress.org?foo=bar&amp;bar=baz', 'foo' ); // bar
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: URL.</li>
<li><em>arg</em> <code>string</code>: Query arg name.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>QueryArgParsed|void</code>: Query arg value.</li>
</ul>
<h3 class="is-toc-heading" id="getqueryargs" tabindex="-1"><a href="#getqueryargs">getQueryArgs</a></h3>
<p>Returns an object of query arguments of the given URL. If the given URL is invalid or has no querystring, an empty object is returned.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const foo = getQueryArgs( 'https://wordpress.org?foo=bar&amp;bar=baz' );
// { "foo": "bar", "bar": "baz" }
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: URL.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>QueryArgs</code>: Query args object.</li>
</ul>
<h3 class="is-toc-heading" id="getquerystring" tabindex="-1"><a href="#getquerystring">getQueryString</a></h3>
<p>Returns the query string part of the URL.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const queryString = getQueryString(
    'http://localhost:8080/this/is/a/test?query=true#fragment'
); // 'query=true'
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The full URL.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string|void</code>: The query string part of the URL.</li>
</ul>
<h3 class="is-toc-heading" id="hasqueryarg" tabindex="-1"><a href="#hasqueryarg">hasQueryArg</a></h3>
<p>Determines whether the URL contains a given query arg.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const hasBar = hasQueryArg( 'https://wordpress.org?foo=bar&amp;bar=baz', 'bar' ); // true
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: URL.</li>
<li><em>arg</em> <code>string</code>: Query arg name.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>boolean</code>: Whether or not the URL contains the query arg.</li>
</ul>
<h3 class="is-toc-heading" id="isemail" tabindex="-1"><a href="#isemail">isEmail</a></h3>
<p>Determines whether the given string looks like an email.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const isEmail = isEmail( 'hello@wordpress.org' ); // true
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>email</em> <code>string</code>: The string to scrutinise.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>boolean</code>: Whether or not it looks like an email.</li>
</ul>
<h3 class="is-toc-heading" id="isphonenumber" tabindex="-1"><a href="#isphonenumber">isPhoneNumber</a></h3>
<p>Determines whether the given string looks like a phone number.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const isPhoneNumber = isPhoneNumber( '+1 (555) 123-4567' ); // true
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>phoneNumber</em> <code>string</code>: The string to scrutinize.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>boolean</code>: Whether or not it looks like a phone number.</li>
</ul>
<h3 class="is-toc-heading" id="isurl" tabindex="-1"><a href="#isurl">isURL</a></h3>
<p>Determines whether the given string looks like a URL.</p>
<p><em>Related</em></p>
<ul>
<li><a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a></li>
<li><a href="https://url.spec.whatwg.org/#valid-url-string">https://url.spec.whatwg.org/#valid-url-string</a></li>
</ul>
<p><em>Usage</em></p>
<pre><code class="language-js">const isURL = isURL( 'https://wordpress.org' ); // true
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The string to scrutinise.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>boolean</code>: Whether or not it looks like a URL.</li>
</ul>
<h3 class="is-toc-heading" id="isvalidauthority" tabindex="-1"><a href="#isvalidauthority">isValidAuthority</a></h3>
<p>Checks for invalid characters within the provided authority.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const isValid = isValidAuthority( 'wordpress.org' ); // true
const isNotValid = isValidAuthority( 'wordpress#org' ); // false
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>authority</em> <code>string</code>: A string containing the URL authority.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>boolean</code>: True if the argument contains a valid authority.</li>
</ul>
<h3 class="is-toc-heading" id="isvalidfragment" tabindex="-1"><a href="#isvalidfragment">isValidFragment</a></h3>
<p>Checks for invalid characters within the provided fragment.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const isValid = isValidFragment( '#valid-fragment' ); // true
const isNotValid = isValidFragment( '#invalid-#fragment' ); // false
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>fragment</em> <code>string</code>: The url fragment.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>boolean</code>: True if the argument contains a valid fragment.</li>
</ul>
<h3 class="is-toc-heading" id="isvalidpath" tabindex="-1"><a href="#isvalidpath">isValidPath</a></h3>
<p>Checks for invalid characters within the provided path.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const isValid = isValidPath( 'test/path/' ); // true
const isNotValid = isValidPath( '/invalid?test/path/' ); // false
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>path</em> <code>string</code>: The URL path.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>boolean</code>: True if the argument contains a valid path</li>
</ul>
<h3 class="is-toc-heading" id="isvalidprotocol" tabindex="-1"><a href="#isvalidprotocol">isValidProtocol</a></h3>
<p>Tests if a url protocol is valid.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const isValid = isValidProtocol( 'https:' ); // true
const isNotValid = isValidProtocol( 'https :' ); // false
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>protocol</em> <code>string</code>: The url protocol.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>boolean</code>: True if the argument is a valid protocol (e.g. http:, tel:).</li>
</ul>
<h3 class="is-toc-heading" id="isvalidquerystring" tabindex="-1"><a href="#isvalidquerystring">isValidQueryString</a></h3>
<p>Checks for invalid characters within the provided query string.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const isValid = isValidQueryString( 'query=true&amp;another=false' ); // true
const isNotValid = isValidQueryString( 'query=true?another=false' ); // false
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>queryString</em> <code>string</code>: The query string.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>boolean</code>: True if the argument contains a valid query string.</li>
</ul>
<h3 class="is-toc-heading" id="normalizepath" tabindex="-1"><a href="#normalizepath">normalizePath</a></h3>
<p>Given a path, returns a normalized path where equal query parameter values will be treated as identical, regardless of order they appear in the original text.</p>
<p><em>Parameters</em></p>
<ul>
<li><em>path</em> <code>string</code>: Original path.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: Normalized path.</li>
</ul>
<h3 class="is-toc-heading" id="prependhttp" tabindex="-1"><a href="#prependhttp">prependHTTP</a></h3>
<p>Prepends “http://” to a url, if it looks like something that is meant to be a TLD.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const actualURL = prependHTTP( 'wordpress.org' ); // http://wordpress.org
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The URL to test.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: The updated URL.</li>
</ul>
<h3 class="is-toc-heading" id="prependhttps" tabindex="-1"><a href="#prependhttps">prependHTTPS</a></h3>
<p>Prepends “https://” to a url, if it looks like something that is meant to be a TLD.</p>
<p>Note: this will not replace “http://” with “&lt;https://”&gt;.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const actualURL = prependHTTPS( 'wordpress.org' ); // https://wordpress.org
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: The URL to test.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: The updated URL.</li>
</ul>
<h3 class="is-toc-heading" id="removequeryargs" tabindex="-1"><a href="#removequeryargs">removeQueryArgs</a></h3>
<p>Removes arguments from the query string of the url</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const newUrl = removeQueryArgs(
    'https://wordpress.org?foo=bar&amp;bar=baz&amp;baz=foobar',
    'foo',
    'bar'
); // https://wordpress.org?baz=foobar
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>url</em> <code>string</code>: URL.</li>
<li><em>args</em> <code>...string</code>: Query Args.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: Updated URL.</li>
</ul>
<h3 class="is-toc-heading" id="safedecodeuri" tabindex="-1"><a href="#safedecodeuri">safeDecodeURI</a></h3>
<p>Safely decodes a URI with <code>decodeURI</code>. Returns the URI unmodified if <code>decodeURI</code> throws an error.</p>
<p><em>Usage</em></p>
<pre><code class="language-js">const badUri = safeDecodeURI( '%z' ); // does not throw an Error, simply returns '%z'
</code></pre>
<p><em>Parameters</em></p>
<ul>
<li><em>uri</em> <code>string</code>: URI to decode.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: Decoded URI if possible.</li>
</ul>
<h3 class="is-toc-heading" id="safedecodeuricomponent" tabindex="-1"><a href="#safedecodeuricomponent">safeDecodeURIComponent</a></h3>
<p>Safely decodes a URI component with <code>decodeURIComponent</code>. Returns the URI component unmodified if <code>decodeURIComponent</code> throws an error.</p>
<p><em>Parameters</em></p>
<ul>
<li><em>uriComponent</em> <code>string</code>: URI component to decode.</li>
</ul>
<p><em>Returns</em></p>
<ul>
<li><code>string</code>: Decoded URI component if possible.</li>
</ul>
<p><!-- END TOKEN(Autogenerated API docs) --></p>
<h2 class="is-toc-heading" id="contributing-to-this-package" tabindex="-1"><a href="#contributing-to-this-package">Contributing to this package</a></h2>
<p>This is an individual package that’s part of the Gutenberg project. The project is organized as a monorepo. It’s made up of multiple self-contained software packages, each with a specific purpose. The packages in this monorepo are published to <a href="https://www.npmjs.com/">npm</a> and used by <a href="https://make.wordpress.org/core/">WordPress</a> as well as other software projects.</p>
<p>To find out more about contributing to this package or Gutenberg as a whole, please read the project’s main <a href="https://github.com/WordPress/gutenberg/tree/HEAD/CONTRIBUTING.md">contributor guide</a>.</p>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
