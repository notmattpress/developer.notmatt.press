
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Quicksand', 'Open Sans', 'Helvetica', 'Arial', san-serif;
        }
        a, h1, h2, h3, h4, h5, h6 {
            color: #0073aa;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .has-small-font-size.is-link-to-top {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        .entry-content {
            position:relative;
        }
        .entry-content img {
            max-width: 100%;
        }
    </style>
</head>
<body>
<div class='container'>
    
    <div class="page-metadata" data-published="" data-last-updated=""></div>
    
    <div aria-label="Breadcrumbs" class="wp-block-wporg-site-breadcrumbs has-small-font-size" role="navigation"><div class="wporg-site-breadcrumbs__wrapper"><span><a href="https://developer.wordpress.org">Home</a></span><span><a href="https://developer.wordpress.org/block-editor/">Block Editor Handbook</a></span><span><a href="https://developer.wordpress.org/block-editor/getting-started/">Getting Started</a></span><span><a href="https://developer.wordpress.org/block-editor/getting-started/fundamentals/">Fundamentals of Block Development</a></span><span class="is-current-page">The block in the Editor</span></div></div>  <!-- Full breadcrumbs HTML -->
    <h1>The block in the Editor</h1>
    
    
    <div class="content"><div class="entry-content wp-block-post-content is-layout-flow wp-block-post-content-is-layout-flow"><p>The Block Editor is a React Single Page Application (SPA). Every block in the Editor is displayed through a React component defined in the <code>edit</code> property of the settings object used to <a href="https://developer.notmatt.press/block-editor/getting-started/fundamentals/registration-of-a-block/#registering-a-block-with-javascript-client-side">register the block</a> on the client.</p>
<p>The <code>props</code> object received by the block’s <code>Edit</code> React component includes:</p>
<ul>
<li><strong><a href="https://developer.notmatt.press/block-editor/reference-guides/block-api/block-edit-save/#attributes"><code>attributes</code></a>:</strong> An object of all the block’s attributes.</li>
<li><strong><a href="https://developer.notmatt.press/block-editor/reference-guides/block-api/block-edit-save/#setattributes"><code>setAttributes</code></a>:</strong> A method to update the attributes object.</li>
<li><strong><a href="https://developer.notmatt.press/block-editor/reference-guides/block-api/block-edit-save/#isselected"><code>isSelected</code></a>:</strong> A boolean value that communicates whether the block is currently selected</li>
</ul>
<p>WordPress provides many built-in standard components that can be used to define the block interface in the Editor. These built-in components are available via packages such as <a href="https://developer.notmatt.press/block-editor/reference-guides/packages/packages-components/"><code>@wordpress/components</code></a> and <a href="https://developer.notmatt.press/block-editor/reference-guides/packages/packages-block-editor/"><code>@wordpress/block-editor</code></a>.</p>
<div class="callout">
    The WordPress Gutenberg project uses <a href="https://wordpress.github.io/gutenberg/?path=/docs/docs-introduction--page">Storybook</a> to document the user interface components that are available in WordPress packages.
</div>
<p>Custom settings controls for the block in the Block Toolbar or the Settings Sidebar can also be defined through this <code>Edit</code> React component via built-in components such as:</p>
<ul>
<li><a href="https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/inspector-controls/README.md"><code>InspectorControls</code></a> </li>
<li><a href="https://github.com/WordPress/gutenberg/tree/trunk/packages/block-editor/src/components/block-controls"><code>BlockControls</code></a> </li>
</ul>
<h2 class="is-toc-heading" id="built-in-components" tabindex="-1"><a href="#built-in-components">Built-in components</a></h2>
<p>The package <a href="https://developer.notmatt.press/block-editor/reference-guides/packages/packages-components/"><code>@wordpress/components</code></a> includes a library of generic WordPress components to create common UI elements for the Block Editor and the WordPress dashboard. Some of the  most commonly used components from this package are:</p>
<ul>
<li><a href="https://wordpress.github.io/gutenberg/?path=/docs/components-textcontrol--docs"><code>TextControl</code></a> </li>
<li><a href="https://wordpress.github.io/gutenberg/?path=/docs/components-panel--docs"><code>Panel</code></a></li>
<li><a href="https://wordpress.github.io/gutenberg/?path=/docs/components-togglecontrol--docs"><code>ToggleControl</code></a></li>
<li><a href="https://wordpress.github.io/gutenberg/?path=/docs/components-externallink--docs"><code>ExternalLink</code></a></li>
</ul>
<p>The package <a href="https://developer.notmatt.press/block-editor/reference-guides/packages/packages-block-editor/"><code>@wordpress/block-editor</code></a> includes a library of components and hooks for the Block Editor, including those to define custom settings controls for the block. Some of the components most commonly used from this package are:</p>
<ul>
<li><a href="https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/rich-text/README.md"><code>RichText</code></a></li>
<li><a href="https://github.com/WordPress/gutenberg/tree/trunk/packages/block-editor/src/components/block-controls"><code>BlockControls</code></a></li>
<li><a href="https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/inspector-controls/README.md"><code>InspectorControls</code></a></li>
<li><a href="https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/inner-blocks/README.md"><code>InnerBlocks</code></a></li>
</ul>
<div class="callout callout-info">
    The package <a href="https://developer.notmatt.press/block-editor/reference-guides/packages/packages-block-editor/"><code>@wordpress/block-editor</code></a> also provides the tools to create and use standalone block editors.
</div>
<p>A good workflow when using a component for the Block Editor is:</p>
<ul>
<li>Import the component from a WordPress package.</li>
<li>Add the corresponding code for the component to your project in JSX format.</li>
<li>Most built-in components will be used to set <a href="https://developer.notmatt.press/block-editor/getting-started/fundamentals/block-json/#using-attributes-to-store-block-data">block attributes</a>, so define any necessary attributes in <code>block.json</code> and create event handlers to update those attributes with <code>setAttributes</code> in your component.</li>
<li>Adapt the code to be serialized and stored in the database if needed.</li>
</ul>
<h2 class="is-toc-heading" id="block-controls-block-toolbar-and-settings-sidebar" tabindex="-1"><a href="#block-controls-block-toolbar-and-settings-sidebar">Block Controls: Block Toolbar and Settings Sidebar</a></h2>
<p>To simplify block customization and ensure a consistent user experience, there are several built-in UI patterns to help generate the Editor preview of a block.</p>
<p>The image below details the Block Toolbar and the Settings Sidebar of a selected Paragraph block.</p>
<p><img alt="Diagram showing the Block Toolbar and the Settings Sidebar when a Paragraph block is selected" data-recalc-dims="1" decoding="async" src="https://i0.wp.com/developer.wordpress.org/files/2023/12/block-toolbar-settings-sidebar.png?ssl=1"/></p>
<h3 class="is-toc-heading" id="block-toolbar" tabindex="-1"><a href="#block-toolbar">Block Toolbar</a></h3>
<p>When the user selects a block, a number of control buttons may be shown in a toolbar above the selected block. Some of these block-level controls may be included automatically, but you can also customize the toolbar to include controls specific to your block type. If the return value of your block type’s <code>Edit</code> function includes a <code>BlockControls</code> element, those controls will be shown in the selected block’s toolbar.</p>
<pre><code class="language-jsx">export default function Edit( { className, attributes: attr, setAttributes } ) {

    const onChangeContent = ( newContent ) =&gt; {
        setAttributes( { content: newContent } );
    };

    const onChangeAlignment = ( newAlignment ) =&gt; {
        setAttributes( {
            alignment: newAlignment === undefined ? 'none' : newAlignment,
        } );
    };

    return (
        &lt;div { ...useBlockProps() }&gt;
            &lt;BlockControls&gt;
                &lt;ToolbarGroup&gt;
                    &lt;AlignmentToolbar
                        value={ attr.alignment }
                        onChange={ onChangeAlignment }
                    /&gt;
                &lt;/ToolbarGroup&gt;
            &lt;/BlockControls&gt;

            &lt;RichText
                className={ className }
                style={ { textAlign: attr.alignment } }
                tagName="p"
                onChange={ onChangeContent }
                value={ attr.content }
            /&gt;
        &lt;/div&gt;
    );
}
</code></pre>
<p><em>See the <a href="https://github.com/WordPress/block-development-examples/tree/trunk/plugins/block-toolbar-ab967f">full block example</a> of the <a href="https://github.com/WordPress/block-development-examples/blob/trunk/plugins/block-toolbar-ab967f/src/edit.js">code above</a>.</em></p>
<p>Note that <code>BlockControls</code> is only visible when the block is currently selected and in visual editing mode. <code>BlockControls</code> are not shown when editing a block in HTML editing mode.</p>
<h3 class="is-toc-heading" id="settings-sidebar" tabindex="-1"><a href="#settings-sidebar">Settings Sidebar</a></h3>
<p>The Settings Sidebar is used to display less-often-used settings or those that require more screen space. The Settings Sidebar should be used for <strong>block-level settings only</strong> and is shown when a block is selected.</p>
<p>If a setting only affects selected content inside a block, such as “bolding” text, <strong>do not place the setting inside the Settings Sidebar</strong>. Use a toolbar instead. The Settings Sidebar is displayed even when editing a block in HTML mode, so it should only contain block-level settings.</p>
<p>Similar to rendering a toolbar, if you include an <code>InspectorControls</code> component in the <code>return</code> value of your block type’s <code>Edit</code> function, those controls will be shown in the Settings Sidebar region.</p>
<pre><code class="language-jsx">export default function Edit( { attributes, setAttributes } ) {
    const onChangeBGColor = ( hexColor ) =&gt; {
        setAttributes( { bg_color: hexColor } );
    };

    const onChangeTextColor = ( hexColor ) =&gt; {
        setAttributes( { text_color: hexColor } );
    };

    return (
        &lt;div { ...useBlockProps() }&gt;
            &lt;InspectorControls key="setting"&gt;
                &lt;div&gt;
                    &lt;fieldset&gt;
                        &lt;legend className="blocks-base-control__label"&gt;
                            { __( 'Background color', 'block-development-examples' ) }
                        &lt;/legend&gt;
                        &lt;ColorPalette // Element Tag for Gutenberg standard color selector
                            onChange={ onChangeBGColor } // onChange event callback
                        /&gt;
                    &lt;/fieldset&gt;
                    &lt;fieldset&gt;
                        &lt;legend className="blocks-base-control__label"&gt;
                            { __( 'Text color', 'block-development-examples' ) }
                        &lt;/legend&gt;
                        &lt;ColorPalette
                            onChange={ onChangeTextColor }
                        /&gt;
                    &lt;/fieldset&gt;
                &lt;/div&gt;
            &lt;/InspectorControls&gt;
            &lt;TextControl
                __nextHasNoMarginBottom
                __next40pxDefaultSize
                value={ attributes.message }
                onChange={ ( val ) =&gt; setAttributes( { message: val } ) }
                style={ {
                    backgroundColor: attributes.bg_color,
                    color: attributes.text_color,
                } }
            /&gt;
        &lt;/div&gt;
    );
}
</code></pre>
<p><em>See the <a href="https://github.com/WordPress/block-development-examples/tree/trunk/plugins/settings-sidebar-82c525">full block example</a> of the <a href="https://github.com/WordPress/block-development-examples/blob/trunk/plugins/settings-sidebar-82c525/src/edit.js">code above</a>.</em></p>
<p>Block controls rendered in both the toolbar and sidebar will also be available when multiple blocks of the same type are selected.</p>
<div class="callout callout-note">
    For common customization settings, including color, border, spacing, and more, you can rely on <a href="https://developer.notmatt.press/block-editor/getting-started/fundamentals/block-json/#enable-ui-settings-panels-for-the-block-with-supports">block supports</a> instead of a custom solution. Block supports provide a consistent UI with the same functionality as other Core blocks.
</div>
<h2 class="is-toc-heading" id="additional-resources" tabindex="-1"><a href="#additional-resources">Additional resources</a></h2>
<ul>
<li><a href="https://wordpress.github.io/gutenberg/?path=/docs/docs-introduction--page">Storybook for WordPress components</a></li>
<li><a href="https://developer.notmatt.press/block-editor/reference-guides/packages/packages-block-editor/">@wordpress/block-editor</a></li>
<li><a href="https://developer.notmatt.press/block-editor/reference-guides/packages/packages-components/">@wordpress/components</a></li>
<li><a href="https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/inspector-controls/README.md"><code>InspectorControls</code></a></li>
<li><a href="https://github.com/WordPress/gutenberg/tree/trunk/packages/block-editor/src/components/block-controls"><code>BlockControls</code></a></li>
</ul>
</div></div>
    </div>
<footer class="text-center mt-10 py-5">
    <p class="text-sm"><a href="https://notmatt.press">NotMattPress</a>.</p>
</footer>
</body>
</html>
